{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/utils/instance.ts"],"sourcesContent":["/**\n * Check if the frontendApi ends with a staging domain\n */\nexport function isStaging(frontendApi: string): boolean {\n  return (\n    frontendApi.endsWith('.lclstage.dev') ||\n    frontendApi.endsWith('.stgstage.dev') ||\n    frontendApi.endsWith('.clerkstage.dev') ||\n    frontendApi.endsWith('.accountsstage.dev')\n  );\n}\n"],"names":[],"mappings":";;;;AAGO,SAAS,UAAU,WAAA,EAA8B;IACtD,OACE,YAAY,QAAA,CAAS,eAAe,KACpC,YAAY,QAAA,CAAS,eAAe,KACpC,YAAY,QAAA,CAAS,iBAAiB,KACtC,YAAY,QAAA,CAAS,oBAAoB;AAE7C","debugId":null}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/constants.ts"],"sourcesContent":["export const LEGACY_DEV_INSTANCE_SUFFIXES = ['.lcl.dev', '.lclstage.dev', '.lclclerk.com'];\nexport const CURRENT_DEV_INSTANCE_SUFFIXES = ['.accounts.dev', '.accountsstage.dev', '.accounts.lclclerk.com'];\nexport const DEV_OR_STAGING_SUFFIXES = [\n  '.lcl.dev',\n  '.stg.dev',\n  '.lclstage.dev',\n  '.stgstage.dev',\n  '.dev.lclclerk.com',\n  '.stg.lclclerk.com',\n  '.accounts.lclclerk.com',\n  'accountsstage.dev',\n  'accounts.dev',\n];\nexport const LOCAL_ENV_SUFFIXES = ['.lcl.dev', 'lclstage.dev', '.lclclerk.com', '.accounts.lclclerk.com'];\nexport const STAGING_ENV_SUFFIXES = ['.accountsstage.dev'];\nexport const LOCAL_API_URL = 'https://api.lclclerk.com';\nexport const STAGING_API_URL = 'https://api.clerkstage.dev';\nexport const PROD_API_URL = 'https://api.clerk.com';\n\n/**\n * Returns the URL for a static image\n * using the new img.clerk.com service\n */\nexport function iconImageUrl(id: string, format: 'svg' | 'jpeg' = 'svg'): string {\n  return `https://img.clerk.com/static/${id}.${format}`;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAO,IAAM,+BAA+B;IAAC;IAAY;IAAiB,eAAe;CAAA;AAClF,IAAM,gCAAgC;IAAC;IAAiB;IAAsB,wBAAwB;CAAA;AACtG,IAAM,0BAA0B;IACrC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACF;AACO,IAAM,qBAAqB;IAAC;IAAY;IAAgB;IAAiB,wBAAwB;CAAA;AACjG,IAAM,uBAAuB;IAAC,oBAAoB;CAAA;AAClD,IAAM,gBAAgB;AACtB,IAAM,kBAAkB;AACxB,IAAM,eAAe;AAMrB,SAAS,aAAa,EAAA,EAAY,SAAyB,KAAA,EAAe;IAC/E,OAAO,CAAA,6BAAA,EAAgC,EAAE,CAAA,CAAA,EAAI,MAAM,EAAA;AACrD","debugId":null}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/url.ts"],"sourcesContent":["import { CURRENT_DEV_INSTANCE_SUFFIXES, LEGACY_DEV_INSTANCE_SUFFIXES } from './constants';\nimport { isStaging } from './utils/instance';\n\nexport function parseSearchParams(queryString = ''): URLSearchParams {\n  if (queryString.startsWith('?')) {\n    queryString = queryString.slice(1);\n  }\n  return new URLSearchParams(queryString);\n}\n\nexport function stripScheme(url = ''): string {\n  return (url || '').replace(/^.+:\\/\\//, '');\n}\n\nexport function addClerkPrefix(str: string | undefined) {\n  if (!str) {\n    return '';\n  }\n  let regex;\n  if (str.match(/^(clerk\\.)+\\w*$/)) {\n    regex = /(clerk\\.)*(?=clerk\\.)/;\n  } else if (str.match(/\\.clerk.accounts/)) {\n    return str;\n  } else {\n    regex = /^(clerk\\.)*/gi;\n  }\n\n  const stripped = str.replace(regex, '');\n  return `clerk.${stripped}`;\n}\n\n/**\n *\n * Retrieve the clerk-js major tag using the major version from the pkgVersion\n * param or use the frontendApi to determine if the canary tag should be used.\n * The default tag is `latest`.\n */\nexport const getClerkJsMajorVersionOrTag = (frontendApi: string, version?: string) => {\n  if (!version && isStaging(frontendApi)) {\n    return 'canary';\n  }\n\n  if (!version) {\n    return 'latest';\n  }\n\n  return version.split('.')[0] || 'latest';\n};\n\n/**\n *\n * Retrieve the clerk-js script url from the frontendApi and the major tag\n * using the {@link getClerkJsMajorVersionOrTag} or a provided clerkJSVersion tag.\n */\nexport const getScriptUrl = (frontendApi: string, { clerkJSVersion }: { clerkJSVersion?: string }) => {\n  const noSchemeFrontendApi = frontendApi.replace(/http(s)?:\\/\\//, '');\n  const major = getClerkJsMajorVersionOrTag(frontendApi, clerkJSVersion);\n  return `https://${noSchemeFrontendApi}/npm/@clerk/clerk-js@${clerkJSVersion || major}/dist/clerk.browser.js`;\n};\n\n// Returns true for hosts such as:\n// * accounts.foo.bar-13.lcl.dev\n// * accounts.foo.bar-13.lclstage.dev\n// * accounts.foo.bar-13.dev.lclclerk.com\nexport function isLegacyDevAccountPortalOrigin(host: string): boolean {\n  return LEGACY_DEV_INSTANCE_SUFFIXES.some(legacyDevSuffix => {\n    return host.startsWith('accounts.') && host.endsWith(legacyDevSuffix);\n  });\n}\n\n// Returns true for hosts such as:\n// * foo-bar-13.accounts.dev\n// * foo-bar-13.accountsstage.dev\n// * foo-bar-13.accounts.lclclerk.com\n// But false for:\n// * foo-bar-13.clerk.accounts.lclclerk.com\nexport function isCurrentDevAccountPortalOrigin(host: string): boolean {\n  return CURRENT_DEV_INSTANCE_SUFFIXES.some(currentDevSuffix => {\n    return host.endsWith(currentDevSuffix) && !host.endsWith('.clerk' + currentDevSuffix);\n  });\n}\n\n/* Functions below are taken from https://github.com/unjs/ufo/blob/main/src/utils.ts. LICENSE: MIT */\n\nconst TRAILING_SLASH_RE = /\\/$|\\/\\?|\\/#/;\n\nexport function hasTrailingSlash(input = '', respectQueryAndFragment?: boolean): boolean {\n  if (!respectQueryAndFragment) {\n    return input.endsWith('/');\n  }\n  return TRAILING_SLASH_RE.test(input);\n}\n\nexport function withTrailingSlash(input = '', respectQueryAndFragment?: boolean): string {\n  if (!respectQueryAndFragment) {\n    return input.endsWith('/') ? input : input + '/';\n  }\n  if (hasTrailingSlash(input, true)) {\n    return input || '/';\n  }\n  let path = input;\n  let fragment = '';\n  const fragmentIndex = input.indexOf('#');\n  if (fragmentIndex >= 0) {\n    path = input.slice(0, fragmentIndex);\n    fragment = input.slice(fragmentIndex);\n    if (!path) {\n      return fragment;\n    }\n  }\n  const [s0, ...s] = path.split('?');\n  return s0 + '/' + (s.length > 0 ? `?${s.join('?')}` : '') + fragment;\n}\n\nexport function withoutTrailingSlash(input = '', respectQueryAndFragment?: boolean): string {\n  if (!respectQueryAndFragment) {\n    return (hasTrailingSlash(input) ? input.slice(0, -1) : input) || '/';\n  }\n  if (!hasTrailingSlash(input, true)) {\n    return input || '/';\n  }\n  let path = input;\n  let fragment = '';\n  const fragmentIndex = input.indexOf('#');\n  if (fragmentIndex >= 0) {\n    path = input.slice(0, fragmentIndex);\n    fragment = input.slice(fragmentIndex);\n  }\n  const [s0, ...s] = path.split('?');\n  return (s0.slice(0, -1) || '/') + (s.length > 0 ? `?${s.join('?')}` : '') + fragment;\n}\n\nexport function hasLeadingSlash(input = ''): boolean {\n  return input.startsWith('/');\n}\n\nexport function withoutLeadingSlash(input = ''): string {\n  return (hasLeadingSlash(input) ? input.slice(1) : input) || '/';\n}\n\nexport function withLeadingSlash(input = ''): string {\n  return hasLeadingSlash(input) ? input : '/' + input;\n}\n\nexport function cleanDoubleSlashes(input = ''): string {\n  return input\n    .split('://')\n    .map(string_ => string_.replace(/\\/{2,}/g, '/'))\n    .join('://');\n}\n\nexport function isNonEmptyURL(url: string) {\n  return url && url !== '/';\n}\n\nconst JOIN_LEADING_SLASH_RE = /^\\.?\\//;\n\nexport function joinURL(base: string, ...input: string[]): string {\n  let url = base || '';\n\n  for (const segment of input.filter(url => isNonEmptyURL(url))) {\n    if (url) {\n      // TODO: Handle .. when joining\n      const _segment = segment.replace(JOIN_LEADING_SLASH_RE, '');\n      url = withTrailingSlash(url) + _segment;\n    } else {\n      url = segment;\n    }\n  }\n\n  return url;\n}\n\n/* Code below is taken from https://github.com/vercel/next.js/blob/fe7ff3f468d7651a92865350bfd0f16ceba27db5/packages/next/src/shared/lib/utils.ts. LICENSE: MIT */\n\n// Scheme: https://tools.ietf.org/html/rfc3986#section-3.1\n// Absolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\nconst ABSOLUTE_URL_REGEX = /^[a-zA-Z][a-zA-Z\\d+\\-.]*?:/;\nexport const isAbsoluteUrl = (url: string) => ABSOLUTE_URL_REGEX.test(url);\n"],"names":["url"],"mappings":"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","debugId":null}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":[],"sourcesContent":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 266, "column": 0}, "map": {"version":3,"sources":[],"sourcesContent":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/retry.ts"],"sourcesContent":["type Milliseconds = number;\n\ntype RetryOptions = Partial<{\n  /**\n   * The initial delay before the first retry.\n   * @default 125\n   */\n  initialDelay: Milliseconds;\n  /**\n   * The maximum delay between retries.\n   * The delay between retries will never exceed this value.\n   * If set to 0, the delay will increase indefinitely.\n   * @default 0\n   */\n  maxDelayBetweenRetries: Milliseconds;\n  /**\n   * The multiplier for the exponential backoff.\n   * @default 2\n   */\n  factor: number;\n  /**\n   * A function to determine if the operation should be retried.\n   * The callback accepts the error that was thrown and the number of iterations.\n   * The iterations variable references the number of retries AFTER attempt\n   * that caused the error and starts at 1 (as in, this is the 1st, 2nd, nth retry).\n   * @default (error, iterations) => iterations < 5\n   */\n  shouldRetry: (error: unknown, iterations: number) => boolean;\n  /**\n   * Controls whether the helper should retry the operation immediately once before applying exponential backoff.\n   * The delay for the immediate retry is 100ms.\n   * @default false\n   */\n  retryImmediately: boolean;\n  /**\n   * If true, the intervals will be multiplied by a factor in the range of [1,2].\n   * @default true\n   */\n  jitter: boolean;\n}>;\n\nconst defaultOptions: Required<RetryOptions> = {\n  initialDelay: 125,\n  maxDelayBetweenRetries: 0,\n  factor: 2,\n  shouldRetry: (_: unknown, iteration: number) => iteration < 5,\n  retryImmediately: false,\n  jitter: true,\n};\n\nconst RETRY_IMMEDIATELY_DELAY = 100;\n\nconst sleep = async (ms: Milliseconds) => new Promise(s => setTimeout(s, ms));\n\nconst applyJitter = (delay: Milliseconds, jitter: boolean) => {\n  return jitter ? delay * (1 + Math.random()) : delay;\n};\n\nconst createExponentialDelayAsyncFn = (\n  opts: Required<Pick<RetryOptions, 'initialDelay' | 'maxDelayBetweenRetries' | 'factor' | 'jitter'>>,\n) => {\n  let timesCalled = 0;\n\n  const calculateDelayInMs = () => {\n    const constant = opts.initialDelay;\n    const base = opts.factor;\n    let delay = constant * Math.pow(base, timesCalled);\n    delay = applyJitter(delay, opts.jitter);\n    return Math.min(opts.maxDelayBetweenRetries || delay, delay);\n  };\n\n  return async (): Promise<void> => {\n    await sleep(calculateDelayInMs());\n    timesCalled++;\n  };\n};\n\n/**\n * Retries a callback until it succeeds or the shouldRetry function returns false.\n * See {@link RetryOptions} for the available options.\n */\nexport const retry = async <T>(callback: () => T | Promise<T>, options: RetryOptions = {}): Promise<T> => {\n  let iterations = 0;\n  const { shouldRetry, initialDelay, maxDelayBetweenRetries, factor, retryImmediately, jitter } = {\n    ...defaultOptions,\n    ...options,\n  };\n\n  const delay = createExponentialDelayAsyncFn({\n    initialDelay,\n    maxDelayBetweenRetries,\n    factor,\n    jitter,\n  });\n\n  while (true) {\n    try {\n      return await callback();\n    } catch (e) {\n      iterations++;\n      if (!shouldRetry(e, iterations)) {\n        throw e;\n      }\n      if (retryImmediately && iterations === 1) {\n        await sleep(applyJitter(RETRY_IMMEDIATELY_DELAY, jitter));\n      } else {\n        await delay();\n      }\n    }\n  }\n};\n"],"names":[],"mappings":";;;;AAyCA,IAAM,iBAAyC;IAC7C,cAAc;IACd,wBAAwB;IACxB,QAAQ;IACR,aAAa,CAAC,GAAY,YAAsB,YAAY;IAC5D,kBAAkB;IAClB,QAAQ;AACV;AAEA,IAAM,0BAA0B;AAEhC,IAAM,QAAQ,OAAO,KAAqB,IAAI,QAAQ,CAAA,IAAK,WAAW,GAAG,EAAE,CAAC;AAE5E,IAAM,cAAc,CAAC,OAAqB,WAAoB;IAC5D,OAAO,SAAS,QAAA,CAAS,IAAI,KAAK,MAAA,CAAO,CAAA,IAAK;AAChD;AAEA,IAAM,gCAAgC,CACpC,SACG;IACH,IAAI,cAAc;IAElB,MAAM,qBAAqB,MAAM;QAC/B,MAAM,WAAW,KAAK,YAAA;QACtB,MAAM,OAAO,KAAK,MAAA;QAClB,IAAI,QAAQ,WAAW,KAAK,GAAA,CAAI,MAAM,WAAW;QACjD,QAAQ,YAAY,OAAO,KAAK,MAAM;QACtC,OAAO,KAAK,GAAA,CAAI,KAAK,sBAAA,IAA0B,OAAO,KAAK;IAC7D;IAEA,OAAO,YAA2B;QAChC,MAAM,MAAM,mBAAmB,CAAC;QAChC;IACF;AACF;AAMO,IAAM,QAAQ,OAAU,UAAgC,UAAwB,CAAC,CAAA,KAAkB;IACxG,IAAI,aAAa;IACjB,MAAM,EAAE,WAAA,EAAa,YAAA,EAAc,sBAAA,EAAwB,MAAA,EAAQ,gBAAA,EAAkB,MAAA,CAAO,CAAA,GAAI;QAC9F,GAAG,cAAA;QACH,GAAG,OAAA;IACL;IAEA,MAAM,QAAQ,8BAA8B;QAC1C;QACA;QACA;QACA;IACF,CAAC;IAED,MAAO,KAAM;QACX,IAAI;YACF,OAAO,MAAM,SAAS;QACxB,EAAA,OAAS,GAAG;YACV;YACA,IAAI,CAAC,YAAY,GAAG,UAAU,GAAG;gBAC/B,MAAM;YACR;YACA,IAAI,oBAAoB,eAAe,GAAG;gBACxC,MAAM,MAAM,YAAY,yBAAyB,MAAM,CAAC;YAC1D,OAAO;gBACL,MAAM,MAAM;YACd;QACF;IACF;AACF","debugId":null}},
    {"offset": {"line": 356, "column": 0}, "map": {"version":3,"sources":[],"sourcesContent":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 375, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/isomorphicAtob.ts"],"sourcesContent":["/**\n * A function that decodes a string of data which has been encoded using base-64 encoding.\n * Uses `atob` if available, otherwise uses `Buffer` from `global`. If neither are available, returns the data as-is.\n */\nexport const isomorphicAtob = (data: string) => {\n  if (typeof atob !== 'undefined' && typeof atob === 'function') {\n    return atob(data);\n  } else if (typeof global !== 'undefined' && global.Buffer) {\n    return new global.Buffer(data, 'base64').toString();\n  }\n  return data;\n};\n"],"names":[],"mappings":";;;;AAIO,IAAM,iBAAiB,CAAC,SAAiB;IAC9C,IAAI,OAAO,SAAS,eAAe,OAAO,SAAS,YAAY;QAC7D,OAAO,KAAK,IAAI;IAClB,OAAA,IAAW,OAAO,wCAAW,eAAe,4CAAO,MAAA,EAAQ;QACzD,OAAO,IAAI,4CAAO,MAAA,CAAO,MAAM,QAAQ,EAAE,QAAA,CAAS;IACpD;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 393, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/isomorphicBtoa.ts"],"sourcesContent":["export const isomorphicBtoa = (data: string) => {\n  if (typeof btoa !== 'undefined' && typeof btoa === 'function') {\n    return btoa(data);\n  } else if (typeof global !== 'undefined' && global.Buffer) {\n    return new global.Buffer(data).toString('base64');\n  }\n  return data;\n};\n"],"names":[],"mappings":";;;;AAAO,IAAM,iBAAiB,CAAC,SAAiB;IAC9C,IAAI,OAAO,SAAS,eAAe,OAAO,SAAS,YAAY;QAC7D,OAAO,KAAK,IAAI;IAClB,OAAA,IAAW,OAAO,wCAAW,eAAe,4CAAO,MAAA,EAAQ;QACzD,OAAO,IAAI,4CAAO,MAAA,CAAO,IAAI,EAAE,QAAA,CAAS,QAAQ;IAClD;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 411, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/keys.ts"],"sourcesContent":["import type { PublishableKey } from '@clerk/types';\n\nimport { DEV_OR_STAGING_SUFFIXES, LEGACY_DEV_INSTANCE_SUFFIXES } from './constants';\nimport { isomorphicAtob } from './isomorphicAtob';\nimport { isomorphicBtoa } from './isomorphicBtoa';\n\n/**\n * Configuration options for parsing publishable keys.\n */\ntype ParsePublishableKeyOptions = {\n  /** Whether to throw an error if parsing fails */\n  fatal?: boolean;\n  /** Custom domain to use for satellite instances */\n  domain?: string;\n  /** Proxy URL to use instead of the decoded frontend API */\n  proxyUrl?: string;\n  /** Whether this is a satellite instance */\n  isSatellite?: boolean;\n};\n\n/** Prefix used for production publishable keys */\nconst PUBLISHABLE_KEY_LIVE_PREFIX = 'pk_live_';\n\n/** Prefix used for development publishable keys */\nconst PUBLISHABLE_KEY_TEST_PREFIX = 'pk_test_';\n\n/**\n * Regular expression that matches development frontend API keys.\n * Matches patterns like: foo-bar-13.clerk.accounts.dev.\n */\nconst PUBLISHABLE_FRONTEND_API_DEV_REGEX = /^(([a-z]+)-){2}([0-9]{1,2})\\.clerk\\.accounts([a-z.]*)(dev|com)$/i;\n\n/**\n * Converts a frontend API URL into a base64-encoded publishable key.\n *\n * @param frontendApi - The frontend API URL (e.g., 'clerk.example.com').\n * @returns A base64-encoded publishable key with appropriate prefix (pk_live_ or pk_test_).\n */\nexport function buildPublishableKey(frontendApi: string): string {\n  const isDevKey =\n    PUBLISHABLE_FRONTEND_API_DEV_REGEX.test(frontendApi) ||\n    (frontendApi.startsWith('clerk.') && LEGACY_DEV_INSTANCE_SUFFIXES.some(s => frontendApi.endsWith(s)));\n  const keyPrefix = isDevKey ? PUBLISHABLE_KEY_TEST_PREFIX : PUBLISHABLE_KEY_LIVE_PREFIX;\n  return `${keyPrefix}${isomorphicBtoa(`${frontendApi}$`)}`;\n}\n\n/**\n * Validates that a decoded publishable key has the correct format.\n * The decoded value should be a frontend API followed by exactly one '$' at the end.\n *\n * @param decoded - The decoded publishable key string to validate.\n * @returns `true` if the decoded key has valid format, `false` otherwise.\n */\nfunction isValidDecodedPublishableKey(decoded: string): boolean {\n  if (!decoded.endsWith('$')) {\n    return false;\n  }\n\n  const withoutTrailing = decoded.slice(0, -1);\n  if (withoutTrailing.includes('$')) {\n    return false;\n  }\n\n  return withoutTrailing.includes('.');\n}\n\nexport function parsePublishableKey(\n  key: string | undefined,\n  options: ParsePublishableKeyOptions & { fatal: true },\n): PublishableKey;\nexport function parsePublishableKey(\n  key: string | undefined,\n  options?: ParsePublishableKeyOptions,\n): PublishableKey | null;\n/**\n * Parses and validates a publishable key, extracting the frontend API and instance type.\n *\n * @param key - The publishable key to parse.\n * @param options - Configuration options for parsing.\n * @param options.fatal\n * @param options.domain\n * @param options.proxyUrl\n * @param options.isSatellite\n * @returns Parsed publishable key object with instanceType and frontendApi, or null if invalid.\n *\n * @throws {Error} When options.fatal is true and key is missing or invalid.\n */\nexport function parsePublishableKey(\n  key: string | undefined,\n  options: { fatal?: boolean; domain?: string; proxyUrl?: string; isSatellite?: boolean } = {},\n): PublishableKey | null {\n  key = key || '';\n\n  if (!key || !isPublishableKey(key)) {\n    if (options.fatal && !key) {\n      throw new Error(\n        'Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys',\n      );\n    }\n    if (options.fatal && !isPublishableKey(key)) {\n      throw new Error('Publishable key not valid.');\n    }\n    return null;\n  }\n\n  const instanceType = key.startsWith(PUBLISHABLE_KEY_LIVE_PREFIX) ? 'production' : 'development';\n\n  let decodedFrontendApi: string;\n  try {\n    decodedFrontendApi = isomorphicAtob(key.split('_')[2]);\n  } catch {\n    if (options.fatal) {\n      throw new Error('Publishable key not valid: Failed to decode key.');\n    }\n    return null;\n  }\n\n  if (!isValidDecodedPublishableKey(decodedFrontendApi)) {\n    if (options.fatal) {\n      throw new Error('Publishable key not valid: Decoded key has invalid format.');\n    }\n    return null;\n  }\n\n  let frontendApi = decodedFrontendApi.slice(0, -1);\n\n  if (options.proxyUrl) {\n    frontendApi = options.proxyUrl;\n  } else if (instanceType !== 'development' && options.domain && options.isSatellite) {\n    frontendApi = `clerk.${options.domain}`;\n  }\n\n  return {\n    instanceType,\n    frontendApi,\n  };\n}\n\n/**\n * Checks if the provided key is a valid publishable key.\n *\n * @param key - The key to be checked. Defaults to an empty string if not provided.\n * @returns `true` if 'key' is a valid publishable key, `false` otherwise.\n */\nexport function isPublishableKey(key: string = '') {\n  try {\n    const hasValidPrefix = key.startsWith(PUBLISHABLE_KEY_LIVE_PREFIX) || key.startsWith(PUBLISHABLE_KEY_TEST_PREFIX);\n\n    if (!hasValidPrefix) {\n      return false;\n    }\n\n    const parts = key.split('_');\n    if (parts.length !== 3) {\n      return false;\n    }\n\n    const encodedPart = parts[2];\n    if (!encodedPart) {\n      return false;\n    }\n\n    const decoded = isomorphicAtob(encodedPart);\n    return isValidDecodedPublishableKey(decoded);\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Creates a memoized cache for checking if URLs are development or staging environments.\n * Uses a Map to cache results for better performance on repeated checks.\n *\n * @returns An object with an isDevOrStagingUrl method that checks if a URL is dev/staging.\n */\nexport function createDevOrStagingUrlCache() {\n  const devOrStagingUrlCache = new Map<string, boolean>();\n\n  return {\n    /**\n     * Checks if a URL is a development or staging environment.\n     *\n     * @param url - The URL to check (string or URL object).\n     * @returns `true` if the URL is a development or staging environment, `false` otherwise.\n     */\n    isDevOrStagingUrl: (url: string | URL): boolean => {\n      if (!url) {\n        return false;\n      }\n\n      const hostname = typeof url === 'string' ? url : url.hostname;\n      let res = devOrStagingUrlCache.get(hostname);\n      if (res === undefined) {\n        res = DEV_OR_STAGING_SUFFIXES.some(s => hostname.endsWith(s));\n        devOrStagingUrlCache.set(hostname, res);\n      }\n      return res;\n    },\n  };\n}\n\n/**\n * Checks if a publishable key is for a development environment.\n * Supports both legacy format (test_) and new format (pk_test_).\n *\n * @param apiKey - The API key to check.\n * @returns `true` if the key is for development, `false` otherwise.\n */\nexport function isDevelopmentFromPublishableKey(apiKey: string): boolean {\n  return apiKey.startsWith('test_') || apiKey.startsWith('pk_test_');\n}\n\n/**\n * Checks if a publishable key is for a production environment.\n * Supports both legacy format (live_) and new format (pk_live_).\n *\n * @param apiKey - The API key to check.\n * @returns `true` if the key is for production, `false` otherwise.\n */\nexport function isProductionFromPublishableKey(apiKey: string): boolean {\n  return apiKey.startsWith('live_') || apiKey.startsWith('pk_live_');\n}\n\n/**\n * Checks if a secret key is for a development environment.\n * Supports both legacy format (test_) and new format (sk_test_).\n *\n * @param apiKey - The secret key to check.\n * @returns `true` if the key is for development, `false` otherwise.\n */\nexport function isDevelopmentFromSecretKey(apiKey: string): boolean {\n  return apiKey.startsWith('test_') || apiKey.startsWith('sk_test_');\n}\n\n/**\n * Checks if a secret key is for a production environment.\n * Supports both legacy format (live_) and new format (sk_live_).\n *\n * @param apiKey - The secret key to check.\n * @returns `true` if the key is for production, `false` otherwise.\n */\nexport function isProductionFromSecretKey(apiKey: string): boolean {\n  return apiKey.startsWith('live_') || apiKey.startsWith('sk_live_');\n}\n\n/**\n * Generates a unique cookie suffix based on the publishable key using SHA-1 hashing.\n * The suffix is base64-encoded and URL-safe (+ and / characters are replaced).\n *\n * @param publishableKey - The publishable key to generate suffix from.\n * @param subtle - The SubtleCrypto interface to use for hashing (defaults to globalThis.crypto.subtle).\n * @returns A promise that resolves to an 8-character URL-safe base64 string.\n */\nexport async function getCookieSuffix(\n  publishableKey: string,\n  subtle: SubtleCrypto = globalThis.crypto.subtle,\n): Promise<string> {\n  const data = new TextEncoder().encode(publishableKey);\n  const digest = await subtle.digest('sha-1', data);\n  const stringDigest = String.fromCharCode(...new Uint8Array(digest));\n  // Base 64 Encoding with URL and Filename Safe Alphabet: https://datatracker.ietf.org/doc/html/rfc4648#section-5\n  return isomorphicBtoa(stringDigest).replace(/\\+/gi, '-').replace(/\\//gi, '_').substring(0, 8);\n}\n\n/**\n * Creates a suffixed cookie name by appending the cookie suffix to the base name.\n * Used to create unique cookie names based on the publishable key.\n *\n * @param cookieName - The base cookie name.\n * @param cookieSuffix - The suffix to append (typically generated by getCookieSuffix).\n * @returns The suffixed cookie name in format: `${cookieName}_${cookieSuffix}`.\n */\nexport const getSuffixedCookieName = (cookieName: string, cookieSuffix: string): string => {\n  return `${cookieName}_${cookieSuffix}`;\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 555, "column": 0}, "map": {"version":3,"sources":[],"sourcesContent":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 583, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/utils/runtimeEnvironment.ts"],"sourcesContent":["export const isDevelopmentEnvironment = (): boolean => {\n  try {\n    return process.env.NODE_ENV === 'development';\n    // eslint-disable-next-line no-empty\n  } catch {}\n\n  // TODO: add support for import.meta.env.DEV that is being used by vite\n\n  return false;\n};\n\nexport const isTestEnvironment = (): boolean => {\n  try {\n    return process.env.NODE_ENV === 'test';\n    // eslint-disable-next-line no-empty\n  } catch {}\n\n  // TODO: add support for import.meta.env.DEV that is being used by vite\n  return false;\n};\n\nexport const isProductionEnvironment = (): boolean => {\n  try {\n    return process.env.NODE_ENV === 'production';\n    // eslint-disable-next-line no-empty\n  } catch {}\n\n  // TODO: add support for import.meta.env.DEV that is being used by vite\n  return false;\n};\n"],"names":[],"mappings":";;;;;;AAAO,IAAM,2BAA2B,MAAe;IACrD,IAAI;QACF,OAAO,QAAQ,IAAI,wCAAa;IAElC,EAAA,OAAQ,CAAC;IAIT,OAAO;AACT;AAEO,IAAM,oBAAoB,MAAe;IAC9C,IAAI;QACF,OAAO,QAAQ,IAAI,wCAAa;IAElC,EAAA,OAAQ,CAAC;IAGT,OAAO;AACT;AAEO,IAAM,0BAA0B,MAAe;IACpD,IAAI;QACF,OAAO,QAAQ,IAAI,wCAAa;IAElC,EAAA,OAAQ,CAAC;IAGT,OAAO;AACT","debugId":null}},
    {"offset": {"line": 613, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/deprecated.ts"],"sourcesContent":["import { isProductionEnvironment, isTestEnvironment } from './utils/runtimeEnvironment';\n/**\n * Mark class method / function as deprecated.\n *\n * A console WARNING will be displayed when class method / function is invoked.\n *\n * Examples\n * 1. Deprecate class method\n * class Example {\n *   getSomething = (arg1, arg2) => {\n *       deprecated('Example.getSomething', 'Use `getSomethingElse` instead.');\n *       return `getSomethingValue:${arg1 || '-'}:${arg2 || '-'}`;\n *   };\n * }\n *\n * 2. Deprecate function\n * const getSomething = () => {\n *   deprecated('getSomething', 'Use `getSomethingElse` instead.');\n *   return 'getSomethingValue';\n * };\n */\nconst displayedWarnings = new Set<string>();\nexport const deprecated = (fnName: string, warning: string, key?: string): void => {\n  const hideWarning = isTestEnvironment() || isProductionEnvironment();\n  const messageId = key ?? fnName;\n  if (displayedWarnings.has(messageId) || hideWarning) {\n    return;\n  }\n  displayedWarnings.add(messageId);\n\n  console.warn(\n    `Clerk - DEPRECATION WARNING: \"${fnName}\" is deprecated and will be removed in the next major release.\\n${warning}`,\n  );\n};\n/**\n * Mark class property as deprecated.\n *\n * A console WARNING will be displayed when class property is being accessed.\n *\n * 1. Deprecate class property\n * class Example {\n *   something: string;\n *   constructor(something: string) {\n *     this.something = something;\n *   }\n * }\n *\n * deprecatedProperty(Example, 'something', 'Use `somethingElse` instead.');\n *\n * 2. Deprecate class static property\n * class Example {\n *   static something: string;\n * }\n *\n * deprecatedProperty(Example, 'something', 'Use `somethingElse` instead.', true);\n */\ntype AnyClass = new (...args: any[]) => any;\n\nexport const deprecatedProperty = (cls: AnyClass, propName: string, warning: string, isStatic = false): void => {\n  const target = isStatic ? cls : cls.prototype;\n\n  let value = target[propName];\n  Object.defineProperty(target, propName, {\n    get() {\n      deprecated(propName, warning, `${cls.name}:${propName}`);\n      return value;\n    },\n    set(v: unknown) {\n      value = v;\n    },\n  });\n};\n\n/**\n * Mark object property as deprecated.\n *\n * A console WARNING will be displayed when object property is being accessed.\n *\n * 1. Deprecate object property\n * const obj = { something: 'aloha' };\n *\n * deprecatedObjectProperty(obj, 'something', 'Use `somethingElse` instead.');\n */\nexport const deprecatedObjectProperty = (\n  obj: Record<string, any>,\n  propName: string,\n  warning: string,\n  key?: string,\n): void => {\n  let value = obj[propName];\n  Object.defineProperty(obj, propName, {\n    get() {\n      deprecated(propName, warning, key);\n      return value;\n    },\n    set(v: unknown) {\n      value = v;\n    },\n  });\n};\n"],"names":[],"mappings":";;;;;;;;AAqBA,IAAM,oBAAoB,aAAA,GAAA,IAAI,IAAY;AACnC,IAAM,aAAa,CAAC,QAAgB,SAAiB,QAAuB;IACjF,MAAM,oLAAc,oBAAA,CAAkB,OAAK,+LAAA,CAAwB;IACnE,MAAM,YAAY,OAAO;IACzB,IAAI,kBAAkB,GAAA,CAAI,SAAS,KAAK,aAAa;QACnD;IACF;IACA,kBAAkB,GAAA,CAAI,SAAS;IAE/B,QAAQ,IAAA,CACN,CAAA,8BAAA,EAAiC,MAAM,CAAA;AAAA,EAAmE,OAAO,EAAA;AAErH;AAyBO,IAAM,qBAAqB,CAAC,KAAe,UAAkB,SAAiB,WAAW,KAAA,KAAgB;IAC9G,MAAM,SAAS,WAAW,MAAM,IAAI,SAAA;IAEpC,IAAI,QAAQ,MAAA,CAAO,QAAQ,CAAA;IAC3B,OAAO,cAAA,CAAe,QAAQ,UAAU;QACtC,MAAM;YACJ,WAAW,UAAU,SAAS,GAAG,IAAI,IAAI,CAAA,CAAA,EAAI,QAAQ,EAAE;YACvD,OAAO;QACT;QACA,KAAI,CAAA,EAAY;YACd,QAAQ;QACV;IACF,CAAC;AACH;AAYO,IAAM,2BAA2B,CACtC,KACA,UACA,SACA,QACS;IACT,IAAI,QAAQ,GAAA,CAAI,QAAQ,CAAA;IACxB,OAAO,cAAA,CAAe,KAAK,UAAU;QACnC,MAAM;YACJ,WAAW,UAAU,SAAS,GAAG;YACjC,OAAO;QACT;QACA,KAAI,CAAA,EAAY;YACd,QAAQ;QACV;IACF,CAAC;AACH","debugId":null}},
    {"offset": {"line": 663, "column": 0}, "map": {"version":3,"sources":[],"sourcesContent":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 685, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/error.ts"],"sourcesContent":["import type {\n  ClerkAPIError,\n  ClerkAPIErrorJSON,\n  ClerkAPIResponseError as ClerkAPIResponseErrorInterface,\n} from '@clerk/types';\n\n/**\n * Checks if the provided error object is an unauthorized error.\n *\n * @internal\n *\n * @deprecated This is no longer used, and will be removed in the next major version.\n */\nexport function isUnauthorizedError(e: any): boolean {\n  const status = e?.status;\n  const code = e?.errors?.[0]?.code;\n  return code === 'authentication_invalid' && status === 401;\n}\n\n/**\n * Checks if the provided error object is a captcha error.\n *\n * @internal\n */\nexport function isCaptchaError(e: ClerkAPIResponseError): boolean {\n  return ['captcha_invalid', 'captcha_not_enabled', 'captcha_missing_token'].includes(e.errors[0].code);\n}\n\n/**\n * Checks if the provided error is a 4xx error.\n *\n * @internal\n */\nexport function is4xxError(e: any): boolean {\n  const status = e?.status;\n  return !!status && status >= 400 && status < 500;\n}\n\n/**\n * Checks if the provided error is a network error.\n *\n * @internal\n */\nexport function isNetworkError(e: any): boolean {\n  // TODO: revise during error handling epic\n  const message = (`${e.message}${e.name}` || '').toLowerCase().replace(/\\s+/g, '');\n  return message.includes('networkerror');\n}\n\n/**\n * Options for creating a ClerkAPIResponseError.\n *\n * @internal\n */\ninterface ClerkAPIResponseOptions {\n  data: ClerkAPIErrorJSON[];\n  status: number;\n  clerkTraceId?: string;\n  retryAfter?: number;\n}\n\n// For a comprehensive Metamask error list, please see\n// https://docs.metamask.io/guide/ethereum-provider.html#errors\nexport interface MetamaskError extends Error {\n  code: 4001 | 32602 | 32603;\n  message: string;\n  data?: unknown;\n}\n\n/**\n * Checks if the provided error is either a ClerkAPIResponseError, a ClerkRuntimeError, or a MetamaskError.\n *\n * @internal\n */\nexport function isKnownError(error: any): error is ClerkAPIResponseError | ClerkRuntimeError | MetamaskError {\n  return isClerkAPIResponseError(error) || isMetamaskError(error) || isClerkRuntimeError(error);\n}\n\n/**\n * Checks if the provided error is a ClerkAPIResponseError.\n *\n * @internal\n */\nexport function isClerkAPIResponseError(err: any): err is ClerkAPIResponseError {\n  return 'clerkError' in err;\n}\n\n/**\n * Checks if the provided error object is an instance of ClerkRuntimeError.\n *\n * @param err - The error object to check.\n * @returns True if the error is a ClerkRuntimeError, false otherwise.\n *\n * @example\n * const error = new ClerkRuntimeError('An error occurred');\n * if (isClerkRuntimeError(error)) {\n *   // Handle ClerkRuntimeError\n *   console.error('ClerkRuntimeError:', error.message);\n * } else {\n *   // Handle other errors\n *   console.error('Other error:', error.message);\n * }\n */\nexport function isClerkRuntimeError(err: any): err is ClerkRuntimeError {\n  return 'clerkRuntimeError' in err;\n}\n\n/**\n * Checks if the provided error is a Clerk runtime error indicating a reverification was cancelled.\n *\n * @internal\n */\nexport function isReverificationCancelledError(err: any) {\n  return isClerkRuntimeError(err) && err.code === 'reverification_cancelled';\n}\n\n/**\n * Checks if the provided error is a Metamask error.\n *\n * @internal\n */\nexport function isMetamaskError(err: any): err is MetamaskError {\n  return 'code' in err && [4001, 32602, 32603].includes(err.code) && 'message' in err;\n}\n\n/**\n * Checks if the provided error is clerk api response error indicating a user is locked.\n *\n * @internal\n */\nexport function isUserLockedError(err: any) {\n  return isClerkAPIResponseError(err) && err.errors?.[0]?.code === 'user_locked';\n}\n\n/**\n * Checks if the provided error is a clerk api response error indicating a password was pwned.\n *\n * @internal\n */\nexport function isPasswordPwnedError(err: any) {\n  return isClerkAPIResponseError(err) && err.errors?.[0]?.code === 'form_password_pwned';\n}\n\n/**\n * Parses an array of ClerkAPIErrorJSON objects into an array of ClerkAPIError objects.\n *\n * @internal\n */\nexport function parseErrors(data: ClerkAPIErrorJSON[] = []): ClerkAPIError[] {\n  return data.length > 0 ? data.map(parseError) : [];\n}\n\n/**\n * Parses a ClerkAPIErrorJSON object into a ClerkAPIError object.\n *\n * @internal\n */\nexport function parseError(error: ClerkAPIErrorJSON): ClerkAPIError {\n  return {\n    code: error.code,\n    message: error.message,\n    longMessage: error.long_message,\n    meta: {\n      paramName: error?.meta?.param_name,\n      sessionId: error?.meta?.session_id,\n      emailAddresses: error?.meta?.email_addresses,\n      identifiers: error?.meta?.identifiers,\n      zxcvbn: error?.meta?.zxcvbn,\n      plan: error?.meta?.plan,\n      isPlanUpgradePossible: error?.meta?.is_plan_upgrade_possible,\n    },\n  };\n}\n\n/**\n * Converts a ClerkAPIError object into a ClerkAPIErrorJSON object.\n *\n * @internal\n */\nexport function errorToJSON(error: ClerkAPIError | null): ClerkAPIErrorJSON {\n  return {\n    code: error?.code || '',\n    message: error?.message || '',\n    long_message: error?.longMessage,\n    meta: {\n      param_name: error?.meta?.paramName,\n      session_id: error?.meta?.sessionId,\n      email_addresses: error?.meta?.emailAddresses,\n      identifiers: error?.meta?.identifiers,\n      zxcvbn: error?.meta?.zxcvbn,\n      plan: error?.meta?.plan,\n      is_plan_upgrade_possible: error?.meta?.isPlanUpgradePossible,\n    },\n  };\n}\n\nexport class ClerkAPIResponseError extends Error implements ClerkAPIResponseErrorInterface {\n  clerkError: true;\n\n  status: number;\n  message: string;\n  clerkTraceId?: string;\n  retryAfter?: number;\n\n  errors: ClerkAPIError[];\n\n  constructor(message: string, { data, status, clerkTraceId, retryAfter }: ClerkAPIResponseOptions) {\n    super(message);\n\n    Object.setPrototypeOf(this, ClerkAPIResponseError.prototype);\n\n    this.status = status;\n    this.message = message;\n    this.clerkTraceId = clerkTraceId;\n    this.retryAfter = retryAfter;\n    this.clerkError = true;\n    this.errors = parseErrors(data);\n  }\n\n  public toString = () => {\n    let message = `[${this.name}]\\nMessage:${this.message}\\nStatus:${this.status}\\nSerialized errors: ${this.errors.map(\n      e => JSON.stringify(e),\n    )}`;\n\n    if (this.clerkTraceId) {\n      message += `\\nClerk Trace ID: ${this.clerkTraceId}`;\n    }\n\n    return message;\n  };\n}\n\n/**\n * Custom error class for representing Clerk runtime errors.\n *\n * @class ClerkRuntimeError\n *\n * @example\n *   throw new ClerkRuntimeError('An error occurred', { code: 'password_invalid' });\n */\nexport class ClerkRuntimeError extends Error {\n  clerkRuntimeError: true;\n\n  /**\n   * The error message.\n   *\n   * @type {string}\n   */\n  message: string;\n\n  /**\n   * A unique code identifying the error, can be used for localization.\n   *\n   * @type {string}\n   */\n  code: string;\n\n  constructor(message: string, { code }: { code: string }) {\n    const prefix = '🔒 Clerk:';\n    const regex = new RegExp(prefix.replace(' ', '\\\\s*'), 'i');\n    const sanitized = message.replace(regex, '');\n    const _message = `${prefix} ${sanitized.trim()}\\n\\n(code=\"${code}\")\\n`;\n    super(_message);\n\n    Object.setPrototypeOf(this, ClerkRuntimeError.prototype);\n\n    this.code = code;\n    this.message = _message;\n    this.clerkRuntimeError = true;\n    this.name = 'ClerkRuntimeError';\n  }\n\n  /**\n   * Returns a string representation of the error.\n   *\n   * @returns A formatted string with the error name and message.\n   */\n  public toString = () => {\n    return `[${this.name}]\\nMessage:${this.message}`;\n  };\n}\n\nexport class EmailLinkError extends Error {\n  code: string;\n\n  constructor(code: string) {\n    super(code);\n    this.code = code;\n    this.name = 'EmailLinkError' as const;\n    Object.setPrototypeOf(this, EmailLinkError.prototype);\n  }\n}\n\n/**\n * Checks if the provided error is an EmailLinkError.\n *\n * @internal\n */\nexport function isEmailLinkError(err: Error): err is EmailLinkError {\n  return err.name === 'EmailLinkError';\n}\n\n/**\n * @deprecated Use `EmailLinkErrorCodeStatus` instead.\n *\n * @hidden\n */\nexport const EmailLinkErrorCode = {\n  Expired: 'expired',\n  Failed: 'failed',\n  ClientMismatch: 'client_mismatch',\n};\n\nexport const EmailLinkErrorCodeStatus = {\n  Expired: 'expired',\n  Failed: 'failed',\n  ClientMismatch: 'client_mismatch',\n} as const;\n\nconst DefaultMessages = Object.freeze({\n  InvalidProxyUrlErrorMessage: `The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})`,\n  InvalidPublishableKeyErrorMessage: `The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})`,\n  MissingPublishableKeyErrorMessage: `Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.`,\n  MissingSecretKeyErrorMessage: `Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.`,\n  MissingClerkProvider: `{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider`,\n});\n\ntype MessageKeys = keyof typeof DefaultMessages;\n\ntype Messages = Record<MessageKeys, string>;\n\ntype CustomMessages = Partial<Messages>;\n\nexport type ErrorThrowerOptions = {\n  packageName: string;\n  customMessages?: CustomMessages;\n};\n\nexport interface ErrorThrower {\n  setPackageName(options: ErrorThrowerOptions): ErrorThrower;\n\n  setMessages(options: ErrorThrowerOptions): ErrorThrower;\n\n  throwInvalidPublishableKeyError(params: { key?: string }): never;\n\n  throwInvalidProxyUrl(params: { url?: string }): never;\n\n  throwMissingPublishableKeyError(): never;\n\n  throwMissingSecretKeyError(): never;\n\n  throwMissingClerkProviderError(params: { source?: string }): never;\n\n  throw(message: string): never;\n}\n\n/**\n * Builds an error thrower.\n *\n * @internal\n */\nexport function buildErrorThrower({ packageName, customMessages }: ErrorThrowerOptions): ErrorThrower {\n  let pkg = packageName;\n\n  /**\n   * Builds a message from a raw message and replacements.\n   *\n   * @internal\n   */\n  function buildMessage(rawMessage: string, replacements?: Record<string, string | number>) {\n    if (!replacements) {\n      return `${pkg}: ${rawMessage}`;\n    }\n\n    let msg = rawMessage;\n    const matches = rawMessage.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);\n\n    for (const match of matches) {\n      const replacement = (replacements[match[1]] || '').toString();\n      msg = msg.replace(`{{${match[1]}}}`, replacement);\n    }\n\n    return `${pkg}: ${msg}`;\n  }\n\n  const messages = {\n    ...DefaultMessages,\n    ...customMessages,\n  };\n\n  return {\n    setPackageName({ packageName }: ErrorThrowerOptions): ErrorThrower {\n      if (typeof packageName === 'string') {\n        pkg = packageName;\n      }\n      return this;\n    },\n\n    setMessages({ customMessages }: ErrorThrowerOptions): ErrorThrower {\n      Object.assign(messages, customMessages || {});\n      return this;\n    },\n\n    throwInvalidPublishableKeyError(params: { key?: string }): never {\n      throw new Error(buildMessage(messages.InvalidPublishableKeyErrorMessage, params));\n    },\n\n    throwInvalidProxyUrl(params: { url?: string }): never {\n      throw new Error(buildMessage(messages.InvalidProxyUrlErrorMessage, params));\n    },\n\n    throwMissingPublishableKeyError(): never {\n      throw new Error(buildMessage(messages.MissingPublishableKeyErrorMessage));\n    },\n\n    throwMissingSecretKeyError(): never {\n      throw new Error(buildMessage(messages.MissingSecretKeyErrorMessage));\n    },\n\n    throwMissingClerkProviderError(params: { source?: string }): never {\n      throw new Error(buildMessage(messages.MissingClerkProvider, params));\n    },\n\n    throw(message: string): never {\n      throw new Error(buildMessage(message));\n    },\n  };\n}\n\ntype ClerkWebAuthnErrorCode =\n  // Generic\n  | 'passkey_not_supported'\n  | 'passkey_pa_not_supported'\n  | 'passkey_invalid_rpID_or_domain'\n  | 'passkey_already_exists'\n  | 'passkey_operation_aborted'\n  // Retrieval\n  | 'passkey_retrieval_cancelled'\n  | 'passkey_retrieval_failed'\n  // Registration\n  | 'passkey_registration_cancelled'\n  | 'passkey_registration_failed';\n\nexport class ClerkWebAuthnError extends ClerkRuntimeError {\n  /**\n   * A unique code identifying the error, can be used for localization.\n   */\n  code: ClerkWebAuthnErrorCode;\n\n  constructor(message: string, { code }: { code: ClerkWebAuthnErrorCode }) {\n    super(message, { code });\n    this.code = code;\n  }\n}\n"],"names":["packageName","customMessages"],"mappings":"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","debugId":null}},
    {"offset": {"line": 929, "column": 0}, "map": {"version":3,"sources":[],"sourcesContent":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 948, "column": 0}, "map": {"version":3,"sources":[],"sourcesContent":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 967, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/buildAccountsBaseUrl.ts"],"sourcesContent":["/**\n * Builds a full origin string pointing to the Account Portal for the given frontend API.\n */\nexport function buildAccountsBaseUrl(frontendApi?: string): string {\n  if (!frontendApi) {\n    return '';\n  }\n\n  // convert url from FAPI to accounts for Kima and legacy (prod & dev) instances\n  const accountsBaseUrl = frontendApi\n    // staging accounts\n    .replace(/clerk\\.accountsstage\\./, 'accountsstage.')\n    .replace(/clerk\\.accounts\\.|clerk\\./, 'accounts.');\n  return `https://${accountsBaseUrl}`;\n}\n"],"names":[],"mappings":";;;;;;AAGO,SAAS,qBAAqB,WAAA,EAA8B;IACjE,IAAI,CAAC,aAAa;QAChB,OAAO;IACT;IAGA,MAAM,kBAAkB,YAErB,OAAA,CAAQ,0BAA0B,gBAAgB,EAClD,OAAA,CAAQ,6BAA6B,WAAW;IACnD,OAAO,CAAA,QAAA,EAAW,eAAe,EAAA;AACnC","debugId":null}},
    {"offset": {"line": 986, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/authorization.ts"],"sourcesContent":["import type {\n  ActClaim,\n  CheckAuthorizationWithCustomPermissions,\n  GetToken,\n  JwtPayload,\n  OrganizationCustomPermissionKey,\n  OrganizationCustomRoleKey,\n  PendingSessionOptions,\n  ReverificationConfig,\n  SessionStatusClaim,\n  SessionVerificationLevel,\n  SessionVerificationTypes,\n  SignOut,\n  UseAuthReturn,\n} from '@clerk/types';\n\ntype TypesToConfig = Record<SessionVerificationTypes, Exclude<ReverificationConfig, SessionVerificationTypes>>;\ntype AuthorizationOptions = {\n  userId: string | null | undefined;\n  orgId: string | null | undefined;\n  orgRole: string | null | undefined;\n  orgPermissions: string[] | null | undefined;\n  factorVerificationAge: [number, number] | null;\n  features: string | null | undefined;\n  plans: string | null | undefined;\n};\n\ntype CheckOrgAuthorization = (\n  params: { role?: OrganizationCustomRoleKey; permission?: OrganizationCustomPermissionKey },\n  options: Pick<AuthorizationOptions, 'orgId' | 'orgRole' | 'orgPermissions'>,\n) => boolean | null;\n\ntype CheckBillingAuthorization = (\n  params: { feature?: string; plan?: string },\n  options: Pick<AuthorizationOptions, 'plans' | 'features'>,\n) => boolean | null;\n\ntype CheckReverificationAuthorization = (\n  params: {\n    reverification?: ReverificationConfig;\n  },\n  { factorVerificationAge }: AuthorizationOptions,\n) => boolean | null;\n\nconst TYPES_TO_OBJECTS: TypesToConfig = {\n  strict_mfa: {\n    afterMinutes: 10,\n    level: 'multi_factor',\n  },\n  strict: {\n    afterMinutes: 10,\n    level: 'second_factor',\n  },\n  moderate: {\n    afterMinutes: 60,\n    level: 'second_factor',\n  },\n  lax: {\n    afterMinutes: 1_440,\n    level: 'second_factor',\n  },\n};\n\nconst ALLOWED_LEVELS = new Set<SessionVerificationLevel>(['first_factor', 'second_factor', 'multi_factor']);\n\nconst ALLOWED_TYPES = new Set<SessionVerificationTypes>(['strict_mfa', 'strict', 'moderate', 'lax']);\n\n// Helper functions\nconst isValidMaxAge = (maxAge: any) => typeof maxAge === 'number' && maxAge > 0;\nconst isValidLevel = (level: any) => ALLOWED_LEVELS.has(level);\nconst isValidVerificationType = (type: any) => ALLOWED_TYPES.has(type);\n\nconst prefixWithOrg = (value: string) => value.replace(/^(org:)*/, 'org:');\n\n/**\n * Checks if a user has the required organization-level authorization.\n * Verifies if the user has the specified role or permission within their organization.\n * @returns null, if unable to determine due to missing data or unspecified role/permission.\n */\nconst checkOrgAuthorization: CheckOrgAuthorization = (params, options) => {\n  const { orgId, orgRole, orgPermissions } = options;\n  if (!params.role && !params.permission) {\n    return null;\n  }\n\n  if (!orgId || !orgRole || !orgPermissions) {\n    return null;\n  }\n\n  if (params.permission) {\n    return orgPermissions.includes(prefixWithOrg(params.permission));\n  }\n\n  if (params.role) {\n    return prefixWithOrg(orgRole) === prefixWithOrg(params.role);\n  }\n  return null;\n};\n\nconst checkForFeatureOrPlan = (claim: string, featureOrPlan: string) => {\n  const { org: orgFeatures, user: userFeatures } = splitByScope(claim);\n  const [scope, _id] = featureOrPlan.split(':');\n  const id = _id || scope;\n\n  if (scope === 'org') {\n    return orgFeatures.includes(id);\n  } else if (scope === 'user') {\n    return userFeatures.includes(id);\n  } else {\n    // Since org scoped features will not exist if there is not an active org, merging is safe.\n    return [...orgFeatures, ...userFeatures].includes(id);\n  }\n};\n\nconst checkBillingAuthorization: CheckBillingAuthorization = (params, options) => {\n  const { features, plans } = options;\n\n  if (params.feature && features) {\n    return checkForFeatureOrPlan(features, params.feature);\n  }\n\n  if (params.plan && plans) {\n    return checkForFeatureOrPlan(plans, params.plan);\n  }\n  return null;\n};\n\nconst splitByScope = (fea: string | null | undefined) => {\n  const features = fea ? fea.split(',').map(f => f.trim()) : [];\n\n  // TODO: make this more efficient\n  return {\n    org: features.filter(f => f.split(':')[0].includes('o')).map(f => f.split(':')[1]),\n    user: features.filter(f => f.split(':')[0].includes('u')).map(f => f.split(':')[1]),\n  };\n};\n\nconst validateReverificationConfig = (config: ReverificationConfig | undefined | null) => {\n  if (!config) {\n    return false;\n  }\n\n  const convertConfigToObject = (config: ReverificationConfig) => {\n    if (typeof config === 'string') {\n      return TYPES_TO_OBJECTS[config];\n    }\n    return config;\n  };\n\n  const isValidStringValue = typeof config === 'string' && isValidVerificationType(config);\n  const isValidObjectValue =\n    typeof config === 'object' && isValidLevel(config.level) && isValidMaxAge(config.afterMinutes);\n\n  if (isValidStringValue || isValidObjectValue) {\n    return convertConfigToObject.bind(null, config);\n  }\n\n  return false;\n};\n\n/**\n * Evaluates if the user meets re-verification authentication requirements.\n * Compares the user's factor verification ages against the specified maxAge.\n * Handles different verification levels (first factor, second factor, multi-factor).\n * @returns null, if requirements or verification data are missing.\n */\nconst checkReverificationAuthorization: CheckReverificationAuthorization = (params, { factorVerificationAge }) => {\n  if (!params.reverification || !factorVerificationAge) {\n    return null;\n  }\n\n  const isValidReverification = validateReverificationConfig(params.reverification);\n  if (!isValidReverification) {\n    return null;\n  }\n\n  const { level, afterMinutes } = isValidReverification();\n  const [factor1Age, factor2Age] = factorVerificationAge;\n\n  // -1 indicates the factor group (1fa,2fa) is not enabled\n  // -1 for 1fa is not a valid scenario, but we need to make sure we handle it properly\n  const isValidFactor1 = factor1Age !== -1 ? afterMinutes > factor1Age : null;\n  const isValidFactor2 = factor2Age !== -1 ? afterMinutes > factor2Age : null;\n\n  switch (level) {\n    case 'first_factor':\n      return isValidFactor1;\n    case 'second_factor':\n      return factor2Age !== -1 ? isValidFactor2 : isValidFactor1;\n    case 'multi_factor':\n      return factor2Age === -1 ? isValidFactor1 : isValidFactor1 && isValidFactor2;\n  }\n};\n\n/**\n * Creates a function for comprehensive user authorization checks.\n * Combines organization-level and reverification authentication checks.\n * The returned function authorizes if both checks pass, or if at least one passes\n * when the other is indeterminate. Fails if userId is missing.\n */\nconst createCheckAuthorization = (options: AuthorizationOptions): CheckAuthorizationWithCustomPermissions => {\n  return (params): boolean => {\n    if (!options.userId) {\n      return false;\n    }\n\n    const billingAuthorization = checkBillingAuthorization(params, options);\n    const orgAuthorization = checkOrgAuthorization(params, options);\n    const reverificationAuthorization = checkReverificationAuthorization(params, options);\n\n    if ([billingAuthorization || orgAuthorization, reverificationAuthorization].some(a => a === null)) {\n      return [billingAuthorization || orgAuthorization, reverificationAuthorization].some(a => a === true);\n    }\n\n    return [billingAuthorization || orgAuthorization, reverificationAuthorization].every(a => a === true);\n  };\n};\n\ntype AuthStateOptions = {\n  authObject: {\n    userId?: string | null;\n    sessionId?: string | null;\n    sessionStatus?: SessionStatusClaim | null;\n    sessionClaims?: JwtPayload | null;\n    actor?: ActClaim | null;\n    orgId?: string | null;\n    orgRole?: OrganizationCustomRoleKey | null;\n    orgSlug?: string | null;\n    orgPermissions?: OrganizationCustomPermissionKey[] | null;\n    getToken: GetToken;\n    signOut: SignOut;\n    has: (params: Parameters<CheckAuthorizationWithCustomPermissions>[0]) => boolean;\n  };\n  options: PendingSessionOptions;\n};\n\n/**\n * Shared utility function that centralizes auth state resolution logic,\n * preventing duplication across different packages.\n * @internal\n */\nconst resolveAuthState = ({\n  authObject: {\n    sessionId,\n    sessionStatus,\n    userId,\n    actor,\n    orgId,\n    orgRole,\n    orgSlug,\n    signOut,\n    getToken,\n    has,\n    sessionClaims,\n  },\n  options: { treatPendingAsSignedOut = true },\n}: AuthStateOptions): UseAuthReturn | undefined => {\n  if (sessionId === undefined && userId === undefined) {\n    return {\n      isLoaded: false,\n      isSignedIn: undefined,\n      sessionId,\n      sessionClaims: undefined,\n      userId,\n      actor: undefined,\n      orgId: undefined,\n      orgRole: undefined,\n      orgSlug: undefined,\n      has: undefined,\n      signOut,\n      getToken,\n    } as const;\n  }\n\n  if (sessionId === null && userId === null) {\n    return {\n      isLoaded: true,\n      isSignedIn: false,\n      sessionId,\n      userId,\n      sessionClaims: null,\n      actor: null,\n      orgId: null,\n      orgRole: null,\n      orgSlug: null,\n      has: () => false,\n      signOut,\n      getToken,\n    } as const;\n  }\n\n  if (treatPendingAsSignedOut && sessionStatus === 'pending') {\n    return {\n      isLoaded: true,\n      isSignedIn: false,\n      sessionId: null,\n      userId: null,\n      sessionClaims: null,\n      actor: null,\n      orgId: null,\n      orgRole: null,\n      orgSlug: null,\n      has: () => false,\n      signOut,\n      getToken,\n    } as const;\n  }\n\n  if (!!sessionId && !!sessionClaims && !!userId && !!orgId && !!orgRole) {\n    return {\n      isLoaded: true,\n      isSignedIn: true,\n      sessionId,\n      sessionClaims,\n      userId,\n      actor: actor || null,\n      orgId,\n      orgRole,\n      orgSlug: orgSlug || null,\n      has,\n      signOut,\n      getToken,\n    } as const;\n  }\n\n  if (!!sessionId && !!sessionClaims && !!userId && !orgId) {\n    return {\n      isLoaded: true,\n      isSignedIn: true,\n      sessionId,\n      sessionClaims,\n      userId,\n      actor: actor || null,\n      orgId: null,\n      orgRole: null,\n      orgSlug: null,\n      has,\n      signOut,\n      getToken,\n    } as const;\n  }\n};\n\nexport { createCheckAuthorization, validateReverificationConfig, resolveAuthState, splitByScope };\n"],"names":["config"],"mappings":"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","debugId":null}},
    {"offset": {"line": 1223, "column": 0}, "map": {"version":3,"sources":[],"sourcesContent":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 1242, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/jwtPayloadParser.ts"],"sourcesContent":["import type {\n  JwtPayload,\n  OrganizationCustomPermissionKey,\n  OrganizationCustomRoleKey,\n  SharedSignedInAuthObjectProperties,\n} from '@clerk/types';\n\nimport { splitByScope } from './authorization';\n\nexport const parsePermissions = ({ per, fpm }: { per?: string; fpm?: string }) => {\n  if (!per || !fpm) {\n    return { permissions: [], featurePermissionMap: [] };\n  }\n\n  const permissions = per.split(',').map(p => p.trim());\n\n  // TODO: make this more efficient\n  const featurePermissionMap = fpm\n    .split(',')\n    .map(permission => Number.parseInt(permission.trim(), 10))\n    .map((permission: number) =>\n      permission\n        .toString(2)\n        .padStart(permissions.length, '0')\n        .split('')\n        .map(bit => Number.parseInt(bit, 10))\n        .reverse(),\n    )\n    .filter(Boolean);\n\n  return { permissions, featurePermissionMap };\n};\n\nfunction buildOrgPermissions({\n  features,\n  permissions,\n  featurePermissionMap,\n}: {\n  features?: string[];\n  permissions?: string[];\n  featurePermissionMap?: number[][];\n}) {\n  // Early return if any required input is missing\n  if (!features || !permissions || !featurePermissionMap) {\n    return [];\n  }\n\n  const orgPermissions: string[] = [];\n\n  // Process each feature and its permissions in a single loop\n  for (let featureIndex = 0; featureIndex < features.length; featureIndex++) {\n    const feature = features[featureIndex];\n\n    if (featureIndex >= featurePermissionMap.length) {\n      continue;\n    }\n\n    const permissionBits = featurePermissionMap[featureIndex];\n    if (!permissionBits) continue;\n\n    for (let permIndex = 0; permIndex < permissionBits.length; permIndex++) {\n      if (permissionBits[permIndex] === 1) {\n        orgPermissions.push(`org:${feature}:${permissions[permIndex]}`);\n      }\n    }\n  }\n\n  return orgPermissions;\n}\n\n/**\n * @experimental\n *\n * Resolves the signed-in auth state from JWT claims.\n */\nconst __experimental_JWTPayloadToAuthObjectProperties = (claims: JwtPayload): SharedSignedInAuthObjectProperties => {\n  let orgId: string | undefined;\n  let orgRole: OrganizationCustomRoleKey | undefined;\n  let orgSlug: string | undefined;\n  let orgPermissions: OrganizationCustomPermissionKey[] | undefined;\n\n  // fva can be undefined for instances that have not opt-in\n  const factorVerificationAge = claims.fva ?? null;\n\n  // sts can be undefined for instances that have not opt-in\n  const sessionStatus = claims.sts ?? null;\n\n  switch (claims.v) {\n    case 2: {\n      if (claims.o) {\n        orgId = claims.o?.id;\n        orgSlug = claims.o?.slg;\n\n        if (claims.o?.rol) {\n          orgRole = `org:${claims.o?.rol}`;\n        }\n        const { org } = splitByScope(claims.fea);\n        const { permissions, featurePermissionMap } = parsePermissions({\n          per: claims.o?.per,\n          fpm: claims.o?.fpm,\n        });\n        orgPermissions = buildOrgPermissions({\n          features: org,\n          featurePermissionMap: featurePermissionMap,\n          permissions: permissions,\n        });\n      }\n      break;\n    }\n    default:\n      orgId = claims.org_id;\n      orgRole = claims.org_role;\n      orgSlug = claims.org_slug;\n      orgPermissions = claims.org_permissions;\n      break;\n  }\n\n  return {\n    sessionClaims: claims,\n    sessionId: claims.sid,\n    sessionStatus,\n    actor: claims.act,\n    userId: claims.sub,\n    orgId: orgId,\n    orgRole: orgRole,\n    orgSlug: orgSlug,\n    orgPermissions,\n    factorVerificationAge,\n  };\n};\n\nexport { __experimental_JWTPayloadToAuthObjectProperties };\n"],"names":[],"mappings":";;;;;;;;;AASO,IAAM,mBAAmB,CAAC,EAAE,GAAA,EAAK,GAAA,CAAI,CAAA,KAAsC;IAChF,IAAI,CAAC,OAAO,CAAC,KAAK;QAChB,OAAO;YAAE,aAAa,CAAC,CAAA;YAAG,sBAAsB,CAAC,CAAA;QAAE;IACrD;IAEA,MAAM,cAAc,IAAI,KAAA,CAAM,GAAG,EAAE,GAAA,CAAI,CAAA,IAAK,EAAE,IAAA,CAAK,CAAC;IAGpD,MAAM,uBAAuB,IAC1B,KAAA,CAAM,GAAG,EACT,GAAA,CAAI,CAAA,aAAc,OAAO,QAAA,CAAS,WAAW,IAAA,CAAK,GAAG,EAAE,CAAC,EACxD,GAAA,CAAI,CAAC,aACJ,WACG,QAAA,CAAS,CAAC,EACV,QAAA,CAAS,YAAY,MAAA,EAAQ,GAAG,EAChC,KAAA,CAAM,EAAE,EACR,GAAA,CAAI,CAAA,MAAO,OAAO,QAAA,CAAS,KAAK,EAAE,CAAC,EACnC,OAAA,CAAQ,GAEZ,MAAA,CAAO,OAAO;IAEjB,OAAO;QAAE;QAAa;IAAqB;AAC7C;AAEA,SAAS,oBAAoB,EAC3B,QAAA,EACA,WAAA,EACA,oBAAA,EACF,EAIG;IAED,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,sBAAsB;QACtD,OAAO,CAAC,CAAA;IACV;IAEA,MAAM,iBAA2B,CAAC,CAAA;IAGlC,IAAA,IAAS,eAAe,GAAG,eAAe,SAAS,MAAA,EAAQ,eAAgB;QACzE,MAAM,UAAU,QAAA,CAAS,YAAY,CAAA;QAErC,IAAI,gBAAgB,qBAAqB,MAAA,EAAQ;YAC/C;QACF;QAEA,MAAM,iBAAiB,oBAAA,CAAqB,YAAY,CAAA;QACxD,IAAI,CAAC,eAAgB,CAAA;QAErB,IAAA,IAAS,YAAY,GAAG,YAAY,eAAe,MAAA,EAAQ,YAAa;YACtE,IAAI,cAAA,CAAe,SAAS,CAAA,KAAM,GAAG;gBACnC,eAAe,IAAA,CAAK,CAAA,IAAA,EAAO,OAAO,CAAA,CAAA,EAAI,WAAA,CAAY,SAAS,CAAC,EAAE;YAChE;QACF;IACF;IAEA,OAAO;AACT;AAOA,IAAM,kDAAkD,CAAC,WAA2D;IAClH,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IAGJ,MAAM,wBAAwB,OAAO,GAAA,IAAO;IAG5C,MAAM,gBAAgB,OAAO,GAAA,IAAO;IAEpC,OAAQ,OAAO,CAAA,EAAG;QAChB,KAAK;YAAG;gBACN,IAAI,OAAO,CAAA,EAAG;oBACZ,QAAQ,OAAO,CAAA,EAAG;oBAClB,UAAU,OAAO,CAAA,EAAG;oBAEpB,IAAI,OAAO,CAAA,EAAG,KAAK;wBACjB,UAAU,CAAA,IAAA,EAAO,OAAO,CAAA,EAAG,GAAG,EAAA;oBAChC;oBACA,MAAM,EAAE,GAAA,CAAI,CAAA,yKAAI,eAAA,EAAa,OAAO,GAAG;oBACvC,MAAM,EAAE,WAAA,EAAa,oBAAA,CAAqB,CAAA,GAAI,iBAAiB;wBAC7D,KAAK,OAAO,CAAA,EAAG;wBACf,KAAK,OAAO,CAAA,EAAG;oBACjB,CAAC;oBACD,iBAAiB,oBAAoB;wBACnC,UAAU;wBACV;wBACA;oBACF,CAAC;gBACH;gBACA;YACF;QACA;YACE,QAAQ,OAAO,MAAA;YACf,UAAU,OAAO,QAAA;YACjB,UAAU,OAAO,QAAA;YACjB,iBAAiB,OAAO,eAAA;YACxB;IACJ;IAEA,OAAO;QACL,eAAe;QACf,WAAW,OAAO,GAAA;QAClB;QACA,OAAO,OAAO,GAAA;QACd,QAAQ,OAAO,GAAA;QACf;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 1340, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/compiled/path-to-regexp/index.js","file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/pathToRegexp.ts"],"sourcesContent":["/* eslint-disable no-redeclare, curly */\n\nfunction _(r) {\n  for (var n = [], e = 0; e < r.length; ) {\n    var a = r[e];\n    if (a === '*' || a === '+' || a === '?') {\n      n.push({\n        type: 'MODIFIER',\n        index: e,\n        value: r[e++],\n      });\n      continue;\n    }\n    if (a === '\\\\') {\n      n.push({\n        type: 'ESCAPED_CHAR',\n        index: e++,\n        value: r[e++],\n      });\n      continue;\n    }\n    if (a === '{') {\n      n.push({\n        type: 'OPEN',\n        index: e,\n        value: r[e++],\n      });\n      continue;\n    }\n    if (a === '}') {\n      n.push({\n        type: 'CLOSE',\n        index: e,\n        value: r[e++],\n      });\n      continue;\n    }\n    if (a === ':') {\n      for (var u = '', t = e + 1; t < r.length; ) {\n        var c = r.charCodeAt(t);\n        if ((c >= 48 && c <= 57) || (c >= 65 && c <= 90) || (c >= 97 && c <= 122) || c === 95) {\n          u += r[t++];\n          continue;\n        }\n        break;\n      }\n      if (!u) throw new TypeError('Missing parameter name at '.concat(e));\n      n.push({\n        type: 'NAME',\n        index: e,\n        value: u,\n      }),\n        (e = t);\n      continue;\n    }\n    if (a === '(') {\n      var o = 1,\n        m = '',\n        t = e + 1;\n      if (r[t] === '?') throw new TypeError('Pattern cannot start with \"?\" at '.concat(t));\n      for (; t < r.length; ) {\n        if (r[t] === '\\\\') {\n          m += r[t++] + r[t++];\n          continue;\n        }\n        if (r[t] === ')') {\n          if ((o--, o === 0)) {\n            t++;\n            break;\n          }\n        } else if (r[t] === '(' && (o++, r[t + 1] !== '?'))\n          throw new TypeError('Capturing groups are not allowed at '.concat(t));\n        m += r[t++];\n      }\n      if (o) throw new TypeError('Unbalanced pattern at '.concat(e));\n      if (!m) throw new TypeError('Missing pattern at '.concat(e));\n      n.push({\n        type: 'PATTERN',\n        index: e,\n        value: m,\n      }),\n        (e = t);\n      continue;\n    }\n    n.push({\n      type: 'CHAR',\n      index: e,\n      value: r[e++],\n    });\n  }\n  return (\n    n.push({\n      type: 'END',\n      index: e,\n      value: '',\n    }),\n    n\n  );\n}\n\nfunction F(r, n) {\n  n === void 0 && (n = {});\n  for (\n    var e = _(r),\n      a = n.prefixes,\n      u = a === void 0 ? './' : a,\n      t = n.delimiter,\n      c = t === void 0 ? '/#?' : t,\n      o = [],\n      m = 0,\n      h = 0,\n      p = '',\n      f = function (l) {\n        if (h < e.length && e[h].type === l) return e[h++].value;\n      },\n      w = function (l) {\n        var v = f(l);\n        if (v !== void 0) return v;\n        var E = e[h],\n          N = E.type,\n          S = E.index;\n        throw new TypeError('Unexpected '.concat(N, ' at ').concat(S, ', expected ').concat(l));\n      },\n      d = function () {\n        for (var l = '', v; (v = f('CHAR') || f('ESCAPED_CHAR')); ) l += v;\n        return l;\n      },\n      M = function (l) {\n        for (var v = 0, E = c; v < E.length; v++) {\n          var N = E[v];\n          if (l.indexOf(N) > -1) return !0;\n        }\n        return !1;\n      },\n      A = function (l) {\n        var v = o[o.length - 1],\n          E = l || (v && typeof v == 'string' ? v : '');\n        if (v && !E)\n          throw new TypeError('Must have text between two parameters, missing text after \"'.concat(v.name, '\"'));\n        return !E || M(E) ? '[^'.concat(s(c), ']+?') : '(?:(?!'.concat(s(E), ')[^').concat(s(c), '])+?');\n      };\n    h < e.length;\n\n  ) {\n    var T = f('CHAR'),\n      x = f('NAME'),\n      C = f('PATTERN');\n    if (x || C) {\n      var g = T || '';\n      u.indexOf(g) === -1 && ((p += g), (g = '')),\n        p && (o.push(p), (p = '')),\n        o.push({\n          name: x || m++,\n          prefix: g,\n          suffix: '',\n          pattern: C || A(g),\n          modifier: f('MODIFIER') || '',\n        });\n      continue;\n    }\n    var i = T || f('ESCAPED_CHAR');\n    if (i) {\n      p += i;\n      continue;\n    }\n    p && (o.push(p), (p = ''));\n    var R = f('OPEN');\n    if (R) {\n      var g = d(),\n        y = f('NAME') || '',\n        O = f('PATTERN') || '',\n        b = d();\n      w('CLOSE'),\n        o.push({\n          name: y || (O ? m++ : ''),\n          pattern: y && !O ? A(g) : O,\n          prefix: g,\n          suffix: b,\n          modifier: f('MODIFIER') || '',\n        });\n      continue;\n    }\n    w('END');\n  }\n  return o;\n}\n\nfunction H(r, n) {\n  var e = [],\n    a = P(r, e, n);\n  return I(a, e, n);\n}\n\nfunction I(r, n, e) {\n  e === void 0 && (e = {});\n  var a = e.decode,\n    u =\n      a === void 0\n        ? function (t) {\n            return t;\n          }\n        : a;\n  return function (t) {\n    var c = r.exec(t);\n    if (!c) return !1;\n    for (\n      var o = c[0],\n        m = c.index,\n        h = Object.create(null),\n        p = function (w) {\n          if (c[w] === void 0) return 'continue';\n          var d = n[w - 1];\n          d.modifier === '*' || d.modifier === '+'\n            ? (h[d.name] = c[w].split(d.prefix + d.suffix).map(function (M) {\n                return u(M, d);\n              }))\n            : (h[d.name] = u(c[w], d));\n        },\n        f = 1;\n      f < c.length;\n      f++\n    )\n      p(f);\n    return {\n      path: o,\n      index: m,\n      params: h,\n    };\n  };\n}\n\nfunction s(r) {\n  return r.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1');\n}\n\nfunction D(r) {\n  return r && r.sensitive ? '' : 'i';\n}\n\nfunction $(r, n) {\n  if (!n) return r;\n  for (var e = /\\((?:\\?<(.*?)>)?(?!\\?)/g, a = 0, u = e.exec(r.source); u; )\n    n.push({\n      name: u[1] || a++,\n      prefix: '',\n      suffix: '',\n      modifier: '',\n      pattern: '',\n    }),\n      (u = e.exec(r.source));\n  return r;\n}\n\nfunction W(r, n, e) {\n  var a = r.map(function (u) {\n    return P(u, n, e).source;\n  });\n  return new RegExp('(?:'.concat(a.join('|'), ')'), D(e));\n}\n\nfunction L(r, n, e) {\n  return U(F(r, e), n, e);\n}\n\nfunction U(r, n, e) {\n  e === void 0 && (e = {});\n  for (\n    var a = e.strict,\n      u = a === void 0 ? !1 : a,\n      t = e.start,\n      c = t === void 0 ? !0 : t,\n      o = e.end,\n      m = o === void 0 ? !0 : o,\n      h = e.encode,\n      p =\n        h === void 0\n          ? function (v) {\n              return v;\n            }\n          : h,\n      f = e.delimiter,\n      w = f === void 0 ? '/#?' : f,\n      d = e.endsWith,\n      M = d === void 0 ? '' : d,\n      A = '['.concat(s(M), ']|$'),\n      T = '['.concat(s(w), ']'),\n      x = c ? '^' : '',\n      C = 0,\n      g = r;\n    C < g.length;\n    C++\n  ) {\n    var i = g[C];\n    if (typeof i == 'string') x += s(p(i));\n    else {\n      var R = s(p(i.prefix)),\n        y = s(p(i.suffix));\n      if (i.pattern)\n        if ((n && n.push(i), R || y))\n          if (i.modifier === '+' || i.modifier === '*') {\n            var O = i.modifier === '*' ? '?' : '';\n            x += '(?:'\n              .concat(R, '((?:')\n              .concat(i.pattern, ')(?:')\n              .concat(y)\n              .concat(R, '(?:')\n              .concat(i.pattern, '))*)')\n              .concat(y, ')')\n              .concat(O);\n          } else x += '(?:'.concat(R, '(').concat(i.pattern, ')').concat(y, ')').concat(i.modifier);\n        else {\n          if (i.modifier === '+' || i.modifier === '*')\n            throw new TypeError('Can not repeat \"'.concat(i.name, '\" without a prefix and suffix'));\n          x += '('.concat(i.pattern, ')').concat(i.modifier);\n        }\n      else x += '(?:'.concat(R).concat(y, ')').concat(i.modifier);\n    }\n  }\n  if (m) u || (x += ''.concat(T, '?')), (x += e.endsWith ? '(?='.concat(A, ')') : '$');\n  else {\n    var b = r[r.length - 1],\n      l = typeof b == 'string' ? T.indexOf(b[b.length - 1]) > -1 : b === void 0;\n    u || (x += '(?:'.concat(T, '(?=').concat(A, '))?')), l || (x += '(?='.concat(T, '|').concat(A, ')'));\n  }\n  return new RegExp(x, D(e));\n}\n\nfunction P(r, n, e) {\n  return r instanceof RegExp ? $(r, n) : Array.isArray(r) ? W(r, n, e) : L(r, n, e);\n}\nexport { H as match, P as pathToRegexp };\n","import type {\n  Match,\n  MatchFunction,\n  ParseOptions,\n  Path,\n  RegexpToFunctionOptions,\n  TokensToRegexpOptions,\n} from './compiled/path-to-regexp';\nimport { match as matchBase, pathToRegexp as pathToRegexpBase } from './compiled/path-to-regexp';\n\nexport const pathToRegexp = (path: string) => {\n  try {\n    // @ts-ignore no types exists for the pre-compiled package\n    return pathToRegexpBase(path);\n  } catch (e: any) {\n    throw new Error(\n      `Invalid path: ${path}.\\nConsult the documentation of path-to-regexp here: https://github.com/pillarjs/path-to-regexp/tree/6.x\\n${e.message}`,\n    );\n  }\n};\n\nexport function match<P extends object = object>(\n  str: Path,\n  options?: ParseOptions & TokensToRegexpOptions & RegexpToFunctionOptions,\n): MatchFunction<P> {\n  try {\n    // @ts-ignore no types exists for the pre-compiled package\n    return matchBase(str, options);\n  } catch (e: any) {\n    throw new Error(\n      `Invalid path and options: Consult the documentation of path-to-regexp here: https://github.com/pillarjs/path-to-regexp/tree/6.x\\n${e.message}`,\n    );\n  }\n}\n\nexport { type Match, type MatchFunction };\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1597, "column": 0}, "map": {"version":3,"sources":[],"sourcesContent":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 1616, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/authorization-errors.ts"],"sourcesContent":["import type { ReverificationConfig } from '@clerk/types';\n\ntype ClerkError<T> = {\n  clerk_error: T;\n};\n\nconst REVERIFICATION_REASON = 'reverification-error';\n\ntype ReverificationError<M extends { metadata?: any } = { metadata: unknown }> = ClerkError<\n  {\n    type: 'forbidden';\n    reason: typeof REVERIFICATION_REASON;\n  } & M\n>;\n\nconst reverificationError = <MC extends ReverificationConfig>(\n  missingConfig?: MC,\n): ReverificationError<{\n  metadata?: {\n    reverification?: MC;\n  };\n}> => ({\n  clerk_error: {\n    type: 'forbidden',\n    reason: REVERIFICATION_REASON,\n    metadata: {\n      reverification: missingConfig,\n    },\n  },\n});\n\nconst reverificationErrorResponse = (...args: Parameters<typeof reverificationError>) =>\n  new Response(JSON.stringify(reverificationError(...args)), {\n    status: 403,\n  });\n\nconst isReverificationHint = (result: any): result is ReturnType<typeof reverificationError> => {\n  return (\n    result &&\n    typeof result === 'object' &&\n    'clerk_error' in result &&\n    result.clerk_error?.type === 'forbidden' &&\n    result.clerk_error?.reason === REVERIFICATION_REASON\n  );\n};\n\nexport { reverificationError, reverificationErrorResponse, isReverificationHint };\n"],"names":[],"mappings":";;;;;;AAMA,IAAM,wBAAwB;AAS9B,IAAM,sBAAsB,CAC1B,gBAAA,CAKK;QACL,aAAa;YACX,MAAM;YACN,QAAQ;YACR,UAAU;gBACR,gBAAgB;YAClB;QACF;IACF,CAAA;AAEA,IAAM,8BAA8B,CAAA,GAAI,OACtC,IAAI,SAAS,KAAK,SAAA,CAAU,oBAAoB,GAAG,IAAI,CAAC,GAAG;QACzD,QAAQ;IACV,CAAC;AAEH,IAAM,uBAAuB,CAAC,WAAkE;IAC9F,OACE,UACA,OAAO,WAAW,YAClB,iBAAiB,UACjB,OAAO,WAAA,EAAa,SAAS,eAC7B,OAAO,WAAA,EAAa,WAAW;AAEnC","debugId":null}},
    {"offset": {"line": 1644, "column": 0}, "map": {"version":3,"sources":[],"sourcesContent":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 1663, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/underscore.ts"],"sourcesContent":["/**\n * Convert words to a sentence.\n *\n * @param items - An array of words to be joined.\n * @returns A string with the items joined by a comma and the last item joined by \", or\".\n */\nexport const toSentence = (items: string[]): string => {\n  // TODO: Once Safari supports it, use Intl.ListFormat\n  if (items.length == 0) {\n    return '';\n  }\n  if (items.length == 1) {\n    return items[0];\n  }\n  let sentence = items.slice(0, -1).join(', ');\n  sentence += `, or ${items.slice(-1)}`;\n  return sentence;\n};\n\nconst IP_V4_ADDRESS_REGEX =\n  /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;\n\n/**\n * Checks if a string is a valid IPv4 address.\n *\n * @returns True if the string is a valid IPv4 address, false otherwise.\n */\nexport function isIPV4Address(str: string | undefined | null): boolean {\n  return IP_V4_ADDRESS_REGEX.test(str || '');\n}\n\n/**\n * Converts the first character of a string to uppercase.\n *\n * @param str - The string to be converted.\n * @returns The modified string with the rest of the string unchanged.\n *\n * @example\n * ```ts\n * titleize('hello world') // 'Hello world'\n * ```\n */\nexport function titleize(str: string | undefined | null): string {\n  const s = str || '';\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\n/**\n * Converts a string from snake_case to camelCase.\n */\nexport function snakeToCamel(str: string | undefined): string {\n  return str ? str.replace(/([-_][a-z])/g, match => match.toUpperCase().replace(/-|_/, '')) : '';\n}\n\n/**\n * Converts a string from camelCase to snake_case.\n */\nexport function camelToSnake(str: string | undefined): string {\n  return str ? str.replace(/[A-Z]/g, letter => `_${letter.toLowerCase()}`) : '';\n}\n\nconst createDeepObjectTransformer = (transform: any) => {\n  const deepTransform = (obj: any): any => {\n    if (!obj) {\n      return obj;\n    }\n\n    if (Array.isArray(obj)) {\n      return obj.map(el => {\n        if (typeof el === 'object' || Array.isArray(el)) {\n          return deepTransform(el);\n        }\n        return el;\n      });\n    }\n\n    const copy = { ...obj };\n    const keys = Object.keys(copy);\n    for (const oldName of keys) {\n      const newName = transform(oldName.toString());\n      if (newName !== oldName) {\n        copy[newName] = copy[oldName];\n        delete copy[oldName];\n      }\n      if (typeof copy[newName] === 'object') {\n        copy[newName] = deepTransform(copy[newName]);\n      }\n    }\n    return copy;\n  };\n\n  return deepTransform;\n};\n\n/**\n * Transforms camelCased objects/ arrays to snake_cased.\n * This function recursively traverses all objects and arrays of the passed value\n * camelCased keys are removed.\n *\n * @function\n */\nexport const deepCamelToSnake = createDeepObjectTransformer(camelToSnake);\n\n/**\n * Transforms snake_cased objects/ arrays to camelCased.\n * This function recursively traverses all objects and arrays of the passed value\n * camelCased keys are removed.\n *\n * @function\n */\nexport const deepSnakeToCamel = createDeepObjectTransformer(snakeToCamel);\n\n/**\n * A function to determine if a value is truthy.\n *\n * @returns True for `true`, true, positive numbers. False for `false`, false, 0, negative integers and anything else.\n */\nexport function isTruthy(value: unknown): boolean {\n  // Return if Boolean\n  if (typeof value === `boolean`) {\n    return value;\n  }\n\n  // Return false if null or undefined\n  if (value === undefined || value === null) {\n    return false;\n  }\n\n  // If the String is true or false\n  if (typeof value === `string`) {\n    if (value.toLowerCase() === `true`) {\n      return true;\n    }\n\n    if (value.toLowerCase() === `false`) {\n      return false;\n    }\n  }\n\n  // Now check if it's a number\n  const number = parseInt(value as string, 10);\n  if (isNaN(number)) {\n    return false;\n  }\n\n  if (number > 0) {\n    return true;\n  }\n\n  // Default to false\n  return false;\n}\n\n/**\n * Get all non-undefined values from an object.\n */\nexport function getNonUndefinedValues<T extends object>(obj: T): Partial<T> {\n  return Object.entries(obj).reduce((acc, [key, value]) => {\n    if (value !== undefined) {\n      acc[key as keyof T] = value;\n    }\n    return acc;\n  }, {} as Partial<T>);\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1771, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/telemetry/throttler.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/telemetry/collector.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/telemetry/events/component-mounted.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/telemetry/events/method-called.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/telemetry/events/framework-metadata.ts"],"sourcesContent":["import type { TelemetryEvent } from '@clerk/types';\n\ntype TtlInMilliseconds = number;\n\nconst DEFAULT_CACHE_TTL_MS = 86400000; // 24 hours\n\n/**\n * Manages throttling for telemetry events using the browser's localStorage to\n * mitigate event flooding in frequently executed code paths.\n */\nexport class TelemetryEventThrottler {\n  #storageKey = 'clerk_telemetry_throttler';\n  #cacheTtl = DEFAULT_CACHE_TTL_MS;\n\n  isEventThrottled(payload: TelemetryEvent): boolean {\n    if (!this.#isValidBrowser) {\n      return false;\n    }\n\n    const now = Date.now();\n    const key = this.#generateKey(payload);\n    const entry = this.#cache?.[key];\n\n    if (!entry) {\n      const updatedCache = {\n        ...this.#cache,\n        [key]: now,\n      };\n\n      localStorage.setItem(this.#storageKey, JSON.stringify(updatedCache));\n    }\n\n    const shouldInvalidate = entry && now - entry > this.#cacheTtl;\n    if (shouldInvalidate) {\n      const updatedCache = this.#cache;\n      delete updatedCache[key];\n\n      localStorage.setItem(this.#storageKey, JSON.stringify(updatedCache));\n    }\n\n    return !!entry;\n  }\n\n  /**\n   * Generates a consistent unique key for telemetry events by sorting payload properties.\n   * This ensures that payloads with identical content in different orders produce the same key.\n   */\n  #generateKey(event: TelemetryEvent): string {\n    const { sk: _sk, pk: _pk, payload, ...rest } = event;\n\n    const sanitizedEvent: Omit<TelemetryEvent, 'sk' | 'pk' | 'payload'> & TelemetryEvent['payload'] = {\n      ...payload,\n      ...rest,\n    };\n\n    return JSON.stringify(\n      Object.keys({\n        ...payload,\n        ...rest,\n      })\n        .sort()\n        .map(key => sanitizedEvent[key]),\n    );\n  }\n\n  get #cache(): Record<string, TtlInMilliseconds> | undefined {\n    const cacheString = localStorage.getItem(this.#storageKey);\n\n    if (!cacheString) {\n      return {};\n    }\n\n    return JSON.parse(cacheString);\n  }\n\n  /**\n   * Checks if the browser's localStorage is supported and writable.\n   *\n   * If any of these operations fail, it indicates that localStorage is either\n   * not supported or not writable (e.g., in cases where the storage is full or\n   * the browser is in a privacy mode that restricts localStorage usage).\n   */\n  get #isValidBrowser(): boolean {\n    if (typeof window === 'undefined') {\n      return false;\n    }\n\n    const storage = window.localStorage;\n    if (!storage) {\n      return false;\n    }\n\n    try {\n      const testKey = 'test';\n      storage.setItem(testKey, testKey);\n      storage.removeItem(testKey);\n\n      return true;\n    } catch (err: unknown) {\n      const isQuotaExceededError =\n        err instanceof DOMException &&\n        // Check error names for different browsers\n        (err.name === 'QuotaExceededError' || err.name === 'NS_ERROR_DOM_QUOTA_REACHED');\n\n      if (isQuotaExceededError && storage.length > 0) {\n        storage.removeItem(this.#storageKey);\n      }\n\n      return false;\n    }\n  }\n}\n","/**\n * The `TelemetryCollector` class handles collection of telemetry events from Clerk SDKs. Telemetry is opt-out and can be disabled by setting a CLERK_TELEMETRY_DISABLED environment variable.\n * The `ClerkProvider` also accepts a `telemetry` prop that will be passed to the collector during initialization:.\n *\n * ```jsx\n * <ClerkProvider telemetry={false}>\n *    ...\n * </ClerkProvider>\n * ```\n *\n * For more information, please see the telemetry documentation page: https://clerk.com/docs/telemetry.\n */\nimport type {\n  InstanceType,\n  SDKMetadata,\n  TelemetryCollector as TelemetryCollectorInterface,\n  TelemetryEvent,\n  TelemetryEventRaw,\n} from '@clerk/types';\n\nimport { parsePublishableKey } from '../keys';\nimport { isTruthy } from '../underscore';\nimport { TelemetryEventThrottler } from './throttler';\nimport type { TelemetryCollectorOptions } from './types';\n\n/**\n * Local interface for window.Clerk to avoid global type pollution.\n * This is only used within this module and doesn't affect other packages.\n */\ninterface WindowWithClerk extends Window {\n  Clerk?: {\n    constructor?: {\n      sdkMetadata?: SDKMetadata;\n    };\n  };\n}\n\n/**\n * Type guard to check if window.Clerk exists and has the expected structure.\n */\nfunction isWindowClerkWithMetadata(clerk: unknown): clerk is { constructor: { sdkMetadata?: SDKMetadata } } {\n  return (\n    typeof clerk === 'object' && clerk !== null && 'constructor' in clerk && typeof clerk.constructor === 'function'\n  );\n}\n\ntype TelemetryCollectorConfig = Pick<\n  TelemetryCollectorOptions,\n  'samplingRate' | 'disabled' | 'debug' | 'maxBufferSize' | 'perEventSampling'\n> & {\n  endpoint: string;\n};\n\ntype TelemetryMetadata = Required<\n  Pick<TelemetryCollectorOptions, 'clerkVersion' | 'sdk' | 'sdkVersion' | 'publishableKey' | 'secretKey'>\n> & {\n  /**\n   * The instance type, derived from the provided publishableKey.\n   */\n  instanceType: InstanceType;\n};\n\nconst DEFAULT_CONFIG: Partial<TelemetryCollectorConfig> = {\n  samplingRate: 1,\n  maxBufferSize: 5,\n  // Production endpoint: https://clerk-telemetry.com\n  // Staging endpoint: https://staging.clerk-telemetry.com\n  // Local: http://localhost:8787\n  endpoint: 'https://clerk-telemetry.com',\n};\n\nexport class TelemetryCollector implements TelemetryCollectorInterface {\n  #config: Required<TelemetryCollectorConfig>;\n  #eventThrottler: TelemetryEventThrottler;\n  #metadata: TelemetryMetadata = {} as TelemetryMetadata;\n  #buffer: TelemetryEvent[] = [];\n  #pendingFlush: any;\n\n  constructor(options: TelemetryCollectorOptions) {\n    this.#config = {\n      maxBufferSize: options.maxBufferSize ?? DEFAULT_CONFIG.maxBufferSize,\n      samplingRate: options.samplingRate ?? DEFAULT_CONFIG.samplingRate,\n      perEventSampling: options.perEventSampling ?? true,\n      disabled: options.disabled ?? false,\n      debug: options.debug ?? false,\n      endpoint: DEFAULT_CONFIG.endpoint,\n    } as Required<TelemetryCollectorConfig>;\n\n    if (!options.clerkVersion && typeof window === 'undefined') {\n      // N/A in a server environment\n      this.#metadata.clerkVersion = '';\n    } else {\n      this.#metadata.clerkVersion = options.clerkVersion ?? '';\n    }\n\n    // We will try to grab the SDK data lazily when an event is triggered, so it should always be defined once the event is sent.\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this.#metadata.sdk = options.sdk!;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this.#metadata.sdkVersion = options.sdkVersion!;\n\n    this.#metadata.publishableKey = options.publishableKey ?? '';\n\n    const parsedKey = parsePublishableKey(options.publishableKey);\n    if (parsedKey) {\n      this.#metadata.instanceType = parsedKey.instanceType;\n    }\n\n    if (options.secretKey) {\n      // Only send the first 16 characters of the secret key to to avoid sending the full key. We can still query against the partial key.\n      this.#metadata.secretKey = options.secretKey.substring(0, 16);\n    }\n\n    this.#eventThrottler = new TelemetryEventThrottler();\n  }\n\n  get isEnabled(): boolean {\n    if (this.#metadata.instanceType !== 'development') {\n      return false;\n    }\n\n    // In browser or client environments, we most likely pass the disabled option to the collector, but in environments\n    // where environment variables are available we also check for `CLERK_TELEMETRY_DISABLED`.\n    if (\n      this.#config.disabled ||\n      (typeof process !== 'undefined' && process.env && isTruthy(process.env.CLERK_TELEMETRY_DISABLED))\n    ) {\n      return false;\n    }\n\n    // navigator.webdriver is a property generally set by headless browsers that are running in an automated testing environment.\n    // Data from these environments is not meaningful for us and has the potential to produce a large volume of events, so we disable\n    // collection in this case. (ref: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/webdriver)\n    if (typeof window !== 'undefined' && !!window?.navigator?.webdriver) {\n      return false;\n    }\n\n    return true;\n  }\n\n  get isDebug(): boolean {\n    return (\n      this.#config.debug ||\n      (typeof process !== 'undefined' && process.env && isTruthy(process.env.CLERK_TELEMETRY_DEBUG))\n    );\n  }\n\n  record(event: TelemetryEventRaw): void {\n    const preparedPayload = this.#preparePayload(event.event, event.payload);\n\n    this.#logEvent(preparedPayload.event, preparedPayload);\n\n    if (!this.#shouldRecord(preparedPayload, event.eventSamplingRate)) {\n      return;\n    }\n\n    this.#buffer.push(preparedPayload);\n\n    this.#scheduleFlush();\n  }\n\n  #shouldRecord(preparedPayload: TelemetryEvent, eventSamplingRate?: number) {\n    return this.isEnabled && !this.isDebug && this.#shouldBeSampled(preparedPayload, eventSamplingRate);\n  }\n\n  #shouldBeSampled(preparedPayload: TelemetryEvent, eventSamplingRate?: number) {\n    const randomSeed = Math.random();\n\n    const toBeSampled =\n      randomSeed <= this.#config.samplingRate &&\n      (this.#config.perEventSampling === false ||\n        typeof eventSamplingRate === 'undefined' ||\n        randomSeed <= eventSamplingRate);\n\n    if (!toBeSampled) {\n      return false;\n    }\n\n    return !this.#eventThrottler.isEventThrottled(preparedPayload);\n  }\n\n  #scheduleFlush(): void {\n    // On the server, we want to flush immediately as we have less guarantees about the lifecycle of the process\n    if (typeof window === 'undefined') {\n      this.#flush();\n      return;\n    }\n\n    const isBufferFull = this.#buffer.length >= this.#config.maxBufferSize;\n    if (isBufferFull) {\n      // If the buffer is full, flush immediately to make sure we minimize the chance of event loss.\n      // Cancel any pending flushes as we're going to flush immediately\n      if (this.#pendingFlush) {\n        const cancel = typeof cancelIdleCallback !== 'undefined' ? cancelIdleCallback : clearTimeout;\n        cancel(this.#pendingFlush);\n      }\n      this.#flush();\n      return;\n    }\n\n    // If we have a pending flush, do nothing\n    if (this.#pendingFlush) {\n      return;\n    }\n\n    if ('requestIdleCallback' in window) {\n      this.#pendingFlush = requestIdleCallback(() => {\n        this.#flush();\n      });\n    } else {\n      // This is not an ideal solution, but it at least waits until the next tick\n      this.#pendingFlush = setTimeout(() => {\n        this.#flush();\n      }, 0);\n    }\n  }\n\n  #flush(): void {\n    // Capture the current buffer and clear it immediately to avoid closure references\n    const eventsToSend = [...this.#buffer];\n    this.#buffer = [];\n\n    this.#pendingFlush = null;\n\n    if (eventsToSend.length === 0) {\n      return;\n    }\n\n    fetch(new URL('/v1/event', this.#config.endpoint), {\n      method: 'POST',\n      // TODO: We send an array here with that idea that we can eventually send multiple events.\n      body: JSON.stringify({\n        events: eventsToSend,\n      }),\n      keepalive: true,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    }).catch(() => void 0);\n  }\n\n  /**\n   * If running in debug mode, log the event and its payload to the console.\n   */\n  #logEvent(event: TelemetryEvent['event'], payload: Record<string, any>) {\n    if (!this.isDebug) {\n      return;\n    }\n\n    if (typeof console.groupCollapsed !== 'undefined') {\n      console.groupCollapsed('[clerk/telemetry]', event);\n      console.log(payload);\n      console.groupEnd();\n    } else {\n      console.log('[clerk/telemetry]', event, payload);\n    }\n  }\n\n  /**\n   * If in browser, attempt to lazily grab the SDK metadata from the Clerk singleton, otherwise fallback to the initially passed in values.\n   *\n   * This is necessary because the sdkMetadata can be set by the host SDK after the TelemetryCollector is instantiated.\n   */\n  #getSDKMetadata() {\n    const sdkMetadata = {\n      name: this.#metadata.sdk,\n      version: this.#metadata.sdkVersion,\n    };\n\n    if (typeof window !== 'undefined') {\n      const windowWithClerk = window as WindowWithClerk;\n\n      if (windowWithClerk.Clerk) {\n        const windowClerk = windowWithClerk.Clerk;\n\n        if (isWindowClerkWithMetadata(windowClerk) && windowClerk.constructor.sdkMetadata) {\n          const { name, version } = windowClerk.constructor.sdkMetadata;\n\n          // Only update properties if they exist to avoid overwriting with undefined\n          if (name !== undefined) {\n            sdkMetadata.name = name;\n          }\n          if (version !== undefined) {\n            sdkMetadata.version = version;\n          }\n        }\n      }\n    }\n\n    return sdkMetadata;\n  }\n\n  /**\n   * Append relevant metadata from the Clerk singleton to the event payload.\n   */\n  #preparePayload(event: TelemetryEvent['event'], payload: TelemetryEvent['payload']): TelemetryEvent {\n    const sdkMetadata = this.#getSDKMetadata();\n\n    return {\n      event,\n      cv: this.#metadata.clerkVersion ?? '',\n      it: this.#metadata.instanceType ?? '',\n      sdk: sdkMetadata.name,\n      sdkv: sdkMetadata.version,\n      ...(this.#metadata.publishableKey ? { pk: this.#metadata.publishableKey } : {}),\n      ...(this.#metadata.secretKey ? { sk: this.#metadata.secretKey } : {}),\n      payload,\n    };\n  }\n}\n","import type { TelemetryEventRaw } from '@clerk/types';\n\nconst EVENT_COMPONENT_MOUNTED = 'COMPONENT_MOUNTED';\nconst EVENT_COMPONENT_OPENED = 'COMPONENT_OPENED';\nconst EVENT_SAMPLING_RATE = 0.1;\n\ntype ComponentMountedBase = {\n  component: string;\n};\n\ntype EventPrebuiltComponent = ComponentMountedBase & {\n  appearanceProp: boolean;\n  elements: boolean;\n  variables: boolean;\n  baseTheme: boolean;\n};\n\ntype EventComponentMounted = ComponentMountedBase & TelemetryEventRaw['payload'];\n\n/**\n * @internal\n */\nfunction createPrebuiltComponentEvent(event: typeof EVENT_COMPONENT_MOUNTED | typeof EVENT_COMPONENT_OPENED) {\n  return function (\n    component: string,\n    props?: Record<string, any>,\n    additionalPayload?: TelemetryEventRaw['payload'],\n  ): TelemetryEventRaw<EventPrebuiltComponent> {\n    return {\n      event,\n      eventSamplingRate: EVENT_SAMPLING_RATE,\n      payload: {\n        component,\n        appearanceProp: Boolean(props?.appearance),\n        baseTheme: Boolean(props?.appearance?.baseTheme),\n        elements: Boolean(props?.appearance?.elements),\n        variables: Boolean(props?.appearance?.variables),\n        ...additionalPayload,\n      },\n    };\n  };\n}\n\n/**\n * Helper function for `telemetry.record()`. Create a consistent event object for when a prebuilt (AIO) component is mounted.\n *\n * @param component - The name of the component.\n * @param props - The props passed to the component. Will be filtered to a known list of props.\n * @param additionalPayload - Additional data to send with the event.\n * @example\n * telemetry.record(eventPrebuiltComponentMounted('SignUp', props));\n */\nexport function eventPrebuiltComponentMounted(\n  component: string,\n  props?: Record<string, any>,\n  additionalPayload?: TelemetryEventRaw['payload'],\n): TelemetryEventRaw<EventPrebuiltComponent> {\n  return createPrebuiltComponentEvent(EVENT_COMPONENT_MOUNTED)(component, props, additionalPayload);\n}\n\n/**\n * Helper function for `telemetry.record()`. Create a consistent event object for when a prebuilt (AIO) component is opened as a modal.\n *\n * @param component - The name of the component.\n * @param props - The props passed to the component. Will be filtered to a known list of props.\n * @param additionalPayload - Additional data to send with the event.\n * @example\n * telemetry.record(eventPrebuiltComponentOpened('GoogleOneTap', props));\n */\nexport function eventPrebuiltComponentOpened(\n  component: string,\n  props?: Record<string, any>,\n  additionalPayload?: TelemetryEventRaw['payload'],\n): TelemetryEventRaw<EventPrebuiltComponent> {\n  return createPrebuiltComponentEvent(EVENT_COMPONENT_OPENED)(component, props, additionalPayload);\n}\n\n/**\n * Helper function for `telemetry.record()`. Create a consistent event object for when a component is mounted. Use `eventPrebuiltComponentMounted` for prebuilt components.\n *\n * **Caution:** Filter the `props` you pass to this function to avoid sending too much data.\n *\n * @param component - The name of the component.\n * @param props - The props passed to the component. Ideally you only pass a handful of props here.\n * @example\n * telemetry.record(eventComponentMounted('SignUp', props));\n */\nexport function eventComponentMounted(\n  component: string,\n  props: TelemetryEventRaw['payload'] = {},\n): TelemetryEventRaw<EventComponentMounted> {\n  return {\n    event: EVENT_COMPONENT_MOUNTED,\n    eventSamplingRate: EVENT_SAMPLING_RATE,\n    payload: {\n      component,\n      ...props,\n    },\n  };\n}\n","import type { TelemetryEventRaw } from '@clerk/types';\n\nconst EVENT_METHOD_CALLED = 'METHOD_CALLED';\nconst EVENT_SAMPLING_RATE = 0.1;\n\ntype EventMethodCalled = {\n  method: string;\n} & Record<string, string | number | boolean>;\n\n/**\n * Fired when a helper method is called from a Clerk SDK.\n */\nexport function eventMethodCalled(\n  method: string,\n  payload?: Record<string, unknown>,\n): TelemetryEventRaw<EventMethodCalled> {\n  return {\n    event: EVENT_METHOD_CALLED,\n    eventSamplingRate: EVENT_SAMPLING_RATE,\n    payload: {\n      method,\n      ...payload,\n    },\n  };\n}\n","import type { TelemetryEventRaw } from '@clerk/types';\n\nconst EVENT_FRAMEWORK_METADATA = 'FRAMEWORK_METADATA';\nconst EVENT_SAMPLING_RATE = 0.1;\n\ntype EventFrameworkMetadata = Record<string, string | number | boolean>;\n\n/**\n * Fired when a helper method is called from a Clerk SDK.\n */\nexport function eventFrameworkMetadata(payload: EventFrameworkMetadata): TelemetryEventRaw<EventFrameworkMetadata> {\n  return {\n    event: EVENT_FRAMEWORK_METADATA,\n    eventSamplingRate: EVENT_SAMPLING_RATE,\n    payload,\n  };\n}\n"],"names":["EVENT_SAMPLING_RATE","EVENT_SAMPLING_RATE"],"mappings":"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","debugId":null}},
    {"offset": {"line": 2077, "column": 0}, "map": {"version":3,"sources":[],"sourcesContent":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 2111, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/apiUrlFromPublishableKey.ts"],"sourcesContent":["import {\n  LEGACY_DEV_INSTANCE_SUFFIXES,\n  LOCAL_API_URL,\n  LOCAL_ENV_SUFFIXES,\n  PROD_API_URL,\n  STAGING_API_URL,\n  STAGING_ENV_SUFFIXES,\n} from './constants';\nimport { parsePublishableKey } from './keys';\n\n/**\n * Get the correct API url based on the publishable key.\n *\n * @param publishableKey - The publishable key to parse.\n * @returns One of Clerk's API URLs.\n */\nexport const apiUrlFromPublishableKey = (publishableKey: string) => {\n  const frontendApi = parsePublishableKey(publishableKey)?.frontendApi;\n\n  if (frontendApi?.startsWith('clerk.') && LEGACY_DEV_INSTANCE_SUFFIXES.some(suffix => frontendApi?.endsWith(suffix))) {\n    return PROD_API_URL;\n  }\n\n  if (LOCAL_ENV_SUFFIXES.some(suffix => frontendApi?.endsWith(suffix))) {\n    return LOCAL_API_URL;\n  }\n  if (STAGING_ENV_SUFFIXES.some(suffix => frontendApi?.endsWith(suffix))) {\n    return STAGING_API_URL;\n  }\n  return PROD_API_URL;\n};\n"],"names":[],"mappings":";;;;;;;;AAgBO,IAAM,2BAA2B,CAAC,mBAA2B;IAClE,MAAM,oLAAc,sBAAA,EAAoB,cAAc,GAAG;IAEzD,IAAI,aAAa,WAAW,QAAQ,uKAAK,+BAAA,CAA6B,IAAA,CAAK,CAAA,SAAU,aAAa,SAAS,MAAM,CAAC,GAAG;QACnH,yKAAO,eAAA;IACT;IAEA,qKAAI,sBAAA,CAAmB,IAAA,CAAK,CAAA,SAAU,aAAa,SAAS,MAAM,CAAC,GAAG;QACpE,yKAAO,gBAAA;IACT;IACA,IAAI,yLAAA,CAAqB,IAAA,CAAK,CAAA,SAAU,aAAa,SAAS,MAAM,CAAC,GAAG;QACtE,yKAAO,kBAAA;IACT;IACA,yKAAO,eAAA;AACT","debugId":null}},
    {"offset": {"line": 2138, "column": 0}, "map": {"version":3,"sources":[],"sourcesContent":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 2169, "column": 0}, "map": {"version":3,"sources":[],"sourcesContent":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 2188, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/logger.ts"],"sourcesContent":["const loggedMessages: Set<string> = new Set();\n\nexport const logger = {\n  /**\n   * A custom logger that ensures messages are logged only once.\n   * Reduces noise and duplicated messages when logs are in a hot codepath.\n   */\n  warnOnce: (msg: string) => {\n    if (loggedMessages.has(msg)) {\n      return;\n    }\n\n    loggedMessages.add(msg);\n    console.warn(msg);\n  },\n  logOnce: (msg: string) => {\n    if (loggedMessages.has(msg)) {\n      return;\n    }\n\n    console.log(msg);\n    loggedMessages.add(msg);\n  },\n};\n"],"names":[],"mappings":";;;;AAAA,IAAM,iBAA8B,aAAA,GAAA,IAAI,IAAI;AAErC,IAAM,SAAS;IAAA;;;GAAA,GAKpB,UAAU,CAAC,QAAgB;QACzB,IAAI,eAAe,GAAA,CAAI,GAAG,GAAG;YAC3B;QACF;QAEA,eAAe,GAAA,CAAI,GAAG;QACtB,QAAQ,IAAA,CAAK,GAAG;IAClB;IACA,SAAS,CAAC,QAAgB;QACxB,IAAI,eAAe,GAAA,CAAI,GAAG,GAAG;YAC3B;QACF;QAEA,QAAQ,GAAA,CAAI,GAAG;QACf,eAAe,GAAA,CAAI,GAAG;IACxB;AACF","debugId":null}},
    {"offset": {"line": 2218, "column": 0}, "map": {"version":3,"sources":[],"sourcesContent":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 2237, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/proxy.ts"],"sourcesContent":["export function isValidProxyUrl(key: string | undefined) {\n  if (!key) {\n    return true;\n  }\n\n  return isHttpOrHttps(key) || isProxyUrlRelative(key);\n}\n\nexport function isHttpOrHttps(key: string | undefined) {\n  return /^http(s)?:\\/\\//.test(key || '');\n}\n\nexport function isProxyUrlRelative(key: string) {\n  return key.startsWith('/');\n}\n\nexport function proxyUrlToAbsoluteURL(url: string | undefined): string {\n  if (!url) {\n    return '';\n  }\n  return isProxyUrlRelative(url) ? new URL(url, window.location.origin).toString() : url;\n}\n"],"names":[],"mappings":";;;;;;;AAAO,SAAS,gBAAgB,GAAA,EAAyB;IACvD,IAAI,CAAC,KAAK;QACR,OAAO;IACT;IAEA,OAAO,cAAc,GAAG,KAAK,mBAAmB,GAAG;AACrD;AAEO,SAAS,cAAc,GAAA,EAAyB;IACrD,OAAO,iBAAiB,IAAA,CAAK,OAAO,EAAE;AACxC;AAEO,SAAS,mBAAmB,GAAA,EAAa;IAC9C,OAAO,IAAI,UAAA,CAAW,GAAG;AAC3B;AAEO,SAAS,sBAAsB,GAAA,EAAiC;IACrE,IAAI,CAAC,KAAK;QACR,OAAO;IACT;IACA,OAAO,mBAAmB,GAAG,IAAI,IAAI,IAAI,KAAK,OAAO,QAAA,CAAS,MAAM,EAAE,QAAA,CAAS,IAAI;AACrF","debugId":null}},
    {"offset": {"line": 2268, "column": 0}, "map": {"version":3,"sources":[],"sourcesContent":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 2287, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/utils/allSettled.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/utils/logErrorInDevMode.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/utils/fastDeepMerge.ts"],"sourcesContent":["/**\n * A ES6 compatible utility that implements `Promise.allSettled`\n * @internal\n */\nexport function allSettled<T>(\n  iterable: Iterable<Promise<T>>,\n): Promise<({ status: 'fulfilled'; value: T } | { status: 'rejected'; reason: any })[]> {\n  const promises = Array.from(iterable).map(p =>\n    p.then(\n      value => ({ status: 'fulfilled', value }) as const,\n      reason => ({ status: 'rejected', reason }) as const,\n    ),\n  );\n  return Promise.all(promises);\n}\n","import { isDevelopmentEnvironment } from './runtimeEnvironment';\n\nexport const logErrorInDevMode = (message: string) => {\n  if (isDevelopmentEnvironment()) {\n    console.error(`Clerk: ${message}`);\n  }\n};\n","/**\n * Merges 2 objects without creating new object references\n * The merged props will appear on the `target` object\n * If `target` already has a value for a given key it will not be overwritten\n */\nexport const fastDeepMergeAndReplace = (\n  source: Record<any, any> | undefined | null,\n  target: Record<any, any> | undefined | null,\n) => {\n  if (!source || !target) {\n    return;\n  }\n\n  for (const key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key) && source[key] !== null && typeof source[key] === `object`) {\n      if (target[key] === undefined) {\n        target[key] = new (Object.getPrototypeOf(source[key]).constructor)();\n      }\n      fastDeepMergeAndReplace(source[key], target[key]);\n    } else if (Object.prototype.hasOwnProperty.call(source, key)) {\n      target[key] = source[key];\n    }\n  }\n};\n\nexport const fastDeepMergeAndKeep = (\n  source: Record<any, any> | undefined | null,\n  target: Record<any, any> | undefined | null,\n) => {\n  if (!source || !target) {\n    return;\n  }\n\n  for (const key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key) && source[key] !== null && typeof source[key] === `object`) {\n      if (target[key] === undefined) {\n        target[key] = new (Object.getPrototypeOf(source[key]).constructor)();\n      }\n      fastDeepMergeAndKeep(source[key], target[key]);\n    } else if (Object.prototype.hasOwnProperty.call(source, key) && target[key] === undefined) {\n      target[key] = source[key];\n    }\n  }\n};\n"],"names":[],"mappings":";;;;;;;;;AAIO,SAAS,WACd,QAAA,EACsF;IACtF,MAAM,WAAW,MAAM,IAAA,CAAK,QAAQ,EAAE,GAAA,CAAI,CAAA,IACxC,EAAE,IAAA,CACA,CAAA,QAAA,CAAU;gBAAE,QAAQ;gBAAa;YAAM,CAAA,GACvC,CAAA,SAAA,CAAW;gBAAE,QAAQ;gBAAY;YAAO,CAAA;IAG5C,OAAO,QAAQ,GAAA,CAAI,QAAQ;AAC7B;;ACZO,IAAM,oBAAoB,CAAC,YAAoB;IACpD,0KAAI,2BAAA,CAAyB,IAAG;QAC9B,QAAQ,KAAA,CAAM,CAAA,OAAA,EAAU,OAAO,EAAE;IACnC;AACF;;ACDO,IAAM,0BAA0B,CACrC,QACA,WACG;IACH,IAAI,CAAC,UAAU,CAAC,QAAQ;QACtB;IACF;IAEA,IAAA,MAAW,OAAO,OAAQ;QACxB,IAAI,OAAO,SAAA,CAAU,cAAA,CAAe,IAAA,CAAK,QAAQ,GAAG,KAAK,MAAA,CAAO,GAAG,CAAA,KAAM,QAAQ,OAAO,MAAA,CAAO,GAAG,CAAA,KAAM,CAAA,MAAA,CAAA,EAAU;YAChH,IAAI,MAAA,CAAO,GAAG,CAAA,KAAM,KAAA,GAAW;gBAC7B,MAAA,CAAO,GAAG,CAAA,GAAI,IAAA,CAAK,OAAO,cAAA,CAAe,MAAA,CAAO,GAAG,CAAC,CAAA,EAAE,WAAA,CAAa;YACrE;YACA,wBAAwB,MAAA,CAAO,GAAG,CAAA,EAAG,MAAA,CAAO,GAAG,CAAC;QAClD,OAAA,IAAW,OAAO,SAAA,CAAU,cAAA,CAAe,IAAA,CAAK,QAAQ,GAAG,GAAG;YAC5D,MAAA,CAAO,GAAG,CAAA,GAAI,MAAA,CAAO,GAAG,CAAA;QAC1B;IACF;AACF;AAEO,IAAM,uBAAuB,CAClC,QACA,WACG;IACH,IAAI,CAAC,UAAU,CAAC,QAAQ;QACtB;IACF;IAEA,IAAA,MAAW,OAAO,OAAQ;QACxB,IAAI,OAAO,SAAA,CAAU,cAAA,CAAe,IAAA,CAAK,QAAQ,GAAG,KAAK,MAAA,CAAO,GAAG,CAAA,KAAM,QAAQ,OAAO,MAAA,CAAO,GAAG,CAAA,KAAM,CAAA,MAAA,CAAA,EAAU;YAChH,IAAI,MAAA,CAAO,GAAG,CAAA,KAAM,KAAA,GAAW;gBAC7B,MAAA,CAAO,GAAG,CAAA,GAAI,IAAA,CAAK,OAAO,cAAA,CAAe,MAAA,CAAO,GAAG,CAAC,CAAA,EAAE,WAAA,CAAa;YACrE;YACA,qBAAqB,MAAA,CAAO,GAAG,CAAA,EAAG,MAAA,CAAO,GAAG,CAAC;QAC/C,OAAA,IAAW,OAAO,SAAA,CAAU,cAAA,CAAe,IAAA,CAAK,QAAQ,GAAG,KAAK,MAAA,CAAO,GAAG,CAAA,KAAM,KAAA,GAAW;YACzF,MAAA,CAAO,GAAG,CAAA,GAAI,MAAA,CAAO,GAAG,CAAA;QAC1B;IACF;AACF","debugId":null}},
    {"offset": {"line": 2349, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/utils/noop.ts"],"sourcesContent":["export const noop = (..._args: any[]): void => {\n  // do nothing.\n};\n"],"names":[],"mappings":";;;;AAAO,IAAM,OAAO,CAAA,GAAI,SAExB,CAF+C","debugId":null}},
    {"offset": {"line": 2360, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/utils/createDeferredPromise.ts"],"sourcesContent":["import { noop } from './noop';\n\ntype Callback = (val?: any) => void;\n\n/**\n * Create a promise that can be resolved or rejected from\n * outside the Promise constructor callback\n * A ES6 compatible utility that implements `Promise.withResolvers`\n * @internal\n */\nexport const createDeferredPromise = () => {\n  let resolve: Callback = noop;\n  let reject: Callback = noop;\n  const promise = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  return { promise, resolve, reject };\n};\n"],"names":[],"mappings":";;;;;;AAUO,IAAM,wBAAwB,MAAM;IACzC,IAAI,4KAAoB,OAAA;IACxB,IAAI,2KAAmB,OAAA;IACvB,MAAM,UAAU,IAAI,QAAQ,CAAC,KAAK,QAAQ;QACxC,UAAU;QACV,SAAS;IACX,CAAC;IACD,OAAO;QAAE;QAAS;QAAS;IAAO;AACpC","debugId":null}},
    {"offset": {"line": 2385, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40clerk/shared/src/utils/handleValueOrFn.ts"],"sourcesContent":["type VOrFnReturnsV<T> = T | undefined | ((v: URL) => T);\nexport function handleValueOrFn<T>(value: VOrFnReturnsV<T>, url: URL): T | undefined;\nexport function handleValueOrFn<T>(value: VOrFnReturnsV<T>, url: URL, defaultValue: T): T;\nexport function handleValueOrFn<T>(value: VOrFnReturnsV<T>, url: URL, defaultValue?: unknown): unknown {\n  if (typeof value === 'function') {\n    return (value as (v: URL) => T)(url);\n  }\n\n  if (typeof value !== 'undefined') {\n    return value;\n  }\n\n  if (typeof defaultValue !== 'undefined') {\n    return defaultValue;\n  }\n\n  return undefined;\n}\n"],"names":[],"mappings":";;;;AAGO,SAAS,gBAAmB,KAAA,EAAyB,GAAA,EAAU,YAAA,EAAiC;IACrG,IAAI,OAAO,UAAU,YAAY;QAC/B,OAAQ,MAAwB,GAAG;IACrC;IAEA,IAAI,OAAO,UAAU,aAAa;QAChC,OAAO;IACT;IAEA,IAAI,OAAO,iBAAiB,aAAa;QACvC,OAAO;IACT;IAEA,OAAO,KAAA;AACT","debugId":null}},
    {"offset": {"line": 2407, "column": 0}, "map": {"version":3,"sources":[],"sourcesContent":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 2443, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/cookie/dist/index.js","sourceRoot":"","sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/cookie/src/index.ts"],"sourcesContent":["/**\n * RegExp to match cookie-name in RFC 6265 sec 4.1.1\n * This refers out to the obsoleted definition of token in RFC 2616 sec 2.2\n * which has been replaced by the token definition in RFC 7230 appendix B.\n *\n * cookie-name       = token\n * token             = 1*tchar\n * tchar             = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" /\n *                     \"*\" / \"+\" / \"-\" / \".\" / \"^\" / \"_\" /\n *                     \"`\" / \"|\" / \"~\" / DIGIT / ALPHA\n *\n * Note: Allowing more characters - https://github.com/jshttp/cookie/issues/191\n * Allow same range as cookie value, except `=`, which delimits end of name.\n */\nconst cookieNameRegExp = /^[\\u0021-\\u003A\\u003C\\u003E-\\u007E]+$/;\n\n/**\n * RegExp to match cookie-value in RFC 6265 sec 4.1.1\n *\n * cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n * cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n *                     ; US-ASCII characters excluding CTLs,\n *                     ; whitespace DQUOTE, comma, semicolon,\n *                     ; and backslash\n *\n * Allowing more characters: https://github.com/jshttp/cookie/issues/191\n * Comma, backslash, and DQUOTE are not part of the parsing algorithm.\n */\nconst cookieValueRegExp = /^[\\u0021-\\u003A\\u003C-\\u007E]*$/;\n\n/**\n * RegExp to match domain-value in RFC 6265 sec 4.1.1\n *\n * domain-value      = <subdomain>\n *                     ; defined in [RFC1034], Section 3.5, as\n *                     ; enhanced by [RFC1123], Section 2.1\n * <subdomain>       = <label> | <subdomain> \".\" <label>\n * <label>           = <let-dig> [ [ <ldh-str> ] <let-dig> ]\n *                     Labels must be 63 characters or less.\n *                     'let-dig' not 'letter' in the first char, per RFC1123\n * <ldh-str>         = <let-dig-hyp> | <let-dig-hyp> <ldh-str>\n * <let-dig-hyp>     = <let-dig> | \"-\"\n * <let-dig>         = <letter> | <digit>\n * <letter>          = any one of the 52 alphabetic characters A through Z in\n *                     upper case and a through z in lower case\n * <digit>           = any one of the ten digits 0 through 9\n *\n * Keep support for leading dot: https://github.com/jshttp/cookie/issues/173\n *\n * > (Note that a leading %x2E (\".\"), if present, is ignored even though that\n * character is not permitted, but a trailing %x2E (\".\"), if present, will\n * cause the user agent to ignore the attribute.)\n */\nconst domainValueRegExp =\n  /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;\n\n/**\n * RegExp to match path-value in RFC 6265 sec 4.1.1\n *\n * path-value        = <any CHAR except CTLs or \";\">\n * CHAR              = %x01-7F\n *                     ; defined in RFC 5234 appendix B.1\n */\nconst pathValueRegExp = /^[\\u0020-\\u003A\\u003D-\\u007E]*$/;\n\nconst __toString = Object.prototype.toString;\n\nconst NullObject = /* @__PURE__ */ (() => {\n  const C = function () {};\n  C.prototype = Object.create(null);\n  return C;\n})() as unknown as { new (): any };\n\n/**\n * Parse options.\n */\nexport interface ParseOptions {\n  /**\n   * Specifies a function that will be used to decode a [cookie-value](https://datatracker.ietf.org/doc/html/rfc6265#section-4.1.1).\n   * Since the value of a cookie has a limited character set (and must be a simple string), this function can be used to decode\n   * a previously-encoded cookie value into a JavaScript string.\n   *\n   * The default function is the global `decodeURIComponent`, wrapped in a `try..catch`. If an error\n   * is thrown it will return the cookie's original value. If you provide your own encode/decode\n   * scheme you must ensure errors are appropriately handled.\n   *\n   * @default decode\n   */\n  decode?: (str: string) => string | undefined;\n}\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n */\nexport function parse(\n  str: string,\n  options?: ParseOptions,\n): Record<string, string | undefined> {\n  const obj: Record<string, string | undefined> = new NullObject();\n  const len = str.length;\n  // RFC 6265 sec 4.1.1, RFC 2616 2.2 defines a cookie name consists of one char minimum, plus '='.\n  if (len < 2) return obj;\n\n  const dec = options?.decode || decode;\n  let index = 0;\n\n  do {\n    const eqIdx = str.indexOf(\"=\", index);\n    if (eqIdx === -1) break; // No more cookie pairs.\n\n    const colonIdx = str.indexOf(\";\", index);\n    const endIdx = colonIdx === -1 ? len : colonIdx;\n\n    if (eqIdx > endIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(\";\", eqIdx - 1) + 1;\n      continue;\n    }\n\n    const keyStartIdx = startIndex(str, index, eqIdx);\n    const keyEndIdx = endIndex(str, eqIdx, keyStartIdx);\n    const key = str.slice(keyStartIdx, keyEndIdx);\n\n    // only assign once\n    if (obj[key] === undefined) {\n      let valStartIdx = startIndex(str, eqIdx + 1, endIdx);\n      let valEndIdx = endIndex(str, endIdx, valStartIdx);\n\n      const value = dec(str.slice(valStartIdx, valEndIdx));\n      obj[key] = value;\n    }\n\n    index = endIdx + 1;\n  } while (index < len);\n\n  return obj;\n}\n\nfunction startIndex(str: string, index: number, max: number) {\n  do {\n    const code = str.charCodeAt(index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index;\n  } while (++index < max);\n  return max;\n}\n\nfunction endIndex(str: string, index: number, min: number) {\n  while (index > min) {\n    const code = str.charCodeAt(--index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index + 1;\n  }\n  return min;\n}\n\n/**\n * Serialize options.\n */\nexport interface SerializeOptions {\n  /**\n   * Specifies a function that will be used to encode a [cookie-value](https://datatracker.ietf.org/doc/html/rfc6265#section-4.1.1).\n   * Since value of a cookie has a limited character set (and must be a simple string), this function can be used to encode\n   * a value into a string suited for a cookie's value, and should mirror `decode` when parsing.\n   *\n   * @default encodeURIComponent\n   */\n  encode?: (str: string) => string;\n  /**\n   * Specifies the `number` (in seconds) to be the value for the [`Max-Age` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.2).\n   *\n   * The [cookie storage model specification](https://tools.ietf.org/html/rfc6265#section-5.3) states that if both `expires` and\n   * `maxAge` are set, then `maxAge` takes precedence, but it is possible not all clients by obey this,\n   * so if both are set, they should point to the same date and time.\n   */\n  maxAge?: number;\n  /**\n   * Specifies the `Date` object to be the value for the [`Expires` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.1).\n   * When no expiration is set clients consider this a \"non-persistent cookie\" and delete it the current session is over.\n   *\n   * The [cookie storage model specification](https://tools.ietf.org/html/rfc6265#section-5.3) states that if both `expires` and\n   * `maxAge` are set, then `maxAge` takes precedence, but it is possible not all clients by obey this,\n   * so if both are set, they should point to the same date and time.\n   */\n  expires?: Date;\n  /**\n   * Specifies the value for the [`Domain` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.3).\n   * When no domain is set clients consider the cookie to apply to the current domain only.\n   */\n  domain?: string;\n  /**\n   * Specifies the value for the [`Path` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.4).\n   * When no path is set, the path is considered the [\"default path\"](https://tools.ietf.org/html/rfc6265#section-5.1.4).\n   */\n  path?: string;\n  /**\n   * Enables the [`HttpOnly` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.6).\n   * When enabled, clients will not allow client-side JavaScript to see the cookie in `document.cookie`.\n   */\n  httpOnly?: boolean;\n  /**\n   * Enables the [`Secure` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.5).\n   * When enabled, clients will only send the cookie back if the browser has a HTTPS connection.\n   */\n  secure?: boolean;\n  /**\n   * Enables the [`Partitioned` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-cutler-httpbis-partitioned-cookies/).\n   * When enabled, clients will only send the cookie back when the current domain _and_ top-level domain matches.\n   *\n   * This is an attribute that has not yet been fully standardized, and may change in the future.\n   * This also means clients may ignore this attribute until they understand it. More information\n   * about can be found in [the proposal](https://github.com/privacycg/CHIPS).\n   */\n  partitioned?: boolean;\n  /**\n   * Specifies the value for the [`Priority` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-west-cookie-priority-00#section-4.1).\n   *\n   * - `'low'` will set the `Priority` attribute to `Low`.\n   * - `'medium'` will set the `Priority` attribute to `Medium`, the default priority when not set.\n   * - `'high'` will set the `Priority` attribute to `High`.\n   *\n   * More information about priority levels can be found in [the specification](https://tools.ietf.org/html/draft-west-cookie-priority-00#section-4.1).\n   */\n  priority?: \"low\" | \"medium\" | \"high\";\n  /**\n   * Specifies the value for the [`SameSite` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-09#section-5.4.7).\n   *\n   * - `true` will set the `SameSite` attribute to `Strict` for strict same site enforcement.\n   * - `'lax'` will set the `SameSite` attribute to `Lax` for lax same site enforcement.\n   * - `'none'` will set the `SameSite` attribute to `None` for an explicit cross-site cookie.\n   * - `'strict'` will set the `SameSite` attribute to `Strict` for strict same site enforcement.\n   *\n   * More information about enforcement levels can be found in [the specification](https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-09#section-5.4.7).\n   */\n  sameSite?: boolean | \"lax\" | \"strict\" | \"none\";\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize a name value pair into a cookie string suitable for\n * http headers. An optional options object specifies cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n */\nexport function serialize(\n  name: string,\n  val: string,\n  options?: SerializeOptions,\n): string {\n  const enc = options?.encode || encodeURIComponent;\n\n  if (!cookieNameRegExp.test(name)) {\n    throw new TypeError(`argument name is invalid: ${name}`);\n  }\n\n  const value = enc(val);\n\n  if (!cookieValueRegExp.test(value)) {\n    throw new TypeError(`argument val is invalid: ${val}`);\n  }\n\n  let str = name + \"=\" + value;\n  if (!options) return str;\n\n  if (options.maxAge !== undefined) {\n    if (!Number.isInteger(options.maxAge)) {\n      throw new TypeError(`option maxAge is invalid: ${options.maxAge}`);\n    }\n\n    str += \"; Max-Age=\" + options.maxAge;\n  }\n\n  if (options.domain) {\n    if (!domainValueRegExp.test(options.domain)) {\n      throw new TypeError(`option domain is invalid: ${options.domain}`);\n    }\n\n    str += \"; Domain=\" + options.domain;\n  }\n\n  if (options.path) {\n    if (!pathValueRegExp.test(options.path)) {\n      throw new TypeError(`option path is invalid: ${options.path}`);\n    }\n\n    str += \"; Path=\" + options.path;\n  }\n\n  if (options.expires) {\n    if (\n      !isDate(options.expires) ||\n      !Number.isFinite(options.expires.valueOf())\n    ) {\n      throw new TypeError(`option expires is invalid: ${options.expires}`);\n    }\n\n    str += \"; Expires=\" + options.expires.toUTCString();\n  }\n\n  if (options.httpOnly) {\n    str += \"; HttpOnly\";\n  }\n\n  if (options.secure) {\n    str += \"; Secure\";\n  }\n\n  if (options.partitioned) {\n    str += \"; Partitioned\";\n  }\n\n  if (options.priority) {\n    const priority =\n      typeof options.priority === \"string\"\n        ? options.priority.toLowerCase()\n        : undefined;\n    switch (priority) {\n      case \"low\":\n        str += \"; Priority=Low\";\n        break;\n      case \"medium\":\n        str += \"; Priority=Medium\";\n        break;\n      case \"high\":\n        str += \"; Priority=High\";\n        break;\n      default:\n        throw new TypeError(`option priority is invalid: ${options.priority}`);\n    }\n  }\n\n  if (options.sameSite) {\n    const sameSite =\n      typeof options.sameSite === \"string\"\n        ? options.sameSite.toLowerCase()\n        : options.sameSite;\n    switch (sameSite) {\n      case true:\n      case \"strict\":\n        str += \"; SameSite=Strict\";\n        break;\n      case \"lax\":\n        str += \"; SameSite=Lax\";\n        break;\n      case \"none\":\n        str += \"; SameSite=None\";\n        break;\n      default:\n        throw new TypeError(`option sameSite is invalid: ${options.sameSite}`);\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n */\nfunction decode(str: string): string {\n  if (str.indexOf(\"%\") === -1) return str;\n\n  try {\n    return decodeURIComponent(str);\n  } catch (e) {\n    return str;\n  }\n}\n\n/**\n * Determine if value is a Date.\n */\nfunction isDate(val: any): val is Date {\n  return __toString.call(val) === \"[object Date]\";\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2666, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/jwt-decode/build/esm/index.js"],"sourcesContent":["export class InvalidTokenError extends Error {\n}\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).replace(/(.)/g, (m, p) => {\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n        return \"%\" + code;\n    }));\n}\nfunction base64UrlDecode(str) {\n    let output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"base64 string is not of the correct length\");\n    }\n    try {\n        return b64DecodeUnicode(output);\n    }\n    catch (err) {\n        return atob(output);\n    }\n}\nexport function jwtDecode(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: must be a string\");\n    }\n    options || (options = {});\n    const pos = options.header === true ? 0 : 1;\n    const part = token.split(\".\")[pos];\n    if (typeof part !== \"string\") {\n        throw new InvalidTokenError(`Invalid token specified: missing part #${pos + 1}`);\n    }\n    let decoded;\n    try {\n        decoded = base64UrlDecode(part);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${pos + 1} (${e.message})`);\n    }\n    try {\n        return JSON.parse(decoded);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid json for part #${pos + 1} (${e.message})`);\n    }\n}\n"],"names":[],"mappings":";;;;AAAO,MAAM,0BAA0B;AACvC;AACA,kBAAkB,SAAS,CAAC,IAAI,GAAG;AACnC,SAAS,iBAAiB,GAAG;IACzB,OAAO,mBAAmB,KAAK,KAAK,OAAO,CAAC,QAAQ,CAAC,GAAG;QACpD,IAAI,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,IAAI,WAAW;QACnD,IAAI,KAAK,MAAM,GAAG,GAAG;YACjB,OAAO,MAAM;QACjB;QACA,OAAO,MAAM;IACjB;AACJ;AACA,SAAS,gBAAgB,GAAG;IACxB,IAAI,SAAS,IAAI,OAAO,CAAC,MAAM,KAAK,OAAO,CAAC,MAAM;IAClD,OAAQ,OAAO,MAAM,GAAG;QACpB,KAAK;YACD;QACJ,KAAK;YACD,UAAU;YACV;QACJ,KAAK;YACD,UAAU;YACV;QACJ;YACI,MAAM,IAAI,MAAM;IACxB;IACA,IAAI;QACA,OAAO,iBAAiB;IAC5B,EACA,OAAO,KAAK;QACR,OAAO,KAAK;IAChB;AACJ;AACO,SAAS,UAAU,KAAK,EAAE,OAAO;IACpC,IAAI,OAAO,UAAU,UAAU;QAC3B,MAAM,IAAI,kBAAkB;IAChC;IACA,WAAW,CAAC,UAAU,CAAC,CAAC;IACxB,MAAM,MAAM,QAAQ,MAAM,KAAK,OAAO,IAAI;IAC1C,MAAM,OAAO,MAAM,KAAK,CAAC,IAAI,CAAC,IAAI;IAClC,IAAI,OAAO,SAAS,UAAU;QAC1B,MAAM,IAAI,kBAAkB,CAAC,uCAAuC,EAAE,MAAM,GAAG;IACnF;IACA,IAAI;IACJ,IAAI;QACA,UAAU,gBAAgB;IAC9B,EACA,OAAO,GAAG;QACN,MAAM,IAAI,kBAAkB,CAAC,kDAAkD,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC;IAC7G;IACA,IAAI;QACA,OAAO,KAAK,KAAK,CAAC;IACtB,EACA,OAAO,GAAG;QACN,MAAM,IAAI,kBAAkB,CAAC,gDAAgD,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC;IAC3G;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2728, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/util/src/functions/lazy.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/util/src/functions/range.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/util/src/functions/calculateShardId.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/util/src/functions/runtime.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/util/src/functions/userAgentAppendix.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/util/src/functions/polyfillDispose.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/util/src/JSONEncodable.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/util/src/Equatable.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/util/src/index.ts"],"sourcesContent":["/**\n * Lazy is a wrapper around a value that is computed lazily. It is useful for\n * cases where the value is expensive to compute and the computation may not\n * be needed at all.\n *\n * @param cb - The callback to lazily evaluate\n * @typeParam Value - The type of the value\n * @example\n * ```ts\n * const value = lazy(() => computeExpensiveValue());\n * ```\n */\n// eslint-disable-next-line promise/prefer-await-to-callbacks\nexport function lazy<Value>(cb: () => Value): () => Value {\n\tlet defaultValue: Value;\n\t// eslint-disable-next-line promise/prefer-await-to-callbacks\n\treturn () => (defaultValue ??= cb());\n}\n","/**\n * Options for creating a range\n */\nexport interface RangeOptions {\n\t/**\n\t * The end of the range (exclusive)\n\t */\n\tend: number;\n\t/**\n\t * The start of the range (inclusive)\n\t */\n\tstart: number;\n\t/**\n\t * The amount to increment by\n\t *\n\t * @defaultValue `1`\n\t */\n\tstep?: number;\n}\n\n/**\n * A generator to yield numbers in a given range\n *\n * @remarks\n * This method is end-exclusive, for example the last number yielded by `range(5)` is 4. If you\n * prefer for the end to be included add 1 to the range or `end` option.\n * @param range - A number representing the range to yield (exclusive) or an object with start, end and step\n * @example\n * Basic range\n * ```ts\n * for (const number of range(5)) {\n *  console.log(number);\n * }\n * // Prints 0, 1, 2, 3, 4\n * ```\n * @example\n * Range with a step\n * ```ts\n * for (const number of range({ start: 3, end: 10, step: 2 })) {\n * \tconsole.log(number);\n * }\n * // Prints 3, 5, 7, 9\n * ```\n */\nexport function* range(range: RangeOptions | number) {\n\tlet rangeEnd: number;\n\tlet start = 0;\n\tlet step = 1;\n\n\tif (typeof range === 'number') {\n\t\trangeEnd = range;\n\t} else {\n\t\tstart = range.start;\n\t\trangeEnd = range.end;\n\t\tstep = range.step ?? 1;\n\t}\n\n\tfor (let index = start; index < rangeEnd; index += step) {\n\t\tyield index;\n\t}\n}\n","/**\n * Calculates the shard id for a given guild id.\n *\n * @param guildId - The guild id to calculate the shard id for\n * @param shardCount - The total number of shards\n */\nexport function calculateShardId(guildId: string, shardCount: number) {\n\treturn Number(BigInt(guildId) >> 22n) % shardCount;\n}\n","/* eslint-disable n/prefer-global/process */\n\nexport function shouldUseGlobalFetchAndWebSocket() {\n\t// Browser env and deno when ran directly\n\tif (typeof globalThis.process === 'undefined') {\n\t\treturn 'fetch' in globalThis && 'WebSocket' in globalThis;\n\t}\n\n\tif ('versions' in globalThis.process) {\n\t\treturn 'deno' in globalThis.process.versions || 'bun' in globalThis.process.versions;\n\t}\n\n\treturn false;\n}\n","/* eslint-disable n/prefer-global/process */\n\n/**\n * Resolves the user agent appendix string for the current environment.\n */\nexport function getUserAgentAppendix(): string {\n\t// https://vercel.com/docs/concepts/functions/edge-functions/edge-runtime#check-if-you're-running-on-the-edge-runtime\n\t// @ts-expect-error Vercel Edge functions\n\tif (typeof globalThis.EdgeRuntime !== 'undefined') {\n\t\treturn 'Vercel-Edge-Functions';\n\t}\n\n\t// @ts-expect-error Cloudflare Workers\n\tif (typeof globalThis.R2 !== 'undefined' && typeof globalThis.WebSocketPair !== 'undefined') {\n\t\t// https://developers.cloudflare.com/workers/runtime-apis/web-standards/#navigatoruseragent\n\t\treturn 'Cloudflare-Workers';\n\t}\n\n\t// https://docs.netlify.com/edge-functions/api/#netlify-global-object\n\t// @ts-expect-error Netlify Edge functions\n\tif (typeof globalThis.Netlify !== 'undefined') {\n\t\treturn 'Netlify-Edge-Functions';\n\t}\n\n\t// Most (if not all) edge environments will have `process` defined. Within a web browser we'll extract it using `navigator.userAgent`.\n\tif (typeof globalThis.process !== 'object') {\n\t\t// @ts-expect-error web env\n\t\tif (typeof globalThis.navigator === 'object') {\n\t\t\t// @ts-expect-error web env\n\t\t\treturn globalThis.navigator.userAgent;\n\t\t}\n\n\t\treturn 'UnknownEnvironment';\n\t}\n\n\tif ('versions' in globalThis.process) {\n\t\tif ('deno' in globalThis.process.versions) {\n\t\t\treturn `Deno/${globalThis.process.versions.deno}`;\n\t\t}\n\n\t\tif ('bun' in globalThis.process.versions) {\n\t\t\treturn `Bun/${globalThis.process.versions.bun}`;\n\t\t}\n\n\t\tif ('node' in globalThis.process.versions) {\n\t\t\treturn `Node.js/${globalThis.process.versions.node}`;\n\t\t}\n\t}\n\n\treturn 'UnknownEnvironment';\n}\n","/**\n * Polyfill for `Symbol.dispose` and `Symbol.asyncDispose` which is used as a part of\n * {@link https://github.com/tc39/proposal-explicit-resource-management}. Node versions below 18.x\n * don't have these symbols by default, so we need to polyfill them.\n */\nexport function polyfillDispose() {\n\t// Polyfill for `Symbol.dispose` and `Symbol.asyncDispose` if not available.\n\t// Taken from https://www.typescriptlang.org/docs/handbook/release-notes/typescript-5-2.html#using-declarations-and-explicit-resource-management\n\n\t// @ts-expect-error This is a polyfill, so it's fine to write\n\tSymbol.dispose ??= Symbol('Symbol.dispose');\n\t// @ts-expect-error Same as above\n\tSymbol.asyncDispose ??= Symbol('Symbol.asyncDispose');\n}\n","/**\n * Represents an object capable of representing itself as a JSON object\n *\n * @typeParam Value - The JSON type corresponding to {@link JSONEncodable.toJSON} outputs.\n */\nexport interface JSONEncodable<Value> {\n\t/**\n\t * Transforms this object to its JSON format\n\t */\n\ttoJSON(): Value;\n}\n\n/**\n * Indicates if an object is encodable or not.\n *\n * @param maybeEncodable - The object to check against\n */\nexport function isJSONEncodable(maybeEncodable: unknown): maybeEncodable is JSONEncodable<unknown> {\n\treturn maybeEncodable !== null && typeof maybeEncodable === 'object' && 'toJSON' in maybeEncodable;\n}\n","/**\n * Represents a structure that can be checked against another\n * given structure for equality\n *\n * @typeParam Value - The type of object to compare the current object to\n */\nexport interface Equatable<Value> {\n\t/**\n\t * Whether or not this is equal to another structure\n\t */\n\tequals(other: Value): boolean;\n}\n\n/**\n * Indicates if an object is equatable or not.\n *\n * @param maybeEquatable - The object to check against\n */\nexport function isEquatable(maybeEquatable: unknown): maybeEquatable is Equatable<unknown> {\n\treturn maybeEquatable !== null && typeof maybeEquatable === 'object' && 'equals' in maybeEquatable;\n}\n","export * from './types.js';\nexport * from './functions/index.js';\nexport * from './JSONEncodable.js';\nexport * from './Equatable.js';\n\n/**\n * The {@link https://github.com/discordjs/discord.js/blob/main/packages/util#readme | @discordjs/util} version\n * that you are currently using.\n *\n * @privateRemarks This needs to explicitly be `string` so it is not typed as a \"const string\" that gets injected by esbuild.\n */\nexport const version = '1.1.1' as string;\n"],"names":["range"],"mappings":";;;;;;;;;;;;;;;;;AAaO,SAAS,KAAY,EAAA,EAA8B;IACzD,IAAI;IAEJ,OAAO,IAAO,iBAAiB,GAAG;AACnC;AAJgB,OAAA,MAAA;;AC+BT,UAAU,MAAMA,MAAAA,EAA8B;IACpD,IAAI;IACJ,IAAI,QAAQ;IACZ,IAAI,OAAO;IAEX,IAAI,OAAOA,WAAU,UAAU;QAC9B,WAAWA;IACZ,OAAO;QACN,QAAQA,OAAM,KAAA;QACd,WAAWA,OAAM,GAAA;QACjB,OAAOA,OAAM,IAAA,IAAQ;IACtB;IAEA,IAAA,IAAS,QAAQ,OAAO,QAAQ,UAAU,SAAS,KAAM;QACxD,MAAM;IACP;AACD;AAhBiB,OAAA,OAAA;;ACtCV,SAAS,iBAAiB,OAAA,EAAiB,UAAA,EAAoB;IACrE,OAAO,OAAO,OAAO,OAAO,KAAK,GAAG,IAAI;AACzC;AAFgB,OAAA,kBAAA;;ACJT,SAAS,mCAAmC;IAElD,IAAI,OAAO,WAAW,OAAA,KAAY,aAAa;QAC9C,OAAO,WAAW,cAAc,eAAe;IAChD;IAEA,IAAI,cAAc,WAAW,OAAA,EAAS;QACrC,OAAO,UAAU,WAAW,OAAA,CAAQ,QAAA,IAAY,SAAS,WAAW,OAAA,CAAQ,QAAA;IAC7E;IAEA,OAAO;AACR;AAXgB,OAAA,kCAAA;;ACGT,SAAS,uBAA+B;IAG9C,IAAI,OAAO,WAAW,WAAA,KAAgB,aAAa;QAClD,OAAO;IACR;IAGA,IAAI,OAAO,WAAW,EAAA,KAAO,eAAe,OAAO,WAAW,aAAA,KAAkB,aAAa;QAE5F,OAAO;IACR;IAIA,IAAI,OAAO,WAAW,OAAA,KAAY,aAAa;QAC9C,OAAO;IACR;IAGA,IAAI,OAAO,WAAW,OAAA,KAAY,UAAU;QAE3C,IAAI,OAAO,WAAW,SAAA,KAAc,UAAU;YAE7C,OAAO,WAAW,SAAA,CAAU,SAAA;QAC7B;QAEA,OAAO;IACR;IAEA,IAAI,cAAc,WAAW,OAAA,EAAS;QACrC,IAAI,UAAU,WAAW,OAAA,CAAQ,QAAA,EAAU;YAC1C,OAAO,CAAA,KAAA,EAAQ,WAAW,OAAA,CAAQ,QAAA,CAAS,IAAI,EAAA;QAChD;QAEA,IAAI,SAAS,WAAW,OAAA,CAAQ,QAAA,EAAU;YACzC,OAAO,CAAA,IAAA,EAAO,WAAW,OAAA,CAAQ,QAAA,CAAS,GAAG,EAAA;QAC9C;QAEA,IAAI,UAAU,WAAW,OAAA,CAAQ,QAAA,EAAU;YAC1C,OAAO,CAAA,QAAA,EAAW,WAAW,OAAA,CAAQ,QAAA,CAAS,IAAI,EAAA;QACnD;IACD;IAEA,OAAO;AACR;AA7CgB,OAAA,sBAAA;;ACAT,SAAS,kBAAkB;IAKjC,OAAO,OAAA,KAAY,OAAO,gBAAgB;IAE1C,OAAO,YAAA,KAAiB,OAAO,qBAAqB;AACrD;AARgB,OAAA,iBAAA;;ACYT,SAAS,gBAAgB,cAAA,EAAmE;IAClG,OAAO,mBAAmB,QAAQ,OAAO,mBAAmB,YAAY,YAAY;AACrF;AAFgB,OAAA,iBAAA;;ACCT,SAAS,YAAY,cAAA,EAA+D;IAC1F,OAAO,mBAAmB,QAAQ,OAAO,mBAAmB,YAAY,YAAY;AACrF;AAFgB,OAAA,aAAA;;ACPT,IAAM,UAAU","debugId":null}},
    {"offset": {"line": 2838, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/rest/node_modules/%40discordjs/collection/src/collection.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/rest/node_modules/%40discordjs/collection/src/index.ts"],"sourcesContent":["/* eslint-disable no-param-reassign */\n/**\n * @internal\n */\nexport interface CollectionConstructor {\n\tnew (): Collection<unknown, unknown>;\n\tnew <Key, Value>(entries?: readonly (readonly [Key, Value])[] | null): Collection<Key, Value>;\n\tnew <Key, Value>(iterable: Iterable<readonly [Key, Value]>): Collection<Key, Value>;\n\treadonly prototype: Collection<unknown, unknown>;\n\treadonly [Symbol.species]: CollectionConstructor;\n}\n\n/**\n * Represents an immutable version of a collection\n */\nexport type ReadonlyCollection<Key, Value> = Omit<\n\tCollection<Key, Value>,\n\t'clear' | 'delete' | 'ensure' | 'forEach' | 'get' | 'reverse' | 'set' | 'sort' | 'sweep'\n> &\n\tReadonlyMap<Key, Value>;\n\n/**\n * Separate interface for the constructor so that emitted js does not have a constructor that overwrites itself\n *\n * @internal\n */\nexport interface Collection<Key, Value> extends Map<Key, Value> {\n\tconstructor: CollectionConstructor;\n}\n\n/**\n * A Map with additional utility methods. This is used throughout discord.js rather than Arrays for anything that has\n * an ID, for significantly improved performance and ease-of-use.\n *\n * @typeParam Key - The key type this collection holds\n * @typeParam Value - The value type this collection holds\n */\nexport class Collection<Key, Value> extends Map<Key, Value> {\n\t/**\n\t * Obtains the value of the given key if it exists, otherwise sets and returns the value provided by the default value generator.\n\t *\n\t * @param key - The key to get if it exists, or set otherwise\n\t * @param defaultValueGenerator - A function that generates the default value\n\t * @example\n\t * ```ts\n\t * collection.ensure(guildId, () => defaultGuildConfig);\n\t * ```\n\t */\n\tpublic ensure(key: Key, defaultValueGenerator: (key: Key, collection: this) => Value): Value {\n\t\tif (this.has(key)) return this.get(key)!;\n\t\tif (typeof defaultValueGenerator !== 'function') throw new TypeError(`${defaultValueGenerator} is not a function`);\n\t\tconst defaultValue = defaultValueGenerator(key, this);\n\t\tthis.set(key, defaultValue);\n\t\treturn defaultValue;\n\t}\n\n\t/**\n\t * Checks if all of the elements exist in the collection.\n\t *\n\t * @param keys - The keys of the elements to check for\n\t * @returns `true` if all of the elements exist, `false` if at least one does not exist.\n\t */\n\tpublic hasAll(...keys: Key[]) {\n\t\treturn keys.every((key) => super.has(key));\n\t}\n\n\t/**\n\t * Checks if any of the elements exist in the collection.\n\t *\n\t * @param keys - The keys of the elements to check for\n\t * @returns `true` if any of the elements exist, `false` if none exist.\n\t */\n\tpublic hasAny(...keys: Key[]) {\n\t\treturn keys.some((key) => super.has(key));\n\t}\n\n\t/**\n\t * Obtains the first value(s) in this collection.\n\t *\n\t * @param amount - Amount of values to obtain from the beginning\n\t * @returns A single value if no amount is provided or an array of values, starting from the end if amount is negative\n\t */\n\tpublic first(): Value | undefined;\n\tpublic first(amount: number): Value[];\n\tpublic first(amount?: number): Value | Value[] | undefined {\n\t\tif (amount === undefined) return this.values().next().value;\n\t\tif (amount < 0) return this.last(amount * -1);\n\t\tamount = Math.min(this.size, amount);\n\t\tconst iter = this.values();\n\t\treturn Array.from({ length: amount }, (): Value => iter.next().value!);\n\t}\n\n\t/**\n\t * Obtains the first key(s) in this collection.\n\t *\n\t * @param amount - Amount of keys to obtain from the beginning\n\t * @returns A single key if no amount is provided or an array of keys, starting from the end if\n\t * amount is negative\n\t */\n\tpublic firstKey(): Key | undefined;\n\tpublic firstKey(amount: number): Key[];\n\tpublic firstKey(amount?: number): Key | Key[] | undefined {\n\t\tif (amount === undefined) return this.keys().next().value;\n\t\tif (amount < 0) return this.lastKey(amount * -1);\n\t\tamount = Math.min(this.size, amount);\n\t\tconst iter = this.keys();\n\t\treturn Array.from({ length: amount }, (): Key => iter.next().value!);\n\t}\n\n\t/**\n\t * Obtains the last value(s) in this collection.\n\t *\n\t * @param amount - Amount of values to obtain from the end\n\t * @returns A single value if no amount is provided or an array of values, starting from the start if\n\t * amount is negative\n\t */\n\tpublic last(): Value | undefined;\n\tpublic last(amount: number): Value[];\n\tpublic last(amount?: number): Value | Value[] | undefined {\n\t\tconst arr = [...this.values()];\n\t\tif (amount === undefined) return arr[arr.length - 1];\n\t\tif (amount < 0) return this.first(amount * -1);\n\t\tif (!amount) return [];\n\t\treturn arr.slice(-amount);\n\t}\n\n\t/**\n\t * Obtains the last key(s) in this collection.\n\t *\n\t * @param amount - Amount of keys to obtain from the end\n\t * @returns A single key if no amount is provided or an array of keys, starting from the start if\n\t * amount is negative\n\t */\n\tpublic lastKey(): Key | undefined;\n\tpublic lastKey(amount: number): Key[];\n\tpublic lastKey(amount?: number): Key | Key[] | undefined {\n\t\tconst arr = [...this.keys()];\n\t\tif (amount === undefined) return arr[arr.length - 1];\n\t\tif (amount < 0) return this.firstKey(amount * -1);\n\t\tif (!amount) return [];\n\t\treturn arr.slice(-amount);\n\t}\n\n\t/**\n\t * Identical to {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/at | Array.at()}.\n\t * Returns the item at a given index, allowing for positive and negative integers.\n\t * Negative integers count back from the last item in the collection.\n\t *\n\t * @param index - The index of the element to obtain\n\t */\n\tpublic at(index: number) {\n\t\tindex = Math.floor(index);\n\t\tconst arr = [...this.values()];\n\t\treturn arr.at(index);\n\t}\n\n\t/**\n\t * Identical to {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/at | Array.at()}.\n\t * Returns the key at a given index, allowing for positive and negative integers.\n\t * Negative integers count back from the last item in the collection.\n\t *\n\t * @param index - The index of the key to obtain\n\t */\n\tpublic keyAt(index: number) {\n\t\tindex = Math.floor(index);\n\t\tconst arr = [...this.keys()];\n\t\treturn arr.at(index);\n\t}\n\n\t/**\n\t * Obtains unique random value(s) from this collection.\n\t *\n\t * @param amount - Amount of values to obtain randomly\n\t * @returns A single value if no amount is provided or an array of values\n\t */\n\tpublic random(): Value | undefined;\n\tpublic random(amount: number): Value[];\n\tpublic random(amount?: number): Value | Value[] | undefined {\n\t\tconst arr = [...this.values()];\n\t\tif (amount === undefined) return arr[Math.floor(Math.random() * arr.length)];\n\t\tif (!arr.length || !amount) return [];\n\t\treturn Array.from(\n\t\t\t{ length: Math.min(amount, arr.length) },\n\t\t\t(): Value => arr.splice(Math.floor(Math.random() * arr.length), 1)[0]!,\n\t\t);\n\t}\n\n\t/**\n\t * Obtains unique random key(s) from this collection.\n\t *\n\t * @param amount - Amount of keys to obtain randomly\n\t * @returns A single key if no amount is provided or an array\n\t */\n\tpublic randomKey(): Key | undefined;\n\tpublic randomKey(amount: number): Key[];\n\tpublic randomKey(amount?: number): Key | Key[] | undefined {\n\t\tconst arr = [...this.keys()];\n\t\tif (amount === undefined) return arr[Math.floor(Math.random() * arr.length)];\n\t\tif (!arr.length || !amount) return [];\n\t\treturn Array.from(\n\t\t\t{ length: Math.min(amount, arr.length) },\n\t\t\t(): Key => arr.splice(Math.floor(Math.random() * arr.length), 1)[0]!,\n\t\t);\n\t}\n\n\t/**\n\t * Identical to {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse | Array.reverse()}\n\t * but returns a Collection instead of an Array.\n\t */\n\tpublic reverse() {\n\t\tconst entries = [...this.entries()].reverse();\n\t\tthis.clear();\n\t\tfor (const [key, value] of entries) this.set(key, value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Searches for a single item where the given function returns a truthy value. This behaves like\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find | Array.find()}.\n\t * All collections used in Discord.js are mapped using their `id` property, and if you want to find by id you\n\t * should use the `get` method. See\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/get | MDN} for details.\n\t *\n\t * @param fn - The function to test with (should return a boolean)\n\t * @param thisArg - Value to use as `this` when executing the function\n\t * @example\n\t * ```ts\n\t * collection.find(user => user.username === 'Bob');\n\t * ```\n\t */\n\tpublic find<NewValue extends Value>(\n\t\tfn: (value: Value, key: Key, collection: this) => value is NewValue,\n\t): NewValue | undefined;\n\tpublic find(fn: (value: Value, key: Key, collection: this) => unknown): Value | undefined;\n\tpublic find<This, NewValue extends Value>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => value is NewValue,\n\t\tthisArg: This,\n\t): NewValue | undefined;\n\tpublic find<This>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => unknown,\n\t\tthisArg: This,\n\t): Value | undefined;\n\tpublic find(fn: (value: Value, key: Key, collection: this) => unknown, thisArg?: unknown): Value | undefined {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tfor (const [key, val] of this) {\n\t\t\tif (fn(val, key, this)) return val;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Searches for the key of a single item where the given function returns a truthy value. This behaves like\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex | Array.findIndex()},\n\t * but returns the key rather than the positional index.\n\t *\n\t * @param fn - The function to test with (should return a boolean)\n\t * @param thisArg - Value to use as `this` when executing the function\n\t * @example\n\t * ```ts\n\t * collection.findKey(user => user.username === 'Bob');\n\t * ```\n\t */\n\tpublic findKey<NewKey extends Key>(\n\t\tfn: (value: Value, key: Key, collection: this) => key is NewKey,\n\t): NewKey | undefined;\n\tpublic findKey(fn: (value: Value, key: Key, collection: this) => unknown): Key | undefined;\n\tpublic findKey<This, NewKey extends Key>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => key is NewKey,\n\t\tthisArg: This,\n\t): NewKey | undefined;\n\tpublic findKey<This>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => unknown,\n\t\tthisArg: This,\n\t): Key | undefined;\n\tpublic findKey(fn: (value: Value, key: Key, collection: this) => unknown, thisArg?: unknown): Key | undefined {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tfor (const [key, val] of this) {\n\t\t\tif (fn(val, key, this)) return key;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Searches for a last item where the given function returns a truthy value. This behaves like\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findLast | Array.findLast()}.\n\t *\n\t * @param fn - The function to test with (should return a boolean)\n\t * @param thisArg - Value to use as `this` when executing the function\n\t */\n\tpublic findLast<NewValue extends Value>(\n\t\tfn: (value: Value, key: Key, collection: this) => value is NewValue,\n\t): NewValue | undefined;\n\tpublic findLast(fn: (value: Value, key: Key, collection: this) => unknown): Value | undefined;\n\tpublic findLast<This, NewValue extends Value>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => value is NewValue,\n\t\tthisArg: This,\n\t): NewValue | undefined;\n\tpublic findLast<This>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => unknown,\n\t\tthisArg: This,\n\t): Value | undefined;\n\tpublic findLast(fn: (value: Value, key: Key, collection: this) => unknown, thisArg?: unknown): Value | undefined {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tconst entries = [...this.entries()];\n\t\tfor (let index = entries.length - 1; index >= 0; index--) {\n\t\t\tconst val = entries[index]![1];\n\t\t\tconst key = entries[index]![0];\n\t\t\tif (fn(val, key, this)) return val;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Searches for the key of a last item where the given function returns a truthy value. This behaves like\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findLastIndex | Array.findLastIndex()},\n\t * but returns the key rather than the positional index.\n\t *\n\t * @param fn - The function to test with (should return a boolean)\n\t * @param thisArg - Value to use as `this` when executing the function\n\t */\n\tpublic findLastKey<NewKey extends Key>(\n\t\tfn: (value: Value, key: Key, collection: this) => key is NewKey,\n\t): NewKey | undefined;\n\tpublic findLastKey(fn: (value: Value, key: Key, collection: this) => unknown): Key | undefined;\n\tpublic findLastKey<This, NewKey extends Key>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => key is NewKey,\n\t\tthisArg: This,\n\t): NewKey | undefined;\n\tpublic findLastKey<This>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => unknown,\n\t\tthisArg: This,\n\t): Key | undefined;\n\tpublic findLastKey(fn: (value: Value, key: Key, collection: this) => unknown, thisArg?: unknown): Key | undefined {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tconst entries = [...this.entries()];\n\t\tfor (let index = entries.length - 1; index >= 0; index--) {\n\t\t\tconst key = entries[index]![0];\n\t\t\tconst val = entries[index]![1];\n\t\t\tif (fn(val, key, this)) return key;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Removes items that satisfy the provided filter function.\n\t *\n\t * @param fn - Function used to test (should return a boolean)\n\t * @param thisArg - Value to use as `this` when executing the function\n\t * @returns The number of removed entries\n\t */\n\tpublic sweep(fn: (value: Value, key: Key, collection: this) => unknown): number;\n\tpublic sweep<This>(fn: (this: This, value: Value, key: Key, collection: this) => unknown, thisArg: This): number;\n\tpublic sweep(fn: (value: Value, key: Key, collection: this) => unknown, thisArg?: unknown): number {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tconst previousSize = this.size;\n\t\tfor (const [key, val] of this) {\n\t\t\tif (fn(val, key, this)) this.delete(key);\n\t\t}\n\n\t\treturn previousSize - this.size;\n\t}\n\n\t/**\n\t * Identical to\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter | Array.filter()},\n\t * but returns a Collection instead of an Array.\n\t *\n\t * @param fn - The function to test with (should return a boolean)\n\t * @param thisArg - Value to use as `this` when executing the function\n\t * @example\n\t * ```ts\n\t * collection.filter(user => user.username === 'Bob');\n\t * ```\n\t */\n\tpublic filter<NewKey extends Key>(\n\t\tfn: (value: Value, key: Key, collection: this) => key is NewKey,\n\t): Collection<NewKey, Value>;\n\tpublic filter<NewValue extends Value>(\n\t\tfn: (value: Value, key: Key, collection: this) => value is NewValue,\n\t): Collection<Key, NewValue>;\n\tpublic filter(fn: (value: Value, key: Key, collection: this) => unknown): Collection<Key, Value>;\n\tpublic filter<This, NewKey extends Key>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => key is NewKey,\n\t\tthisArg: This,\n\t): Collection<NewKey, Value>;\n\tpublic filter<This, NewValue extends Value>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => value is NewValue,\n\t\tthisArg: This,\n\t): Collection<Key, NewValue>;\n\tpublic filter<This>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => unknown,\n\t\tthisArg: This,\n\t): Collection<Key, Value>;\n\tpublic filter(fn: (value: Value, key: Key, collection: this) => unknown, thisArg?: unknown): Collection<Key, Value> {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tconst results = new this.constructor[Symbol.species]<Key, Value>();\n\t\tfor (const [key, val] of this) {\n\t\t\tif (fn(val, key, this)) results.set(key, val);\n\t\t}\n\n\t\treturn results;\n\t}\n\n\t/**\n\t * Partitions the collection into two collections where the first collection\n\t * contains the items that passed and the second contains the items that failed.\n\t *\n\t * @param fn - Function used to test (should return a boolean)\n\t * @param thisArg - Value to use as `this` when executing the function\n\t * @example\n\t * ```ts\n\t * const [big, small] = collection.partition(guild => guild.memberCount > 250);\n\t * ```\n\t */\n\tpublic partition<NewKey extends Key>(\n\t\tfn: (value: Value, key: Key, collection: this) => key is NewKey,\n\t): [Collection<NewKey, Value>, Collection<Exclude<Key, NewKey>, Value>];\n\tpublic partition<NewValue extends Value>(\n\t\tfn: (value: Value, key: Key, collection: this) => value is NewValue,\n\t): [Collection<Key, NewValue>, Collection<Key, Exclude<Value, NewValue>>];\n\tpublic partition(\n\t\tfn: (value: Value, key: Key, collection: this) => unknown,\n\t): [Collection<Key, Value>, Collection<Key, Value>];\n\tpublic partition<This, NewKey extends Key>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => key is NewKey,\n\t\tthisArg: This,\n\t): [Collection<NewKey, Value>, Collection<Exclude<Key, NewKey>, Value>];\n\tpublic partition<This, NewValue extends Value>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => value is NewValue,\n\t\tthisArg: This,\n\t): [Collection<Key, NewValue>, Collection<Key, Exclude<Value, NewValue>>];\n\tpublic partition<This>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => unknown,\n\t\tthisArg: This,\n\t): [Collection<Key, Value>, Collection<Key, Value>];\n\tpublic partition(\n\t\tfn: (value: Value, key: Key, collection: this) => unknown,\n\t\tthisArg?: unknown,\n\t): [Collection<Key, Value>, Collection<Key, Value>] {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tconst results: [Collection<Key, Value>, Collection<Key, Value>] = [\n\t\t\tnew this.constructor[Symbol.species]<Key, Value>(),\n\t\t\tnew this.constructor[Symbol.species]<Key, Value>(),\n\t\t];\n\t\tfor (const [key, val] of this) {\n\t\t\tif (fn(val, key, this)) {\n\t\t\t\tresults[0].set(key, val);\n\t\t\t} else {\n\t\t\t\tresults[1].set(key, val);\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t}\n\n\t/**\n\t * Maps each item into a Collection, then joins the results into a single Collection. Identical in behavior to\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap | Array.flatMap()}.\n\t *\n\t * @param fn - Function that produces a new Collection\n\t * @param thisArg - Value to use as `this` when executing the function\n\t * @example\n\t * ```ts\n\t * collection.flatMap(guild => guild.members.cache);\n\t * ```\n\t */\n\tpublic flatMap<NewValue>(\n\t\tfn: (value: Value, key: Key, collection: this) => Collection<Key, NewValue>,\n\t): Collection<Key, NewValue>;\n\tpublic flatMap<NewValue, This>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => Collection<Key, NewValue>,\n\t\tthisArg: This,\n\t): Collection<Key, NewValue>;\n\tpublic flatMap<NewValue>(\n\t\tfn: (value: Value, key: Key, collection: this) => Collection<Key, NewValue>,\n\t\tthisArg?: unknown,\n\t): Collection<Key, NewValue> {\n\t\t// eslint-disable-next-line unicorn/no-array-method-this-argument\n\t\tconst collections = this.map(fn, thisArg);\n\t\treturn new this.constructor[Symbol.species]<Key, NewValue>().concat(...collections);\n\t}\n\n\t/**\n\t * Maps each item to another value into an array. Identical in behavior to\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map | Array.map()}.\n\t *\n\t * @param fn - Function that produces an element of the new array, taking three arguments\n\t * @param thisArg - Value to use as `this` when executing the function\n\t * @example\n\t * ```ts\n\t * collection.map(user => user.tag);\n\t * ```\n\t */\n\tpublic map<NewValue>(fn: (value: Value, key: Key, collection: this) => NewValue): NewValue[];\n\tpublic map<This, NewValue>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => NewValue,\n\t\tthisArg: This,\n\t): NewValue[];\n\tpublic map<NewValue>(fn: (value: Value, key: Key, collection: this) => NewValue, thisArg?: unknown): NewValue[] {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tconst iter = this.entries();\n\t\treturn Array.from({ length: this.size }, (): NewValue => {\n\t\t\tconst [key, value] = iter.next().value!;\n\t\t\treturn fn(value, key, this);\n\t\t});\n\t}\n\n\t/**\n\t * Maps each item to another value into a collection. Identical in behavior to\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map | Array.map()}.\n\t *\n\t * @param fn - Function that produces an element of the new collection, taking three arguments\n\t * @param thisArg - Value to use as `this` when executing the function\n\t * @example\n\t * ```ts\n\t * collection.mapValues(user => user.tag);\n\t * ```\n\t */\n\tpublic mapValues<NewValue>(fn: (value: Value, key: Key, collection: this) => NewValue): Collection<Key, NewValue>;\n\tpublic mapValues<This, NewValue>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => NewValue,\n\t\tthisArg: This,\n\t): Collection<Key, NewValue>;\n\tpublic mapValues<NewValue>(\n\t\tfn: (value: Value, key: Key, collection: this) => NewValue,\n\t\tthisArg?: unknown,\n\t): Collection<Key, NewValue> {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tconst coll = new this.constructor[Symbol.species]<Key, NewValue>();\n\t\tfor (const [key, val] of this) coll.set(key, fn(val, key, this));\n\t\treturn coll;\n\t}\n\n\t/**\n\t * Checks if there exists an item that passes a test. Identical in behavior to\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some | Array.some()}.\n\t *\n\t * @param fn - Function used to test (should return a boolean)\n\t * @param thisArg - Value to use as `this` when executing the function\n\t * @example\n\t * ```ts\n\t * collection.some(user => user.discriminator === '0000');\n\t * ```\n\t */\n\tpublic some(fn: (value: Value, key: Key, collection: this) => unknown): boolean;\n\tpublic some<This>(fn: (this: This, value: Value, key: Key, collection: this) => unknown, thisArg: This): boolean;\n\tpublic some(fn: (value: Value, key: Key, collection: this) => unknown, thisArg?: unknown): boolean {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tfor (const [key, val] of this) {\n\t\t\tif (fn(val, key, this)) return true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Checks if all items passes a test. Identical in behavior to\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every | Array.every()}.\n\t *\n\t * @param fn - Function used to test (should return a boolean)\n\t * @param thisArg - Value to use as `this` when executing the function\n\t * @example\n\t * ```ts\n\t * collection.every(user => !user.bot);\n\t * ```\n\t */\n\tpublic every<NewKey extends Key>(\n\t\tfn: (value: Value, key: Key, collection: this) => key is NewKey,\n\t): this is Collection<NewKey, Value>;\n\tpublic every<NewValue extends Value>(\n\t\tfn: (value: Value, key: Key, collection: this) => value is NewValue,\n\t): this is Collection<Key, NewValue>;\n\tpublic every(fn: (value: Value, key: Key, collection: this) => unknown): boolean;\n\tpublic every<This, NewKey extends Key>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => key is NewKey,\n\t\tthisArg: This,\n\t): this is Collection<NewKey, Value>;\n\tpublic every<This, NewValue extends Value>(\n\t\tfn: (this: This, value: Value, key: Key, collection: this) => value is NewValue,\n\t\tthisArg: This,\n\t): this is Collection<Key, NewValue>;\n\tpublic every<This>(fn: (this: This, value: Value, key: Key, collection: this) => unknown, thisArg: This): boolean;\n\tpublic every(fn: (value: Value, key: Key, collection: this) => unknown, thisArg?: unknown): boolean {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tfor (const [key, val] of this) {\n\t\t\tif (!fn(val, key, this)) return false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Applies a function to produce a single value. Identical in behavior to\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce | Array.reduce()}.\n\t *\n\t * @param fn - Function used to reduce, taking four arguments; `accumulator`, `currentValue`, `currentKey`,\n\t * and `collection`\n\t * @param initialValue - Starting value for the accumulator\n\t * @example\n\t * ```ts\n\t * collection.reduce((acc, guild) => acc + guild.memberCount, 0);\n\t * ```\n\t */\n\tpublic reduce(\n\t\tfn: (accumulator: Value, value: Value, key: Key, collection: this) => Value,\n\t\tinitialValue?: Value,\n\t): Value;\n\tpublic reduce<InitialValue>(\n\t\tfn: (accumulator: InitialValue, value: Value, key: Key, collection: this) => InitialValue,\n\t\tinitialValue: InitialValue,\n\t): InitialValue;\n\tpublic reduce<InitialValue>(\n\t\tfn: (accumulator: InitialValue, value: Value, key: Key, collection: this) => InitialValue,\n\t\tinitialValue?: InitialValue,\n\t): InitialValue {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tlet accumulator!: InitialValue;\n\n\t\tconst iterator = this.entries();\n\t\tif (initialValue === undefined) {\n\t\t\tif (this.size === 0) throw new TypeError('Reduce of empty collection with no initial value');\n\t\t\taccumulator = iterator.next().value![1] as unknown as InitialValue;\n\t\t} else {\n\t\t\taccumulator = initialValue;\n\t\t}\n\n\t\tfor (const [key, value] of iterator) {\n\t\t\taccumulator = fn(accumulator, value, key, this);\n\t\t}\n\n\t\treturn accumulator;\n\t}\n\n\t/**\n\t * Applies a function to produce a single value. Identical in behavior to\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduceRight | Array.reduceRight()}.\n\t *\n\t * @param fn - Function used to reduce, taking four arguments; `accumulator`, `value`, `key`, and `collection`\n\t * @param initialValue - Starting value for the accumulator\n\t */\n\tpublic reduceRight(\n\t\tfn: (accumulator: Value, value: Value, key: Key, collection: this) => Value,\n\t\tinitialValue?: Value,\n\t): Value;\n\tpublic reduceRight<InitialValue>(\n\t\tfn: (accumulator: InitialValue, value: Value, key: Key, collection: this) => InitialValue,\n\t\tinitialValue: InitialValue,\n\t): InitialValue;\n\tpublic reduceRight<InitialValue>(\n\t\tfn: (accumulator: InitialValue, value: Value, key: Key, collection: this) => InitialValue,\n\t\tinitialValue?: InitialValue,\n\t): InitialValue {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tconst entries = [...this.entries()];\n\t\tlet accumulator!: InitialValue;\n\n\t\tlet index: number;\n\t\tif (initialValue === undefined) {\n\t\t\tif (entries.length === 0) throw new TypeError('Reduce of empty collection with no initial value');\n\t\t\taccumulator = entries[entries.length - 1]![1] as unknown as InitialValue;\n\t\t\tindex = entries.length - 1;\n\t\t} else {\n\t\t\taccumulator = initialValue;\n\t\t\tindex = entries.length;\n\t\t}\n\n\t\twhile (--index >= 0) {\n\t\t\tconst key = entries[index]![0];\n\t\t\tconst val = entries[index]![1];\n\t\t\taccumulator = fn(accumulator, val, key, this);\n\t\t}\n\n\t\treturn accumulator;\n\t}\n\n\t/**\n\t * Identical to\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/forEach | Map.forEach()},\n\t * but returns the collection instead of undefined.\n\t *\n\t * @param fn - Function to execute for each element\n\t * @param thisArg - Value to use as `this` when executing the function\n\t * @example\n\t * ```ts\n\t * collection\n\t *  .each(user => console.log(user.username))\n\t *  .filter(user => user.bot)\n\t *  .each(user => console.log(user.username));\n\t * ```\n\t */\n\tpublic each(fn: (value: Value, key: Key, collection: this) => void): this;\n\tpublic each<This>(fn: (this: This, value: Value, key: Key, collection: this) => void, thisArg: This): this;\n\tpublic each(fn: (value: Value, key: Key, collection: this) => void, thisArg?: unknown): this {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\n\t\tfor (const [key, value] of this) {\n\t\t\tfn(value, key, this);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Runs a function on the collection and returns the collection.\n\t *\n\t * @param fn - Function to execute\n\t * @param thisArg - Value to use as `this` when executing the function\n\t * @example\n\t * ```ts\n\t * collection\n\t *  .tap(coll => console.log(coll.size))\n\t *  .filter(user => user.bot)\n\t *  .tap(coll => console.log(coll.size))\n\t * ```\n\t */\n\tpublic tap(fn: (collection: this) => void): this;\n\tpublic tap<This>(fn: (this: This, collection: this) => void, thisArg: This): this;\n\tpublic tap(fn: (collection: this) => void, thisArg?: unknown): this {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tfn(this);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Creates an identical shallow copy of this collection.\n\t *\n\t * @example\n\t * ```ts\n\t * const newColl = someColl.clone();\n\t * ```\n\t */\n\tpublic clone(): Collection<Key, Value> {\n\t\treturn new this.constructor[Symbol.species](this);\n\t}\n\n\t/**\n\t * Combines this collection with others into a new collection. None of the source collections are modified.\n\t *\n\t * @param collections - Collections to merge\n\t * @example\n\t * ```ts\n\t * const newColl = someColl.concat(someOtherColl, anotherColl, ohBoyAColl);\n\t * ```\n\t */\n\tpublic concat(...collections: ReadonlyCollection<Key, Value>[]) {\n\t\tconst newColl = this.clone();\n\t\tfor (const coll of collections) {\n\t\t\tfor (const [key, val] of coll) newColl.set(key, val);\n\t\t}\n\n\t\treturn newColl;\n\t}\n\n\t/**\n\t * Checks if this collection shares identical items with another.\n\t * This is different to checking for equality using equal-signs, because\n\t * the collections may be different objects, but contain the same data.\n\t *\n\t * @param collection - Collection to compare with\n\t * @returns Whether the collections have identical contents\n\t */\n\tpublic equals(collection: ReadonlyCollection<Key, Value>) {\n\t\tif (!collection) return false; // runtime check\n\t\tif (this === collection) return true;\n\t\tif (this.size !== collection.size) return false;\n\t\tfor (const [key, value] of this) {\n\t\t\tif (!collection.has(key) || value !== collection.get(key)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * The sort method sorts the items of a collection in place and returns it.\n\t * The sort is not necessarily stable in Node 10 or older.\n\t * The default sort order is according to string Unicode code points.\n\t *\n\t * @param compareFunction - Specifies a function that defines the sort order.\n\t * If omitted, the collection is sorted according to each character's Unicode code point value, according to the string conversion of each element.\n\t * @example\n\t * ```ts\n\t * collection.sort((userA, userB) => userA.createdTimestamp - userB.createdTimestamp);\n\t * ```\n\t */\n\tpublic sort(compareFunction: Comparator<Key, Value> = Collection.defaultSort) {\n\t\tconst entries = [...this.entries()];\n\t\tentries.sort((a, b): number => compareFunction(a[1], b[1], a[0], b[0]));\n\n\t\t// Perform clean-up\n\t\tsuper.clear();\n\n\t\t// Set the new entries\n\t\tfor (const [key, value] of entries) {\n\t\t\tsuper.set(key, value);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * The intersection method returns a new collection containing the items where the key is present in both collections.\n\t *\n\t * @param other - The other Collection to filter against\n\t * @example\n\t * ```ts\n\t * const col1 = new Collection([['a', 1], ['b', 2]]);\n\t * const col2 = new Collection([['a', 1], ['c', 3]]);\n\t * const intersection = col1.intersection(col2);\n\t * console.log(col1.intersection(col2));\n\t * // => Collection { 'a' => 1 }\n\t * ```\n\t */\n\tpublic intersection(other: ReadonlyCollection<Key, any>): Collection<Key, Value> {\n\t\tconst coll = new this.constructor[Symbol.species]<Key, Value>();\n\n\t\tfor (const [key, value] of this) {\n\t\t\tif (other.has(key)) coll.set(key, value);\n\t\t}\n\n\t\treturn coll;\n\t}\n\n\t/**\n\t * Returns a new collection containing the items where the key is present in either of the collections.\n\t *\n\t * @remarks\n\t *\n\t * If the collections have any items with the same key, the value from the first collection will be used.\n\t * @param other - The other Collection to filter against\n\t * @example\n\t * ```ts\n\t * const col1 = new Collection([['a', 1], ['b', 2]]);\n\t * const col2 = new Collection([['a', 1], ['b', 3], ['c', 3]]);\n\t * const union = col1.union(col2);\n\t * console.log(union);\n\t * // => Collection { 'a' => 1, 'b' => 2, 'c' => 3 }\n\t * ```\n\t */\n\tpublic union<OtherValue>(other: ReadonlyCollection<Key, OtherValue>): Collection<Key, OtherValue | Value> {\n\t\tconst coll = new this.constructor[Symbol.species]<Key, OtherValue | Value>(this);\n\n\t\tfor (const [key, value] of other) {\n\t\t\tif (!coll.has(key)) coll.set(key, value);\n\t\t}\n\n\t\treturn coll;\n\t}\n\n\t/**\n\t * Returns a new collection containing the items where the key is present in this collection but not the other.\n\t *\n\t * @param other - The other Collection to filter against\n\t * @example\n\t * ```ts\n\t * const col1 = new Collection([['a', 1], ['b', 2]]);\n\t * const col2 = new Collection([['a', 1], ['c', 3]]);\n\t * console.log(col1.difference(col2));\n\t * // => Collection { 'b' => 2 }\n\t * console.log(col2.difference(col1));\n\t * // => Collection { 'c' => 3 }\n\t * ```\n\t */\n\tpublic difference(other: ReadonlyCollection<Key, any>): Collection<Key, Value> {\n\t\tconst coll = new this.constructor[Symbol.species]<Key, Value>();\n\n\t\tfor (const [key, value] of this) {\n\t\t\tif (!other.has(key)) coll.set(key, value);\n\t\t}\n\n\t\treturn coll;\n\t}\n\n\t/**\n\t * Returns a new collection containing only the items where the keys are present in either collection, but not both.\n\t *\n\t * @param other - The other Collection to filter against\n\t * @example\n\t * ```ts\n\t * const col1 = new Collection([['a', 1], ['b', 2]]);\n\t * const col2 = new Collection([['a', 1], ['c', 3]]);\n\t * const symmetricDifference = col1.symmetricDifference(col2);\n\t * console.log(col1.symmetricDifference(col2));\n\t * // => Collection { 'b' => 2, 'c' => 3 }\n\t * ```\n\t */\n\tpublic symmetricDifference<OtherValue>(\n\t\tother: ReadonlyCollection<Key, OtherValue>,\n\t): Collection<Key, OtherValue | Value> {\n\t\tconst coll = new this.constructor[Symbol.species]<Key, OtherValue | Value>();\n\n\t\tfor (const [key, value] of this) {\n\t\t\tif (!other.has(key)) coll.set(key, value);\n\t\t}\n\n\t\tfor (const [key, value] of other) {\n\t\t\tif (!this.has(key)) coll.set(key, value);\n\t\t}\n\n\t\treturn coll;\n\t}\n\n\t/**\n\t * Merges two Collections together into a new Collection.\n\t *\n\t * @param other - The other Collection to merge with\n\t * @param whenInSelf - Function getting the result if the entry only exists in this Collection\n\t * @param whenInOther - Function getting the result if the entry only exists in the other Collection\n\t * @param whenInBoth - Function getting the result if the entry exists in both Collections\n\t * @example\n\t * ```ts\n\t * // Sums up the entries in two collections.\n\t * coll.merge(\n\t *  other,\n\t *  x => ({ keep: true, value: x }),\n\t *  y => ({ keep: true, value: y }),\n\t *  (x, y) => ({ keep: true, value: x + y }),\n\t * );\n\t * ```\n\t * @example\n\t * ```ts\n\t * // Intersects two collections in a left-biased manner.\n\t * coll.merge(\n\t *  other,\n\t *  x => ({ keep: false }),\n\t *  y => ({ keep: false }),\n\t *  (x, _) => ({ keep: true, value: x }),\n\t * );\n\t * ```\n\t */\n\tpublic merge<OtherValue, ResultValue>(\n\t\tother: ReadonlyCollection<Key, OtherValue>,\n\t\twhenInSelf: (value: Value, key: Key) => Keep<ResultValue>,\n\t\twhenInOther: (valueOther: OtherValue, key: Key) => Keep<ResultValue>,\n\t\twhenInBoth: (value: Value, valueOther: OtherValue, key: Key) => Keep<ResultValue>,\n\t): Collection<Key, ResultValue> {\n\t\tconst coll = new this.constructor[Symbol.species]<Key, ResultValue>();\n\t\tconst keys = new Set([...this.keys(), ...other.keys()]);\n\n\t\tfor (const key of keys) {\n\t\t\tconst hasInSelf = this.has(key);\n\t\t\tconst hasInOther = other.has(key);\n\n\t\t\tif (hasInSelf && hasInOther) {\n\t\t\t\tconst result = whenInBoth(this.get(key)!, other.get(key)!, key);\n\t\t\t\tif (result.keep) coll.set(key, result.value);\n\t\t\t} else if (hasInSelf) {\n\t\t\t\tconst result = whenInSelf(this.get(key)!, key);\n\t\t\t\tif (result.keep) coll.set(key, result.value);\n\t\t\t} else if (hasInOther) {\n\t\t\t\tconst result = whenInOther(other.get(key)!, key);\n\t\t\t\tif (result.keep) coll.set(key, result.value);\n\t\t\t}\n\t\t}\n\n\t\treturn coll;\n\t}\n\n\t/**\n\t * Identical to {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/toReversed | Array.toReversed()}\n\t * but returns a Collection instead of an Array.\n\t */\n\tpublic toReversed() {\n\t\treturn new this.constructor[Symbol.species](this).reverse();\n\t}\n\n\t/**\n\t * The sorted method sorts the items of a collection and returns it.\n\t * The sort is not necessarily stable in Node 10 or older.\n\t * The default sort order is according to string Unicode code points.\n\t *\n\t * @param compareFunction - Specifies a function that defines the sort order.\n\t * If omitted, the collection is sorted according to each character's Unicode code point value,\n\t * according to the string conversion of each element.\n\t * @example\n\t * ```ts\n\t * collection.sorted((userA, userB) => userA.createdTimestamp - userB.createdTimestamp);\n\t * ```\n\t */\n\tpublic toSorted(compareFunction: Comparator<Key, Value> = Collection.defaultSort) {\n\t\treturn new this.constructor[Symbol.species](this).sort((av, bv, ak, bk) => compareFunction(av, bv, ak, bk));\n\t}\n\n\tpublic toJSON() {\n\t\t// toJSON is called recursively by JSON.stringify.\n\t\treturn [...this.entries()];\n\t}\n\n\tprivate static defaultSort<Value>(firstValue: Value, secondValue: Value): number {\n\t\treturn Number(firstValue > secondValue) || Number(firstValue === secondValue) - 1;\n\t}\n\n\t/**\n\t * Creates a Collection from a list of entries.\n\t *\n\t * @param entries - The list of entries\n\t * @param combine - Function to combine an existing entry with a new one\n\t * @example\n\t * ```ts\n\t * Collection.combineEntries([[\"a\", 1], [\"b\", 2], [\"a\", 2]], (x, y) => x + y);\n\t * // returns Collection { \"a\" => 3, \"b\" => 2 }\n\t * ```\n\t */\n\tpublic static combineEntries<Key, Value>(\n\t\tentries: Iterable<[Key, Value]>,\n\t\tcombine: (firstValue: Value, secondValue: Value, key: Key) => Value,\n\t): Collection<Key, Value> {\n\t\tconst coll = new Collection<Key, Value>();\n\t\tfor (const [key, value] of entries) {\n\t\t\tif (coll.has(key)) {\n\t\t\t\tcoll.set(key, combine(coll.get(key)!, value, key));\n\t\t\t} else {\n\t\t\t\tcoll.set(key, value);\n\t\t\t}\n\t\t}\n\n\t\treturn coll;\n\t}\n}\n\n/**\n * @internal\n */\nexport type Keep<Value> = { keep: false } | { keep: true; value: Value };\n\n/**\n * @internal\n */\nexport type Comparator<Key, Value> = (firstValue: Value, secondValue: Value, firstKey: Key, secondKey: Key) => number;\n","export * from './collection.js';\n\n/**\n * The {@link https://github.com/discordjs/discord.js/blob/main/packages/collection#readme | @discordjs/collection} version\n * that you are currently using.\n */\n// This needs to explicitly be `string` so it is not typed as a \"const string\" that gets injected by esbuild\nexport const version = '2.1.1' as string;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3398, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40sapphire/snowflake/src/lib/Snowflake.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40sapphire/snowflake/src/lib/DiscordSnowflake.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40sapphire/snowflake/src/lib/TwitterSnowflake.ts"],"sourcesContent":["const IncrementSymbol = Symbol('@sapphire/snowflake.increment');\nconst EpochSymbol = Symbol('@sapphire/snowflake.epoch');\nconst ProcessIdSymbol = Symbol('@sapphire/snowflake.processId');\nconst WorkerIdSymbol = Symbol('@sapphire/snowflake.workerId');\n\n/**\n * The maximum value the `workerId` field accepts in snowflakes.\n */\nexport const MaximumWorkerId = 0b11111n;\n\n/**\n * The maximum value the `processId` field accepts in snowflakes.\n */\nexport const MaximumProcessId = 0b11111n;\n\n/**\n * The maximum value the `increment` field accepts in snowflakes.\n */\nexport const MaximumIncrement = 0b111111111111n;\n\n/**\n * A class for generating and deconstructing Twitter snowflakes.\n *\n * A {@link https://developer.twitter.com/en/docs/twitter-ids Twitter snowflake}\n * is a 64-bit unsigned integer with 4 fields that have a fixed epoch value.\n *\n * If we have a snowflake `266241948824764416` we can represent it as binary:\n * ```\n * 64                                          22     17     12          0\n *  000000111011000111100001101001000101000000  00001  00000  000000000000\n *           number of ms since epoch           worker  pid    increment\n * ```\n */\nexport class Snowflake {\n\t/**\n\t * Alias for {@link deconstruct}\n\t */\n\t// eslint-disable-next-line @typescript-eslint/unbound-method\n\tpublic decode = this.deconstruct;\n\n\t/**\n\t * Internal reference of the epoch passed in the constructor\n\t * @internal\n\t */\n\tprivate readonly [EpochSymbol]: bigint;\n\n\t/**\n\t * Internal incrementor for generating snowflakes\n\t * @internal\n\t */\n\tprivate [IncrementSymbol] = 0n;\n\n\t/**\n\t * The process ID that will be used by default in the generate method\n\t * @internal\n\t */\n\tprivate [ProcessIdSymbol] = 1n;\n\n\t/**\n\t * The worker ID that will be used by default in the generate method\n\t * @internal\n\t */\n\tprivate [WorkerIdSymbol] = 0n;\n\n\t/**\n\t * @param epoch the epoch to use\n\t */\n\tpublic constructor(epoch: number | bigint | Date) {\n\t\tthis[EpochSymbol] = BigInt(epoch instanceof Date ? epoch.getTime() : epoch);\n\t}\n\n\t/**\n\t * The epoch for this snowflake\n\t */\n\tpublic get epoch(): bigint {\n\t\treturn this[EpochSymbol];\n\t}\n\n\t/**\n\t * Gets the configured process ID\n\t */\n\tpublic get processId(): bigint {\n\t\treturn this[ProcessIdSymbol];\n\t}\n\n\t/**\n\t * Sets the process ID that will be used by default for the {@link generate} method\n\t * @param value The new value, will be coerced to BigInt and masked with `0b11111n`\n\t */\n\tpublic set processId(value: number | bigint) {\n\t\tthis[ProcessIdSymbol] = BigInt(value) & MaximumProcessId;\n\t}\n\n\t/**\n\t * Gets the configured worker ID\n\t */\n\tpublic get workerId(): bigint {\n\t\treturn this[WorkerIdSymbol];\n\t}\n\n\t/**\n\t * Sets the worker ID that will be used by default for the {@link generate} method\n\t * @param value The new value, will be coerced to BigInt and masked with `0b11111n`\n\t */\n\tpublic set workerId(value: number | bigint) {\n\t\tthis[WorkerIdSymbol] = BigInt(value) & MaximumWorkerId;\n\t}\n\n\t/**\n\t * Generates a snowflake given an epoch and optionally a timestamp\n\t * @param options options to pass into the generator, see {@link SnowflakeGenerateOptions}\n\t *\n\t * **note** when `increment` is not provided it defaults to the private `increment` of the instance\n\t * @example\n\t * ```typescript\n\t * const epoch = new Date('2000-01-01T00:00:00.000Z');\n\t * const snowflake = new Snowflake(epoch).generate();\n\t * ```\n\t * @returns A unique snowflake\n\t */\n\tpublic generate({\n\t\tincrement,\n\t\ttimestamp = Date.now(),\n\t\tworkerId = this[WorkerIdSymbol],\n\t\tprocessId = this[ProcessIdSymbol]\n\t}: SnowflakeGenerateOptions = {}) {\n\t\tif (timestamp instanceof Date) timestamp = BigInt(timestamp.getTime());\n\t\telse if (typeof timestamp === 'number') timestamp = BigInt(timestamp);\n\t\telse if (typeof timestamp !== 'bigint') {\n\t\t\tthrow new TypeError(`\"timestamp\" argument must be a number, bigint, or Date (received ${typeof timestamp})`);\n\t\t}\n\n\t\tif (typeof increment !== 'bigint') {\n\t\t\tincrement = this[IncrementSymbol];\n\t\t\tthis[IncrementSymbol] = (increment + 1n) & MaximumIncrement;\n\t\t}\n\n\t\t// timestamp, workerId, processId, increment\n\t\treturn (\n\t\t\t((timestamp - this[EpochSymbol]) << 22n) |\n\t\t\t((workerId & MaximumWorkerId) << 17n) |\n\t\t\t((processId & MaximumProcessId) << 12n) |\n\t\t\t(increment & MaximumIncrement)\n\t\t);\n\t}\n\n\t/**\n\t * Deconstructs a snowflake given a snowflake ID\n\t * @param id the snowflake to deconstruct\n\t * @returns a deconstructed snowflake\n\t * @example\n\t * ```typescript\n\t * const epoch = new Date('2000-01-01T00:00:00.000Z');\n\t * const snowflake = new Snowflake(epoch).deconstruct('3971046231244935168');\n\t * ```\n\t */\n\tpublic deconstruct(id: string | bigint): DeconstructedSnowflake {\n\t\tconst bigIntId = BigInt(id);\n\t\tconst epoch = this[EpochSymbol];\n\t\treturn {\n\t\t\tid: bigIntId,\n\t\t\ttimestamp: (bigIntId >> 22n) + epoch,\n\t\t\tworkerId: (bigIntId >> 17n) & MaximumWorkerId,\n\t\t\tprocessId: (bigIntId >> 12n) & MaximumProcessId,\n\t\t\tincrement: bigIntId & MaximumIncrement,\n\t\t\tepoch\n\t\t};\n\t}\n\n\t/**\n\t * Retrieves the timestamp field's value from a snowflake.\n\t * @param id The snowflake to get the timestamp value from.\n\t * @returns The UNIX timestamp that is stored in `id`.\n\t */\n\tpublic timestampFrom(id: string | bigint): number {\n\t\treturn Number((BigInt(id) >> 22n) + this[EpochSymbol]);\n\t}\n\n\t/**\n\t * Returns a number indicating whether a reference snowflake comes before, or after, or is same as the given\n\t * snowflake in sort order.\n\t * @param a The first snowflake to compare.\n\t * @param b The second snowflake to compare.\n\t * @returns `-1` if `a` is older than `b`, `0` if `a` and `b` are equals, `1` if `a` is newer than `b`.\n\t * @example Sort snowflakes in ascending order\n\t * ```typescript\n\t * const ids = ['737141877803057244', '1056191128120082432', '254360814063058944'];\n\t * console.log(ids.sort((a, b) => Snowflake.compare(a, b)));\n\t * // → ['254360814063058944', '737141877803057244', '1056191128120082432'];\n\t * ```\n\t * @example Sort snowflakes in descending order\n\t * ```typescript\n\t * const ids = ['737141877803057244', '1056191128120082432', '254360814063058944'];\n\t * console.log(ids.sort((a, b) => -Snowflake.compare(a, b)));\n\t * // → ['1056191128120082432', '737141877803057244', '254360814063058944'];\n\t * ```\n\t */\n\tpublic static compare(a: string | bigint, b: string | bigint): -1 | 0 | 1 {\n\t\tconst typeA = typeof a;\n\t\treturn typeA === typeof b\n\t\t\t? typeA === 'string'\n\t\t\t\t? cmpString(a as string, b as string)\n\t\t\t\t: cmpBigInt(a as bigint, b as bigint)\n\t\t\t: cmpBigInt(BigInt(a), BigInt(b));\n\t}\n}\n\n/** @internal */\nfunction cmpBigInt(a: bigint, b: bigint) {\n\treturn a === b ? 0 : a < b ? -1 : 1;\n}\n\n/** @internal */\nfunction cmpString(a: string, b: string) {\n\treturn a === b ? 0 : a.length < b.length ? -1 : a.length > b.length ? 1 : a < b ? -1 : 1;\n}\n\n/**\n * Options for Snowflake#generate\n */\nexport interface SnowflakeGenerateOptions {\n\t/**\n\t * Timestamp or date of the snowflake to generate\n\t * @default Date.now()\n\t */\n\ttimestamp?: number | bigint | Date;\n\n\t/**\n\t * The increment to use\n\t * @default 0n\n\t * @remark keep in mind that this bigint is auto-incremented between generate calls\n\t */\n\tincrement?: bigint;\n\n\t/**\n\t * The worker ID to use, will be truncated to 5 bits (0-31)\n\t * @default 0n\n\t */\n\tworkerId?: bigint;\n\n\t/**\n\t * The process ID to use, will be truncated to 5 bits (0-31)\n\t * @default 1n\n\t */\n\tprocessId?: bigint;\n}\n\n/**\n * Object returned by Snowflake#deconstruct\n */\nexport interface DeconstructedSnowflake {\n\t/**\n\t * The id in BigInt form\n\t */\n\tid: bigint;\n\n\t/**\n\t * The timestamp stored in the snowflake\n\t */\n\ttimestamp: bigint;\n\n\t/**\n\t * The worker id stored in the snowflake\n\t */\n\tworkerId: bigint;\n\n\t/**\n\t * The process id stored in the snowflake\n\t */\n\tprocessId: bigint;\n\n\t/**\n\t * The increment stored in the snowflake\n\t */\n\tincrement: bigint;\n\n\t/**\n\t * The epoch to use in the snowflake\n\t */\n\tepoch: bigint;\n}\n","import { Snowflake } from './Snowflake';\n\n/**\n * A class for parsing snowflake ids using Discord's snowflake epoch\n *\n * Which is 2015-01-01 at 00:00:00.000 UTC+0, {@linkplain https://discord.com/developers/docs/reference#snowflakes}\n */\nexport const DiscordSnowflake = new Snowflake(1420070400000n);\n","import { Snowflake } from './Snowflake';\n\n/**\n * A class for parsing snowflake ids using Twitter's snowflake epoch\n *\n * Which is 2010-11-04 at 01:42:54.657 UTC+0, found in the archived snowflake repository {@linkplain https://github.com/twitter-archive/snowflake/blob/b3f6a3c6ca8e1b6847baa6ff42bf72201e2c2231/src/main/scala/com/twitter/service/snowflake/IdWorker.scala#L25}\n */\nexport const TwitterSnowflake = new Snowflake(1288834974657n);\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3579, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40vladfrangu/async_event_emitter/src/index.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/ban-types */\n/* eslint-disable @typescript-eslint/dot-notation */\nfunction validateListener(input: unknown): asserts input is (...args: unknown[]) => void {\n\tif (typeof input !== 'function') {\n\t\tthrow new TypeError(`The listener argument must be a function. Received ${typeof input}`);\n\t}\n}\n\nfunction validateAbortSignal(input: unknown): asserts input is AbortSignal | undefined {\n\t// Only validate that the signal is a signal if its defined\n\tif (input && !(input instanceof AbortSignal)) {\n\t\t// eslint-disable-next-line @typescript-eslint/no-base-to-string\n\t\tthrow new TypeError(`The signal option must be an AbortSignal. Received ${input}`);\n\t}\n}\n\n// Inspired from https://github.com/nodejs/node/blob/42ad967d68137df1a80a877e7b5ad56403fc157f/lib/internal/util.js#L397\nfunction spliceOne(list: unknown[], index: number) {\n\tfor (; index + 1 < list.length; index++) {\n\t\tlist[index] = list[index + 1];\n\t}\n\n\tlist.pop();\n}\n\n// Inspired from https://github.com/nodejs/node/blob/42ad967d68137df1a80a877e7b5ad56403fc157f/lib/events.js#L889\nfunction arrayClone<T extends unknown[]>(arr: T): T {\n\t// At least since V8 8.3, this implementation is faster than the previous\n\t// which always used a simple for-loop\n\tswitch (arr.length) {\n\t\tcase 2:\n\t\t\treturn [arr[0], arr[1]] as T;\n\t\tcase 3:\n\t\t\treturn [arr[0], arr[1], arr[2]] as T;\n\t\tcase 4:\n\t\t\treturn [arr[0], arr[1], arr[2], arr[3]] as T;\n\t\tcase 5:\n\t\t\treturn [arr[0], arr[1], arr[2], arr[3], arr[4]] as T;\n\t\tcase 6:\n\t\t\treturn [arr[0], arr[1], arr[2], arr[3], arr[4], arr[5]] as T;\n\t}\n\n\treturn arr.slice() as T;\n}\n\n// Inspired from https://github.com/nodejs/node/blob/42ad967d68137df1a80a877e7b5ad56403fc157f/lib/events.js#L427-L475\nfunction identicalSequenceRange(a: unknown[], b: unknown[]): [number, number] {\n\tfor (let i = 0; i < a.length - 3; i++) {\n\t\t// Find the first entry of b that matches the current entry of a.\n\t\tconst pos = b.indexOf(a[i]);\n\t\tif (pos !== -1) {\n\t\t\tconst rest = b.length - pos;\n\t\t\tif (rest > 3) {\n\t\t\t\tlet len = 1;\n\t\t\t\tconst maxLen = Math.min(a.length - i, rest);\n\t\t\t\t// Count the number of consecutive entries.\n\t\t\t\twhile (maxLen > len && a[i + len] === b[pos + len]) {\n\t\t\t\t\tlen++;\n\t\t\t\t}\n\t\t\t\tif (len > 3) {\n\t\t\t\t\treturn [len, i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn [0, 0];\n}\n\nfunction enhanceStackTrace(this: AsyncEventEmitter<any>, err: Error, own: Error) {\n\tlet ctorInfo = '';\n\ttry {\n\t\tconst { name } = this.constructor;\n\t\tif (name !== 'AsyncEventEmitter') ctorInfo = ` on ${name} instance`;\n\t} catch {\n\t\t// Continue regardless of error.\n\t}\n\tconst sep = `\\nEmitted 'error' event${ctorInfo} at:\\n`;\n\n\tconst errStack = err.stack!.split('\\n').slice(1);\n\tconst ownStack = own.stack!.split('\\n').slice(1);\n\n\tconst { 0: len, 1: off } = identicalSequenceRange(ownStack, errStack);\n\tif (len > 0) {\n\t\townStack.splice(off + 1, len - 2, '    [... lines matching original stack trace ...]');\n\t}\n\n\treturn err.stack + sep + ownStack.join('\\n');\n}\n\ninterface InternalEventMap extends Array<Listener> {\n\t_hasWarnedAboutMaxListeners?: boolean;\n}\n\ntype InternalGetAsyncEventEmitterEventParameters<\n\tEE extends AsyncEventEmitter<any>,\n\tEventName extends PropertyKey,\n\tEvents extends Record<PropertyKey, unknown[]> = EE extends AsyncEventEmitter<infer Events> ? Events\n\t:\tRecord<PropertyKey, unknown[]>,\n> =\n\tEventName extends keyof AsyncEventEmitterPredefinedEvents ?\n\t\tEventName extends keyof Events ?\n\t\t\tAsyncEventEmitterPredefinedEvents[EventName] | (Events & Record<PropertyKey, unknown[]>)[EventName]\n\t\t:\tAsyncEventEmitterPredefinedEvents[EventName]\n\t: EventName extends keyof Events ? (Events & Record<PropertyKey, unknown[]>)[EventName]\n\t: any[];\n\nexport type GetAsyncEventEmitterEventParameters<\n\tEE extends AsyncEventEmitter<any>,\n\tEventName extends PropertyKey | keyof AsyncEventEmitterPredefinedEvents,\n> = InternalGetAsyncEventEmitterEventParameters<EE, EventName>;\n\ntype InternalAsyncEventEmitterInternalListenerForEvent<\n\tEE extends AsyncEventEmitter<any>,\n\tEventName extends PropertyKey,\n\tEvents extends Record<PropertyKey, unknown[]> = EE extends AsyncEventEmitter<infer Events> ? Events\n\t:\tRecord<PropertyKey, unknown[]>,\n> =\n\tEventName extends keyof AsyncEventEmitterPredefinedEvents ?\n\t\tEventName extends keyof Events ?\n\t\t\tListener<\n\t\t\t\tAsyncEventEmitterPredefinedEvents[EventName] | (Events & Record<PropertyKey, unknown[]>)[EventName]\n\t\t\t>\n\t\t:\tListener<AsyncEventEmitterPredefinedEvents[EventName]>\n\t: EventName extends keyof Events ? Listener<(Events & Record<PropertyKey, unknown[]>)[EventName]>\n\t: Listener<any[]>;\n\nexport type AsyncEventEmitterInternalListenerForEvent<\n\tEE extends AsyncEventEmitter<any>,\n\tEventName extends PropertyKey | keyof AsyncEventEmitterPredefinedEvents,\n> = InternalAsyncEventEmitterInternalListenerForEvent<EE, EventName>;\n\nexport type AsyncEventEmitterListenerForEvent<\n\tEE extends AsyncEventEmitter<any>,\n\tEventName extends PropertyKey | keyof AsyncEventEmitterPredefinedEvents,\n> = Exclude<AsyncEventEmitterInternalListenerForEvent<EE, EventName>['listener'], undefined>;\n\nconst brandSymbol = Symbol.for('async-event-emitter.ts-brand');\n\nexport class AsyncEventEmitter<Events extends {} = {}> {\n\t/**\n\t * This field doesn't actually exist, it's just a way to make TS properly infer the events from classes that extend AsyncEventEmitter\n\t */\n\tprotected readonly [brandSymbol]!: Events;\n\n\tprivate _events: Record<string | symbol, Listener | InternalEventMap> = {\n\t\t__proto__: null,\n\t} as Record<keyof Events | keyof AsyncEventEmitterPredefinedEvents, Listener | InternalEventMap>;\n\n\tprivate _eventCount = 0;\n\tprivate _maxListeners = 10;\n\tprivate _internalPromiseMap: Map<string, Promise<void>> = new Map();\n\tprivate _wrapperId = 0n;\n\n\tpublic addListener<K extends keyof Events | keyof AsyncEventEmitterPredefinedEvents>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this;\n\n\tpublic addListener<K extends string | symbol>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this;\n\n\tpublic addListener<K extends string | symbol>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this {\n\t\tvalidateListener(listener);\n\n\t\tconst wrapped = this._wrapListener(eventName, listener, false);\n\n\t\tthis._addListener(eventName, wrapped, false);\n\n\t\treturn this;\n\t}\n\n\tpublic on<K extends keyof Events | keyof AsyncEventEmitterPredefinedEvents>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this;\n\n\tpublic on<K extends string | symbol>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this;\n\n\tpublic on<K extends string | symbol>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this {\n\t\treturn this.addListener(eventName, listener);\n\t}\n\n\tpublic once<K extends keyof Events | keyof AsyncEventEmitterPredefinedEvents>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this;\n\n\tpublic once<K extends string | symbol>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this;\n\n\tpublic once<K extends string | symbol>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this {\n\t\tvalidateListener(listener);\n\n\t\tconst wrapped = this._wrapListener(eventName, listener, true);\n\n\t\tthis._addListener(eventName, wrapped, false);\n\n\t\treturn this;\n\t}\n\n\tpublic removeListener<K extends keyof Events | keyof AsyncEventEmitterPredefinedEvents>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this;\n\n\tpublic removeListener<K extends string | symbol>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this;\n\n\tpublic removeListener<K extends string | symbol>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this {\n\t\tvalidateListener(listener);\n\n\t\tconst events = this._events;\n\t\tconst eventList = events[eventName];\n\n\t\tif (eventList === undefined) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif (eventList === listener || (eventList as Listener).listener === listener) {\n\t\t\tif (--this._eventCount === 0) {\n\t\t\t\tthis._events = { __proto__: null } as Record<\n\t\t\t\t\tkeyof Events | keyof AsyncEventEmitterPredefinedEvents,\n\t\t\t\t\tListener | InternalEventMap\n\t\t\t\t>;\n\t\t\t} else {\n\t\t\t\tdelete events[eventName];\n\t\t\t\tif (events.removeListener) {\n\t\t\t\t\tthis.emit(\n\t\t\t\t\t\t'removeListener',\n\t\t\t\t\t\teventName as string,\n\t\t\t\t\t\t((eventList as Listener).listener ?? eventList) as (...args: any[]) => void,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (typeof eventList !== 'function') {\n\t\t\tlet position = -1;\n\n\t\t\tfor (let i = eventList.length - 1; i >= 0; i--) {\n\t\t\t\tif (eventList[i] === listener || (eventList[i] as Listener).listener === listener) {\n\t\t\t\t\tposition = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (position < 0) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (position === 0) {\n\t\t\t\teventList.shift();\n\t\t\t} else {\n\t\t\t\tspliceOne(eventList, position);\n\t\t\t}\n\n\t\t\tif (eventList.length === 0) {\n\t\t\t\tdelete events[eventName];\n\t\t\t\t--this._eventCount;\n\t\t\t}\n\n\t\t\tif (events.removeListener !== undefined) {\n\t\t\t\tthis.emit('removeListener', eventName, listener);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tpublic off<K extends keyof Events | keyof AsyncEventEmitterPredefinedEvents>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this;\n\n\tpublic off<K extends string | symbol>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this;\n\n\tpublic off<K extends string | symbol>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this {\n\t\treturn this.removeListener(eventName, listener);\n\t}\n\n\tpublic removeAllListeners<K extends keyof Events | keyof AsyncEventEmitterPredefinedEvents>(event: K): this;\n\n\tpublic removeAllListeners<K extends keyof Events | keyof AsyncEventEmitterPredefinedEvents>(\n\t\tevent?: K | undefined,\n\t): this;\n\n\tpublic removeAllListeners(event: string | symbol): this;\n\n\tpublic removeAllListeners(event?: string | symbol | undefined): this;\n\n\tpublic removeAllListeners(event?: string | symbol | undefined): this {\n\t\tconst events = this._events;\n\n\t\t// Not listening for removeListener, no need to emit\n\t\tif (events.removeListener === undefined) {\n\t\t\tif (!event) {\n\t\t\t\tthis._events = { __proto__: null } as Record<\n\t\t\t\t\tkeyof Events | keyof AsyncEventEmitterPredefinedEvents,\n\t\t\t\t\tInternalEventMap\n\t\t\t\t>;\n\t\t\t\tthis._eventCount = 0;\n\t\t\t} else if (events[event] !== undefined) {\n\t\t\t\tif (--this._eventCount === 0) {\n\t\t\t\t\tthis._events = { __proto__: null } as Record<\n\t\t\t\t\t\tkeyof Events | keyof AsyncEventEmitterPredefinedEvents,\n\t\t\t\t\t\tInternalEventMap\n\t\t\t\t\t>;\n\t\t\t\t} else {\n\t\t\t\t\tdelete events[event];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\t// Emit removeListener for all listeners on all events\n\t\tif (!event) {\n\t\t\tfor (const key of Reflect.ownKeys(events) as (keyof Events | keyof AsyncEventEmitterPredefinedEvents)[]) {\n\t\t\t\tif (key === 'removeListener') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tthis.removeAllListeners(key);\n\t\t\t}\n\n\t\t\tthis.removeAllListeners('removeListener');\n\t\t\tthis._events = { __proto__: null } as Record<\n\t\t\t\tkeyof Events | keyof AsyncEventEmitterPredefinedEvents,\n\t\t\t\tInternalEventMap\n\t\t\t>;\n\t\t\tthis._eventCount = 0;\n\n\t\t\treturn this;\n\t\t}\n\n\t\tconst listeners = events[event];\n\n\t\tif (typeof listeners === 'function') {\n\t\t\tthis.removeListener(event, listeners as any);\n\t\t} else if (listeners !== undefined) {\n\t\t\t// LIFO order\n\t\t\tfor (let i = listeners.length - 1; i >= 0; i--) {\n\t\t\t\tthis.removeListener(event, listeners[i] as any);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tpublic setMaxListeners(n: number): this {\n\t\tif (typeof n !== 'number' || n < 0 || Number.isNaN(n)) {\n\t\t\tthrow new RangeError(`Expected to get a non-negative number for \"setMaxListeners\", got ${n} instead`);\n\t\t}\n\n\t\tthis._maxListeners = n;\n\n\t\treturn this;\n\t}\n\n\tpublic getMaxListeners(): number {\n\t\treturn this._maxListeners;\n\t}\n\n\tpublic listeners<K extends keyof Events | keyof AsyncEventEmitterPredefinedEvents>(\n\t\teventName: K,\n\t): AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>[];\n\n\tpublic listeners<K extends string | symbol>(\n\t\teventName: K,\n\t): AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>[];\n\n\tpublic listeners<K extends string | symbol>(\n\t\teventName: K,\n\t): AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>[] {\n\t\tconst eventList = this._events[eventName];\n\n\t\tif (eventList === undefined) {\n\t\t\treturn [];\n\t\t}\n\n\t\tif (typeof eventList === 'function') {\n\t\t\treturn [eventList.listener ?? eventList] as AsyncEventEmitterListenerForEvent<\n\t\t\t\tAsyncEventEmitter<Events>,\n\t\t\t\tK\n\t\t\t>[];\n\t\t}\n\n\t\tconst ret = arrayClone(eventList) as AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>[];\n\n\t\tfor (let i = 0; i < ret.length; ++i) {\n\t\t\tconst orig = (ret[i] as Listener).listener;\n\t\t\tif (typeof orig === 'function') {\n\t\t\t\tret[i] = orig as AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>;\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t}\n\n\tpublic rawListeners<K extends keyof Events | keyof AsyncEventEmitterPredefinedEvents>(\n\t\teventName: K,\n\t): AsyncEventEmitterInternalListenerForEvent<AsyncEventEmitter<Events>, K>[];\n\n\tpublic rawListeners<K extends string | symbol>(\n\t\teventName: K,\n\t): AsyncEventEmitterInternalListenerForEvent<AsyncEventEmitter<Events>, K>[];\n\n\tpublic rawListeners<K extends string | symbol>(\n\t\teventName: K,\n\t): AsyncEventEmitterInternalListenerForEvent<AsyncEventEmitter<Events>, K>[] {\n\t\tconst eventList = this._events[eventName];\n\n\t\tif (eventList === undefined) {\n\t\t\treturn [];\n\t\t}\n\n\t\tif (typeof eventList === 'function') {\n\t\t\treturn [eventList] as AsyncEventEmitterInternalListenerForEvent<AsyncEventEmitter<Events>, K>[];\n\t\t}\n\n\t\treturn arrayClone(eventList) as AsyncEventEmitterInternalListenerForEvent<AsyncEventEmitter<Events>, K>[];\n\t}\n\n\tpublic emit<K extends keyof Events | keyof AsyncEventEmitterPredefinedEvents>(\n\t\teventName: K,\n\t\t...args: GetAsyncEventEmitterEventParameters<AsyncEventEmitter<Events>, K>\n\t): boolean;\n\n\tpublic emit<K extends string | symbol>(\n\t\teventName: K,\n\t\t...args: GetAsyncEventEmitterEventParameters<AsyncEventEmitter<Events>, K>\n\t): boolean;\n\n\tpublic emit<K extends string | symbol>(\n\t\teventName: K,\n\t\t...args: GetAsyncEventEmitterEventParameters<AsyncEventEmitter<Events>, K>\n\t): boolean {\n\t\tlet doError = eventName === 'error';\n\n\t\tconst events = this._events;\n\t\tif (events !== undefined) {\n\t\t\tdoError = doError && events.error === undefined;\n\t\t} else if (!doError) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (doError) {\n\t\t\tlet er: unknown;\n\n\t\t\tif (args.length > 0) {\n\t\t\t\t// eslint-disable-next-line prefer-destructuring\n\t\t\t\ter = args[0];\n\t\t\t}\n\n\t\t\tif (er instanceof Error) {\n\t\t\t\ttry {\n\t\t\t\t\tconst capture = {};\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/unbound-method\n\t\t\t\t\tError.captureStackTrace(capture, AsyncEventEmitter.prototype.emit);\n\t\t\t\t\tObject.defineProperty(er, 'stack', {\n\t\t\t\t\t\tvalue: enhanceStackTrace.call(this, er, capture as Error),\n\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t});\n\t\t\t\t} catch {\n\t\t\t\t\t// Continue regardless of error\n\t\t\t\t}\n\n\t\t\t\tthrow er; // Unhandled 'error' event\n\t\t\t}\n\n\t\t\tconst stringifiedError = String(er);\n\n\t\t\t// Give some error to user\n\t\t\tconst err = new Error(`Unhandled 'error' event emitted, received ${stringifiedError}`);\n\t\t\t// @ts-expect-error Add context to error too\n\t\t\terr.context = er;\n\n\t\t\tthrow err; // Unhandled 'error' event\n\t\t}\n\n\t\tconst handlers = events[eventName];\n\n\t\tif (handlers === undefined) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (typeof handlers === 'function') {\n\t\t\tconst result = handlers.apply(this, args);\n\n\t\t\tif (result !== undefined && result !== null) {\n\t\t\t\thandleMaybeAsync(this, result);\n\t\t\t}\n\t\t} else {\n\t\t\tconst len = handlers.length;\n\t\t\tconst listeners = arrayClone(handlers as InternalEventMap);\n\n\t\t\tfor (let i = 0; i < len; ++i) {\n\t\t\t\t// We call all listeners regardless of the result, as we already handle possible error emits in the wrapped func\n\t\t\t\tconst result = listeners[i].apply(this, args);\n\n\t\t\t\tif (result !== undefined && result !== null) {\n\t\t\t\t\thandleMaybeAsync(this, result);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tpublic listenerCount<K extends keyof Events | keyof AsyncEventEmitterPredefinedEvents>(eventName: K): number;\n\n\tpublic listenerCount(eventName: string | symbol): number;\n\n\tpublic listenerCount(eventName: string | symbol): number {\n\t\tconst events = this._events;\n\n\t\tif (events === undefined) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tconst eventListeners = events[eventName];\n\n\t\tif (typeof eventListeners === 'function') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn eventListeners?.length ?? 0;\n\t}\n\n\tpublic prependListener<K extends keyof Events | keyof AsyncEventEmitterPredefinedEvents>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this;\n\n\tpublic prependListener<K extends string | symbol>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this;\n\n\tpublic prependListener<K extends string | symbol>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this {\n\t\tvalidateListener(listener);\n\n\t\tconst wrapped = this._wrapListener(eventName, listener, false);\n\n\t\tthis._addListener(eventName, wrapped, true);\n\n\t\treturn this;\n\t}\n\n\tpublic prependOnceListener<K extends keyof Events | keyof AsyncEventEmitterPredefinedEvents>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this;\n\n\tpublic prependOnceListener<K extends string | symbol>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this;\n\n\tpublic prependOnceListener<K extends string | symbol>(\n\t\teventName: K,\n\t\tlistener: AsyncEventEmitterListenerForEvent<AsyncEventEmitter<Events>, K>,\n\t): this {\n\t\tvalidateListener(listener);\n\n\t\tconst wrapped = this._wrapListener(eventName, listener, true);\n\n\t\tthis._addListener(eventName, wrapped, true);\n\n\t\treturn this;\n\t}\n\n\tpublic eventNames(): (string | symbol)[] & (keyof AsyncEventEmitterPredefinedEvents)[] & (keyof Events)[] {\n\t\treturn this._eventCount > 0 ?\n\t\t\t\t(Reflect.ownKeys(this._events) as (string | symbol)[] &\n\t\t\t\t\t(keyof AsyncEventEmitterPredefinedEvents)[] &\n\t\t\t\t\t(keyof Events)[])\n\t\t\t:\t[];\n\t}\n\n\tpublic async waitForAllListenersToComplete() {\n\t\tconst promises = [...this._internalPromiseMap.values()];\n\n\t\tif (promises.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tawait Promise.all(promises);\n\n\t\treturn true;\n\t}\n\n\tprivate _addListener(eventName: PropertyKey, wrappedListener: Listener, prepend: boolean) {\n\t\t// Emit newListener first in the event someone is listening for it\n\t\tif (this._events.newListener !== undefined) {\n\t\t\t// Thanks TypeScript for the cast... now with more what the fuck\n\t\t\tthis.emit(\n\t\t\t\t'newListener',\n\t\t\t\teventName as string | symbol,\n\t\t\t\t((wrappedListener as Listener).listener ?? wrappedListener) as (...args: any[]) => void,\n\t\t\t);\n\t\t}\n\n\t\tlet existing = this._events[eventName];\n\n\t\tif (existing === undefined) {\n\t\t\t// eslint-disable-next-line no-multi-assign\n\t\t\texisting = this._events[eventName] = wrappedListener;\n\t\t\t++this._eventCount;\n\t\t} else if (typeof existing === 'function') {\n\t\t\t// Adding the second element, need to change to array.\n\t\t\t// eslint-disable-next-line no-multi-assign\n\t\t\texisting = this._events[eventName] = prepend ? [wrappedListener, existing] : [existing, wrappedListener];\n\t\t\t// If we've already got an array, just append.\n\t\t} else if (prepend) {\n\t\t\texisting.unshift(wrappedListener);\n\t\t} else {\n\t\t\texisting.push(wrappedListener);\n\t\t}\n\n\t\tconst existingWarnedAboutMaxListeners = Reflect.get(existing, '_hasWarnedAboutMaxListeners') as boolean;\n\n\t\tif (this._maxListeners > 0 && existing.length > this._maxListeners && !existingWarnedAboutMaxListeners) {\n\t\t\tReflect.set(existing, '_hasWarnedAboutMaxListeners', true);\n\t\t\tconst warningMessage = [\n\t\t\t\t`Possible AsyncEventEmitter memory leak detected. ${existing.length} ${String(\n\t\t\t\t\teventName,\n\t\t\t\t)} listeners added to ${this.constructor.name}.`,\n\t\t\t\t`Use emitter.setMaxListeners() to increase the limit.`,\n\t\t\t].join(' ');\n\t\t\tconsole.warn(warningMessage);\n\t\t}\n\t}\n\n\tprivate _wrapListener(eventName: PropertyKey, listener: (...args: any[]) => void, once: boolean): Listener {\n\t\tif (!once) {\n\t\t\treturn listener as Listener;\n\t\t}\n\n\t\tconst state = {\n\t\t\tfired: false,\n\t\t\twrapFn: undefined!,\n\t\t\teventEmitter: this,\n\t\t\teventName,\n\t\t\tlistener,\n\t\t} as WrappedOnceState<any[]>;\n\n\t\tconst aliased = onceWrapper<any[]>;\n\n\t\tconst wrapped = aliased.bind(state) as Listener<any[]>;\n\t\twrapped.listener = listener as Listener<any[]>;\n\t\tstate.wrapFn = wrapped;\n\n\t\treturn wrapped as Listener;\n\t}\n\n\tpublic static listenerCount<\n\t\tEventMap extends {},\n\t\tEventName extends PropertyKey = keyof EventMap | keyof AsyncEventEmitterPredefinedEvents,\n\t>(emitter: AsyncEventEmitter<EventMap>, eventName: EventName | keyof AsyncEventEmitterPredefinedEvents): number;\n\n\tpublic static listenerCount(emitter: AsyncEventEmitter<any>, eventName: string | symbol): number;\n\n\tpublic static listenerCount(emitter: AsyncEventEmitter<any>, eventName: string | symbol) {\n\t\treturn emitter.listenerCount(eventName);\n\t}\n\n\tpublic static async once<\n\t\tEventMap extends {},\n\t\tEventName extends PropertyKey = keyof EventMap | keyof AsyncEventEmitterPredefinedEvents,\n\t>(\n\t\temitter: AsyncEventEmitter<EventMap>,\n\t\teventName: EventName,\n\t\toptions?: AbortableMethods,\n\t): Promise<GetAsyncEventEmitterEventParameters<AsyncEventEmitter<EventMap>, EventName>>;\n\n\tpublic static async once(\n\t\temitter: AsyncEventEmitter<any>,\n\t\teventName: string | symbol,\n\t\toptions?: AbortableMethods,\n\t): Promise<any[]>;\n\n\tpublic static async once(\n\t\temitter: AsyncEventEmitter<any>,\n\t\teventName: string | symbol,\n\t\toptions: AbortableMethods = {},\n\t) {\n\t\tconst signal = options?.signal;\n\t\tvalidateAbortSignal(signal);\n\n\t\tif (signal?.aborted) {\n\t\t\tthrow new AbortError(undefined, { cause: getReason(signal) });\n\t\t}\n\n\t\treturn new Promise<any[]>((resolve, reject) => {\n\t\t\tconst errorListener = (err: unknown) => {\n\t\t\t\temitter.removeListener(eventName, resolver);\n\n\t\t\t\tif (signal) {\n\t\t\t\t\teventTargetAgnosticRemoveListener(emitter, eventName, abortListener);\n\t\t\t\t}\n\n\t\t\t\treject(err);\n\t\t\t};\n\n\t\t\tconst resolver = (...args: any[]) => {\n\t\t\t\temitter.removeListener('error', errorListener);\n\n\t\t\t\tif (signal) {\n\t\t\t\t\teventTargetAgnosticRemoveListener(signal, 'abort', abortListener);\n\t\t\t\t}\n\n\t\t\t\tresolve(args as any[]);\n\t\t\t};\n\n\t\t\temitter.once(eventName, resolver);\n\t\t\tif (eventName !== 'error') {\n\t\t\t\temitter.once('error', errorListener);\n\t\t\t}\n\n\t\t\tconst abortListener = () => {\n\t\t\t\teventTargetAgnosticRemoveListener(emitter, eventName, resolver);\n\t\t\t\teventTargetAgnosticRemoveListener(emitter, 'error', errorListener);\n\t\t\t\treject(new AbortError(undefined, { cause: getReason(signal) }));\n\t\t\t};\n\n\t\t\tif (signal) {\n\t\t\t\teventTargetAgnosticAddListener(signal, 'abort', abortListener, { once: true });\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic static on<\n\t\tEventMap extends {},\n\t\tEventName extends PropertyKey = keyof EventMap | keyof AsyncEventEmitterPredefinedEvents,\n\t>(\n\t\temitter: AsyncEventEmitter<EventMap>,\n\t\teventName: EventName,\n\t\toptions?: AbortableMethods,\n\t): AsyncGenerator<GetAsyncEventEmitterEventParameters<AsyncEventEmitter<EventMap>, EventName>, void>;\n\n\tpublic static on(\n\t\temitter: AsyncEventEmitter<any>,\n\t\teventName: string | symbol,\n\t\toptions?: AbortableMethods,\n\t): AsyncGenerator<any[], void>;\n\n\tpublic static on(\n\t\temitter: AsyncEventEmitter<any>,\n\t\teventName: string | symbol,\n\t\toptions: AbortableMethods = {},\n\t): AsyncGenerator<any[], void> {\n\t\tconst signal = options?.signal;\n\t\tvalidateAbortSignal(signal);\n\n\t\tif (signal?.aborted) {\n\t\t\tthrow new AbortError(undefined, { cause: getReason(signal) });\n\t\t}\n\n\t\tconst unconsumedEvents: unknown[][] = [];\n\t\tconst unconsumedPromises: { resolve: (value?: unknown) => void; reject: (reason?: unknown) => void }[] = [];\n\t\tlet error: unknown = null;\n\t\tlet finished = false;\n\n\t\tconst abortListener = () => {\n\t\t\terrorHandler(new AbortError(undefined, { cause: getReason(signal) }));\n\t\t};\n\n\t\tconst eventHandler = (...args: unknown[]) => {\n\t\t\tconst promise = unconsumedPromises.shift();\n\t\t\tif (promise) {\n\t\t\t\tpromise.resolve(createIterResult(args, false));\n\t\t\t} else {\n\t\t\t\tunconsumedEvents.push(args);\n\t\t\t}\n\t\t};\n\n\t\tconst errorHandler = (err: unknown) => {\n\t\t\tfinished = true;\n\n\t\t\tconst toError = unconsumedPromises.shift();\n\n\t\t\tif (toError) {\n\t\t\t\ttoError.reject(err);\n\t\t\t} else {\n\t\t\t\terror = err;\n\t\t\t}\n\n\t\t\tvoid iterator.return();\n\t\t};\n\n\t\tconst iterator: AsyncGenerator<any[], void> = Object.setPrototypeOf(\n\t\t\t{\n\t\t\t\tnext() {\n\t\t\t\t\t// First, we consume all unread events\n\t\t\t\t\tconst value = unconsumedEvents.shift();\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\treturn Promise.resolve(createIterResult(value, false));\n\t\t\t\t\t}\n\n\t\t\t\t\t// Then we error, if an error happened\n\t\t\t\t\t// This happens one time if at all, because after 'error'\n\t\t\t\t\t// we stop listening\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\tconst p = Promise.reject(error);\n\t\t\t\t\t\t// Only the first element errors\n\t\t\t\t\t\terror = null;\n\t\t\t\t\t\treturn p;\n\t\t\t\t\t}\n\n\t\t\t\t\t// If the iterator is finished, resolve to done\n\t\t\t\t\tif (finished) {\n\t\t\t\t\t\treturn Promise.resolve(createIterResult(undefined, true));\n\t\t\t\t\t}\n\n\t\t\t\t\t// Wait until an event happens\n\t\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\t\tunconsumedPromises.push({ resolve, reject });\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\treturn() {\n\t\t\t\t\temitter.off(eventName, eventHandler);\n\t\t\t\t\temitter.off('error', errorHandler);\n\n\t\t\t\t\tif (signal) {\n\t\t\t\t\t\teventTargetAgnosticRemoveListener(signal, 'abort', abortListener);\n\t\t\t\t\t}\n\n\t\t\t\t\tfinished = true;\n\n\t\t\t\t\tconst doneResult = createIterResult(undefined, true);\n\t\t\t\t\tfor (const promise of unconsumedPromises) {\n\t\t\t\t\t\tpromise.resolve(doneResult);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Promise.resolve(doneResult);\n\t\t\t\t},\n\n\t\t\t\tthrow(err: unknown) {\n\t\t\t\t\tif (!err || !(err instanceof Error)) {\n\t\t\t\t\t\tthrow new TypeError(\n\t\t\t\t\t\t\t`Expected Error instance to be thrown in AsyncEventEmitter.AsyncIterator. Got ${err}`,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\terror = err;\n\t\t\t\t\temitter.off(eventName, eventHandler);\n\t\t\t\t\temitter.off('error', errorHandler);\n\t\t\t\t},\n\n\t\t\t\t[Symbol.asyncIterator]() {\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t},\n\t\t\tAsyncIteratorPrototype,\n\t\t);\n\n\t\temitter.on(eventName, eventHandler);\n\t\tif (eventName !== 'error') {\n\t\t\temitter.on('error', errorHandler);\n\t\t}\n\n\t\tif (signal) {\n\t\t\teventTargetAgnosticAddListener(signal, 'abort', abortListener);\n\t\t}\n\n\t\treturn iterator;\n\t}\n}\n\nexport interface AsyncEventEmitterPredefinedEvents {\n\tnewListener: [eventName: string | symbol, listener: (...args: any[]) => void];\n\tremoveListener: [eventName: string | symbol, listener: (...args: any[]) => void];\n}\n\ninterface WrappedOnceState<Args extends unknown[] = unknown[]> {\n\tlistener: (...args: Args) => void;\n\tfired: boolean;\n\teventName: string | symbol;\n\teventEmitter: AsyncEventEmitter<any>;\n\twrapFn: (...args: Args) => void;\n}\n\nexport interface Listener<Args extends any[] = any[]> {\n\t(...args: Args): void;\n\tlistener?: (...args: Args) => void;\n\t// _hasWarnedAboutMaxListeners?: boolean;\n}\n\nexport interface AbortableMethods {\n\tsignal?: AbortSignal;\n}\n\n// @ts-ignore Not all paths returning is fine just fine:tm:\nfunction onceWrapper<Args extends any[] = any[]>(this: WrappedOnceState<Args>) {\n\tif (!this.fired) {\n\t\tthis.eventEmitter.removeListener(this.eventName, this.wrapFn);\n\t\tthis.fired = true;\n\t\t// eslint-disable-next-line @typescript-eslint/dot-notation\n\t\tif (arguments.length === 0) {\n\t\t\t// @ts-expect-error Types can be hell\n\t\t\treturn this.listener.call(this.eventEmitter);\n\t\t}\n\n\t\t// eslint-disable-next-line prefer-rest-params\n\t\treturn this.listener.apply(this.eventEmitter, arguments as unknown as Args);\n\t}\n}\n\n/**\n * A TypeScript not-compliant way of accessing AbortSignal#reason\n * Because DOM types have it, NodeJS types don't. -w-\n */\nfunction getReason(signal: any) {\n\treturn signal?.reason;\n}\n\nfunction eventTargetAgnosticRemoveListener(\n\temitter: any,\n\tname: PropertyKey,\n\tlistener: (...args: unknown[]) => any,\n\tflags?: InternalAgnosticFlags,\n) {\n\tif (typeof emitter.off === 'function') {\n\t\temitter.off(name, listener);\n\t} else if (typeof emitter.removeEventListener === 'function') {\n\t\temitter.removeEventListener(name, listener, flags);\n\t}\n}\n\nfunction eventTargetAgnosticAddListener(\n\temitter: any,\n\tname: string | symbol,\n\tlistener: (...args: unknown[]) => any,\n\tflags?: InternalAgnosticFlags,\n) {\n\tif (typeof emitter.on === 'function') {\n\t\tif (flags?.once) {\n\t\t\temitter.once!(name, listener);\n\t\t} else {\n\t\t\temitter.on(name, listener);\n\t\t}\n\t} else if (typeof emitter.addEventListener === 'function') {\n\t\temitter.addEventListener(name, listener, flags);\n\t}\n}\n\ninterface InternalAgnosticFlags {\n\tonce?: boolean;\n}\n\n// eslint-disable-next-line func-names, @typescript-eslint/no-empty-function\nconst AsyncIteratorPrototype = Object.getPrototypeOf(Object.getPrototypeOf(async function* () {}).prototype);\n\nfunction createIterResult(value: unknown, done: boolean) {\n\treturn { value, done };\n}\n\nexport interface AbortErrorOptions {\n\tcause?: unknown;\n}\n\nexport class AbortError extends Error {\n\tpublic readonly code = 'ABORT_ERR';\n\tpublic override readonly name = 'AbortError';\n\n\tpublic constructor(message = 'The operation was aborted', options: AbortErrorOptions | undefined = undefined) {\n\t\tif (options !== undefined && typeof options !== 'object') {\n\t\t\tthrow new TypeError(`Failed to create AbortError: options is not an object or undefined`);\n\t\t}\n\n\t\tsuper(message, options);\n\t}\n}\n\nfunction handleMaybeAsync(emitter: AsyncEventEmitter<any>, result: any) {\n\ttry {\n\t\tconst the = result.then;\n\t\tconst fin = result.finally;\n\n\t\tif (typeof the === 'function') {\n\t\t\tthe.call(result, undefined, (error: any) => {\n\t\t\t\t// Emit on next tick\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\temitter.emit('error', error);\n\t\t\t\t}, 0);\n\t\t\t});\n\t\t}\n\n\t\tif (typeof fin === 'function') {\n\t\t\tconst promiseId = String(++emitter['_wrapperId']);\n\t\t\temitter['_internalPromiseMap'].set(promiseId, result);\n\t\t\tfin.call(result, function final() {\n\t\t\t\temitter['_internalPromiseMap'].delete(promiseId);\n\t\t\t});\n\t\t}\n\t} catch (err) {\n\t\temitter.emit('error', err);\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4208, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/magic-bytes.js/dist/model/toHex.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromHex = exports.toHex = void 0;\nconst hex = (num) => new Number(num).toString(16).toLowerCase();\nconst toHex = (num) => `0x${hex(num).length === 1 ? \"0\" + hex(num) : hex(num)}`;\nexports.toHex = toHex;\nconst fromHex = (hex) => new Number(hex);\nexports.fromHex = fromHex;\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,OAAO,GAAG,QAAQ,KAAK,GAAG,KAAK;AACvC,MAAM,MAAM,CAAC,MAAQ,IAAI,OAAO,KAAK,QAAQ,CAAC,IAAI,WAAW;AAC7D,MAAM,QAAQ,CAAC,MAAQ,CAAC,EAAE,EAAE,IAAI,KAAK,MAAM,KAAK,IAAI,MAAM,IAAI,OAAO,IAAI,MAAM;AAC/E,QAAQ,KAAK,GAAG;AAChB,MAAM,UAAU,CAAC,MAAQ,IAAI,OAAO;AACpC,QAAQ,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4223, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/magic-bytes.js/dist/model/tree.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createComplexNode = exports.createNode = exports.merge = void 0;\nconst createMatch = (leaf) => ({\n    typename: leaf.typename,\n    mime: leaf.info.mime,\n    extension: leaf.info.extension,\n});\nconst isLeafNode = (tree, path) => tree && path.length === 0;\nconst merge = (node, tree) => {\n    if (node.bytes.length === 0)\n        return tree;\n    const [currentByte, ...path] = node.bytes;\n    const currentTree = tree.bytes[currentByte];\n    // traversed to end. Just add key to leaf.\n    if (isLeafNode(currentTree, path)) {\n        const matchingNode = tree.bytes[currentByte];\n        tree.bytes[currentByte] = {\n            ...matchingNode,\n            matches: [\n                ...(matchingNode.matches ?? []),\n                createMatch(node),\n            ],\n        };\n        return tree;\n    }\n    // Path exists already, Merge subtree\n    if (tree.bytes[currentByte]) {\n        tree.bytes[currentByte] = exports.merge(exports.createNode(node.typename, path, node.info), tree.bytes[currentByte]);\n    }\n    else { // Tree did not exist before\n        tree.bytes[currentByte] = exports.createComplexNode(node.typename, path, node.info);\n    }\n    return tree;\n};\nexports.merge = merge;\nconst createNode = (typename, bytes, info) => {\n    return { typename, bytes, info: info ? info : {} };\n};\nexports.createNode = createNode;\nconst createComplexNode = (typename, bytes, info) => {\n    let obj = {\n        bytes: {},\n        matches: undefined,\n    };\n    const [currentKey, ...path] = bytes;\n    if (bytes.length === 0) {\n        return {\n            matches: [\n                createMatch({\n                    typename: typename,\n                    info: info ? { extension: info.extension, mime: info.mime } : {},\n                }),\n            ],\n            bytes: {},\n        };\n    }\n    obj.bytes[currentKey] = exports.createComplexNode(typename, path, info);\n    return obj;\n};\nexports.createComplexNode = createComplexNode;\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,iBAAiB,GAAG,QAAQ,UAAU,GAAG,QAAQ,KAAK,GAAG,KAAK;AACtE,MAAM,cAAc,CAAC,OAAS,CAAC;QAC3B,UAAU,KAAK,QAAQ;QACvB,MAAM,KAAK,IAAI,CAAC,IAAI;QACpB,WAAW,KAAK,IAAI,CAAC,SAAS;IAClC,CAAC;AACD,MAAM,aAAa,CAAC,MAAM,OAAS,QAAQ,KAAK,MAAM,KAAK;AAC3D,MAAM,QAAQ,CAAC,MAAM;IACjB,IAAI,KAAK,KAAK,CAAC,MAAM,KAAK,GACtB,OAAO;IACX,MAAM,CAAC,aAAa,GAAG,KAAK,GAAG,KAAK,KAAK;IACzC,MAAM,cAAc,KAAK,KAAK,CAAC,YAAY;IAC3C,0CAA0C;IAC1C,IAAI,WAAW,aAAa,OAAO;QAC/B,MAAM,eAAe,KAAK,KAAK,CAAC,YAAY;QAC5C,KAAK,KAAK,CAAC,YAAY,GAAG;YACtB,GAAG,YAAY;YACf,SAAS;mBACD,aAAa,OAAO,IAAI,EAAE;gBAC9B,YAAY;aACf;QACL;QACA,OAAO;IACX;IACA,qCAAqC;IACrC,IAAI,KAAK,KAAK,CAAC,YAAY,EAAE;QACzB,KAAK,KAAK,CAAC,YAAY,GAAG,QAAQ,KAAK,CAAC,QAAQ,UAAU,CAAC,KAAK,QAAQ,EAAE,MAAM,KAAK,IAAI,GAAG,KAAK,KAAK,CAAC,YAAY;IACvH,OACK;QACD,KAAK,KAAK,CAAC,YAAY,GAAG,QAAQ,iBAAiB,CAAC,KAAK,QAAQ,EAAE,MAAM,KAAK,IAAI;IACtF;IACA,OAAO;AACX;AACA,QAAQ,KAAK,GAAG;AAChB,MAAM,aAAa,CAAC,UAAU,OAAO;IACjC,OAAO;QAAE;QAAU;QAAO,MAAM,OAAO,OAAO,CAAC;IAAE;AACrD;AACA,QAAQ,UAAU,GAAG;AACrB,MAAM,oBAAoB,CAAC,UAAU,OAAO;IACxC,IAAI,MAAM;QACN,OAAO,CAAC;QACR,SAAS;IACb;IACA,MAAM,CAAC,YAAY,GAAG,KAAK,GAAG;IAC9B,IAAI,MAAM,MAAM,KAAK,GAAG;QACpB,OAAO;YACH,SAAS;gBACL,YAAY;oBACR,UAAU;oBACV,MAAM,OAAO;wBAAE,WAAW,KAAK,SAAS;wBAAE,MAAM,KAAK,IAAI;oBAAC,IAAI,CAAC;gBACnE;aACH;YACD,OAAO,CAAC;QACZ;IACJ;IACA,IAAI,KAAK,CAAC,WAAW,GAAG,QAAQ,iBAAiB,CAAC,UAAU,MAAM;IAClE,OAAO;AACX;AACA,QAAQ,iBAAiB,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4296, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/magic-bytes.js/dist/model/pattern-tree.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createTree = exports.add = void 0;\nconst toHex_1 = require(\"./toHex\");\nconst tree_1 = require(\"./tree\");\n// https://en.wikipedia.org/wiki/List_of_file_signatures\nlet tree = {\n    noOffset: null,\n    offset: {},\n};\nconst add = (typename, signature, additionalInfo, offset) => {\n    if (offset) {\n        const existing = tree.offset[toHex_1.toHex(offset)];\n        if (!existing) {\n            tree.offset[toHex_1.toHex(offset)] = tree_1.createComplexNode(typename, signature.map((e) => e.toLowerCase()), additionalInfo);\n        }\n        else {\n            const merged = tree_1.merge(tree_1.createNode(typename, signature.map((e) => e.toLowerCase()), additionalInfo), { ...existing });\n            tree.offset[toHex_1.toHex(offset)] = merged;\n        }\n    }\n    else {\n        if (tree.noOffset === null) {\n            tree.noOffset = tree_1.createComplexNode(typename, signature.map((e) => e.toLowerCase()), additionalInfo);\n        }\n        else {\n            tree.noOffset = tree_1.merge(tree_1.createNode(typename, signature.map((e) => e.toLowerCase()), additionalInfo), tree.noOffset);\n        }\n    }\n};\nexports.add = add;\nexports.add(\"gif\", [\"0x47\", \"0x49\", \"0x46\", \"0x38\", \"0x37\", \"0x61\"], {\n    mime: \"image/gif\",\n    extension: \"gif\",\n});\nexports.add(\"gif\", [\"0x47\", \"0x49\", \"0x46\", \"0x38\", \"0x39\", \"0x61\"], {\n    mime: \"image/gif\",\n    extension: \"gif\",\n});\nexports.add(\"jpg\", [\"0xFF\", \"0xD8\", \"0xFF\"], {\n    mime: \"image/jpeg\",\n    extension: \"jpeg\",\n});\nexports.add(\"webp\", [\n    \"0x52\",\n    \"0x49\",\n    \"0x46\",\n    \"0x46\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x57\",\n    \"0x45\",\n    \"0x42\",\n    \"0x50\",\n], { mime: \"image/webp\", extension: \"webp\" });\nexports.add(\"heif\", [\"0x66\", \"0x74\", \"0x79\", \"0x70\", \"0x6D\", \"0x69\", \"0x66\", \"0x31\"], { mime: \"image/heif\", extension: \"heif\" }, 4);\nexports.add(\"heif\", [\"0x66\", \"0x74\", \"0x79\", \"0x70\", \"0x68\", \"0x65\", \"0x69\", \"0x63\"], { mime: \"image/heif\", extension: \"heic\" }, 4);\nexports.add(\"rpm\", [\"0xed\", \"0xab\", \"0xee\", \"0xdb\"]);\nexports.add(\"bin\", [\"0x53\", \"0x50\", \"0x30\", \"0x31\"], {\n    mime: \"application/octet-stream\",\n    extension: \"bin\",\n});\nexports.add(\"pic\", [\"0x00\"]);\nexports.add(\"pif\", [\"0x00\"]);\nexports.add(\"sea\", [\"0x00\"]);\nexports.add(\"ytr\", [\"0x00\"]);\n// 66747970\n// 6D703432\nexports.add(\"mp4\", [\"0x66\", \"0x74\", \"0x79\", \"0x70\"], { mime: \"video/mp4\", extension: \"mp4\" }, 0x4);\nexports.add(\"ttf\", [\"0x00\", \"0x01\", \"0x00\", \"0x00\", \"0x00\"], {\n    mime: \"font/ttf\",\n    extension: \"ttf\",\n});\nexports.add(\"otf\", [\"0x4F\", \"0x54\", \"0x54\", \"0x4F\"], {\n    mime: \"font/otf\",\n    extension: \"otf\",\n});\nexports.add(\"eot\", [\"0x50\", \"0x4C\"], {\n    mime: \"application/vnd.ms-fontobject\",\n    extension: \"eot\",\n});\nexports.add(\"woff\", [\"0x77\", \"0x4F\", \"0x46\", \"0x46\"], {\n    mime: \"font/woff\",\n    extension: \"woff\",\n});\nexports.add(\"woff2\", [\"0x77\", \"0x4F\", \"0x46\", \"0x32\"], {\n    mime: \"font/woff2\",\n    extension: \"woff2\",\n});\nexports.add(\"pdb\", [\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n]);\nexports.add(\"dba\", [\"0xBE\", \"0xBA\", \"0xFE\", \"0xCA\"]);\nexports.add(\"dba2\", [\"0x00\", \"0x01\", \"0x42\", \"0x44\"]);\nexports.add(\"tda\", [\"0x00\", \"0x01\", \"0x44\", \"0x54\"]);\nexports.add(\"tda2\", [\"0x00\", \"0x01\", \"0x00\", \"0x00\"]);\nexports.add(\"ico\", [\"0x00\", \"0x00\", \"0x01\", \"0x00\"], {\n    mime: \"image/x-icon\",\n    extension: \"ico\",\n});\nexports.add(\"3gp\", [\"0x66\", \"0x74\", \"0x79\", \"0x70\", \"0x33\", \"0x67\"]);\nexports.add(\"z\", [\"0x1F\", \"0x9D\"]);\nexports.add(\"tar.z\", [\"0x1F\", \"0xA0\"]);\nexports.add(\"bac\", [\n    \"0x42\",\n    \"0x41\",\n    \"0x43\",\n    \"0x4B\",\n    \"0x4D\",\n    \"0x49\",\n    \"0x4B\",\n    \"0x45\",\n    \"0x44\",\n    \"0x49\",\n    \"0x53\",\n    \"0x4B\",\n]);\nexports.add(\"bz2\", [\"0x42\", \"0x5A\", \"0x68\"], {\n    mime: \"application/x-bzip2\",\n    extension: \"bz2\",\n});\nexports.add(\"tif\", [\"0x49\", \"0x49\", \"0x2A\", \"0x00\"], {\n    mime: \"image/tiff\",\n    extension: \"tif\",\n});\nexports.add(\"tiff\", [\"0x4D\", \"0x4D\", \"0x00\", \"0x2A\"], {\n    mime: \"image/tiff\",\n    extension: \"tiff\",\n});\nexports.add(\"cr2\", [\n    \"0x49\",\n    \"0x49\",\n    \"0x2A\",\n    \"0x00\",\n    \"0x10\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x43\",\n    \"0x52\",\n]);\nexports.add(\"cin\", [\"0x80\", \"0x2A\", \"0x5F\", \"0xD7\"]);\nexports.add(\"cin1\", [\"0x52\", \"0x4E\", \"0x43\", \"0x01\"]);\nexports.add(\"cin2\", [\"0x52\", \"0x4E\", \"0x43\", \"0x02\"]);\nexports.add(\"dpx\", [\"0x53\", \"0x44\", \"0x50\", \"0x58\"]);\nexports.add(\"dpx2\", [\"0x58\", \"0x50\", \"0x44\", \"0x53\"]);\nexports.add(\"exr\", [\"0x76\", \"0x2F\", \"0x31\", \"0x01\"]);\nexports.add(\"bpg\", [\"0x42\", \"0x50\", \"0x47\", \"0xFB\"]);\nexports.add(\"ilbm\", [\n    \"0x46\",\n    \"0x4F\",\n    \"0x52\",\n    \"0x4D\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x49\",\n    \"0x4C\",\n    \"0x42\",\n    \"0x4D\",\n]);\nexports.add(\"8svx\", [\n    \"0x46\",\n    \"0x4F\",\n    \"0x52\",\n    \"0x4D\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x38\",\n    \"0x53\",\n    \"0x56\",\n    \"0x58\",\n]);\nexports.add(\"acbm\", [\n    \"0x46\",\n    \"0x4F\",\n    \"0x52\",\n    \"0x4D\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x41\",\n    \"0x43\",\n    \"0x42\",\n    \"0x4D\",\n]);\nexports.add(\"anbm\", [\n    \"0x46\",\n    \"0x4F\",\n    \"0x52\",\n    \"0x4D\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x41\",\n    \"0x4E\",\n    \"0x42\",\n    \"0x4D\",\n]);\nexports.add(\"anim\", [\n    \"0x46\",\n    \"0x4F\",\n    \"0x52\",\n    \"0x4D\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x41\",\n    \"0x4E\",\n    \"0x49\",\n    \"0x4D\",\n]);\nexports.add(\"faxx\", [\n    \"0x46\",\n    \"0x4F\",\n    \"0x52\",\n    \"0x4D\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x46\",\n    \"0x41\",\n    \"0x58\",\n    \"0x58\",\n]);\nexports.add(\"ftxt\", [\n    \"0x46\",\n    \"0x4F\",\n    \"0x52\",\n    \"0x4D\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x46\",\n    \"0x54\",\n    \"0x58\",\n    \"0x54\",\n]);\nexports.add(\"smus\", [\n    \"0x46\",\n    \"0x4F\",\n    \"0x52\",\n    \"0x4D\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x53\",\n    \"0x4D\",\n    \"0x55\",\n    \"0x53\",\n]);\nexports.add(\"cmus\", [\n    \"0x46\",\n    \"0x4F\",\n    \"0x52\",\n    \"0x4D\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x43\",\n    \"0x4D\",\n    \"0x55\",\n    \"0x53\",\n]);\nexports.add(\"yuvn\", [\n    \"0x46\",\n    \"0x4F\",\n    \"0x52\",\n    \"0x4D\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x59\",\n    \"0x55\",\n    \"0x56\",\n    \"0x4E\",\n]);\nexports.add(\"iff\", [\n    \"0x46\",\n    \"0x4F\",\n    \"0x52\",\n    \"0x4D\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x46\",\n    \"0x41\",\n    \"0x4E\",\n    \"0x54\",\n]);\nexports.add(\"aiff\", [\n    \"0x46\",\n    \"0x4F\",\n    \"0x52\",\n    \"0x4D\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x41\",\n    \"0x49\",\n    \"0x46\",\n    \"0x46\",\n], { mime: \"audio/x-aiff\", extension: \"aiff\" });\nexports.add(\"idx\", [\"0x49\", \"0x4E\", \"0x44\", \"0x58\"]);\nexports.add(\"lz\", [\"0x4C\", \"0x5A\", \"0x49\", \"0x50\"]);\nexports.add(\"exe\", [\"0x4D\", \"0x5A\"]);\nexports.add(\"zip\", [\"0x50\", \"0x4B\", \"0x03\", \"0x04\"], {\n    mime: \"application/zip\",\n    extension: \"zip\",\n});\nexports.add(\"zip\", [\"0x50\", \"0x4B\", \"0x05\", \"0x06\"], {\n    mime: \"application/zip\",\n    extension: \"zip\",\n});\nexports.add(\"zip\", [\"0x50\", \"0x4B\", \"0x07\", \"0x08\"], {\n    mime: \"application/zip\",\n    extension: \"zip\",\n});\nexports.add(\"jar\", [\"0x50\", \"0x4B\", \"0x03\", \"0x04\"], {\n    mime: \"application/java-archive\",\n    extension: \"jar\",\n});\nexports.add(\"jar\", [\"0x50\", \"0x4B\", \"0x05\", \"0x06\"], {\n    mime: \"application/java-archive\",\n    extension: \"jar\",\n});\nexports.add(\"jar\", [\"0x50\", \"0x4B\", \"0x07\", \"0x08\"], {\n    mime: \"application/java-archive\",\n    extension: \"jar\",\n});\nexports.add(\"odt\", [\"0x50\", \"0x4B\", \"0x03\", \"0x04\"], {\n    mime: \"application/vnd.oasis.opendocument.text\",\n    extension: \"odt\",\n});\nexports.add(\"odt\", [\"0x50\", \"0x4B\", \"0x05\", \"0x06\"], {\n    mime: \"application/vnd.oasis.opendocument.text\",\n    extension: \"odt\",\n});\nexports.add(\"odt\", [\"0x50\", \"0x4B\", \"0x07\", \"0x08\"], {\n    mime: \"application/vnd.oasis.opendocument.text\",\n    extension: \"odt\",\n});\nexports.add(\"ods\", [\"0x50\", \"0x4B\", \"0x03\", \"0x04\"], {\n    mime: \"application/vnd.oasis.opendocument.spreadsheet\",\n    extension: \"ods\",\n});\nexports.add(\"ods\", [\"0x50\", \"0x4B\", \"0x05\", \"0x06\"], {\n    mime: \"application/vnd.oasis.opendocument.spreadsheet\",\n    extension: \"ods\",\n});\nexports.add(\"ods\", [\"0x50\", \"0x4B\", \"0x07\", \"0x08\"], {\n    mime: \"application/vnd.oasis.opendocument.spreadsheet\",\n    extension: \"ods\",\n});\nexports.add(\"odp\", [\"0x50\", \"0x4B\", \"0x03\", \"0x04\"], {\n    mime: \"application/vnd.oasis.opendocument.presentation\",\n    extension: \"odp\",\n});\nexports.add(\"odp\", [\"0x50\", \"0x4B\", \"0x05\", \"0x06\"], {\n    mime: \"application/vnd.oasis.opendocument.presentation\",\n    extension: \"odp\",\n});\nexports.add(\"odp\", [\"0x50\", \"0x4B\", \"0x07\", \"0x08\"], {\n    mime: \"application/vnd.oasis.opendocument.presentation\",\n    extension: \"odp\",\n});\nexports.add(\"docx\", [\"0x50\", \"0x4B\", \"0x03\", \"0x04\"], {\n    mime: \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n    extension: \"docx\",\n});\nexports.add(\"docx\", [\"0x50\", \"0x4B\", \"0x05\", \"0x06\"], {\n    mime: \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n    extension: \"docx\",\n});\nexports.add(\"docx\", [\"0x50\", \"0x4B\", \"0x07\", \"0x08\"], {\n    mime: \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n    extension: \"docx\",\n});\nexports.add(\"xlsx\", [\"0x50\", \"0x4B\", \"0x03\", \"0x04\"], {\n    mime: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n    extension: \"xlsx\",\n});\nexports.add(\"xlsx\", [\"0x50\", \"0x4B\", \"0x05\", \"0x06\"], {\n    mime: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n    extension: \"xlsx\",\n});\nexports.add(\"xlsx\", [\"0x50\", \"0x4B\", \"0x07\", \"0x08\"], {\n    mime: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n    extension: \"xlsx\",\n});\nexports.add(\"pptx\", [\"0x50\", \"0x4B\", \"0x03\", \"0x04\"], {\n    mime: \"application/vnd.openxmlformats-officedocument.presentationml.presentation\",\n    extension: \"pptx\",\n});\nexports.add(\"pptx\", [\"0x50\", \"0x4B\", \"0x05\", \"0x06\"], {\n    mime: \"application/vnd.openxmlformats-officedocument.presentationml.presentation\",\n    extension: \"pptx\",\n});\nexports.add(\"pptx\", [\"0x50\", \"0x4B\", \"0x07\", \"0x08\"], {\n    mime: \"application/vnd.openxmlformats-officedocument.presentationml.presentation\",\n    extension: \"pptx\",\n});\nexports.add(\"vsdx\", [\"0x50\", \"0x4B\", \"0x03\", \"0x04\"], {\n    mime: \"application/vnd.ms-visio.drawing\",\n    extension: \"vsdx\",\n});\nexports.add(\"vsdx\", [\"0x50\", \"0x4B\", \"0x05\", \"0x06\"], {\n    mime: \"application/vnd.ms-visio.drawing\",\n    extension: \"vsdx\",\n});\nexports.add(\"vsdx\", [\"0x50\", \"0x4B\", \"0x07\", \"0x08\"], {\n    mime: \"application/vnd.ms-visio.drawing\",\n    extension: \"vsdx\",\n});\nexports.add(\"apk\", [\"0x50\", \"0x4B\", \"0x03\", \"0x04\"], {\n    mime: \"application/vnd.android.package-archive\",\n    extension: \"apk\",\n});\nexports.add(\"apk\", [\"0x50\", \"0x4B\", \"0x05\", \"0x06\"], {\n    mime: \"application/vnd.android.package-archive\",\n    extension: \"apk\",\n});\nexports.add(\"apk\", [\"0x50\", \"0x4B\", \"0x07\", \"0x08\"], {\n    mime: \"application/vnd.android.package-archive\",\n    extension: \"apk\",\n});\nexports.add(\"aar\", [\"0x50\", \"0x4B\", \"0x03\", \"0x04\"], {\n    mime: \"application/vnd.android.package-archive\",\n    extension: \"aar\",\n});\nexports.add(\"aar\", [\"0x50\", \"0x4B\", \"0x05\", \"0x06\"], {\n    mime: \"application/vnd.android.package-archive\",\n    extension: \"aar\",\n});\nexports.add(\"aar\", [\"0x50\", \"0x4B\", \"0x07\", \"0x08\"], {\n    mime: \"application/vnd.android.package-archive\",\n    extension: \"aar\",\n});\nexports.add(\"rar\", [\"0x52\", \"0x61\", \"0x72\", \"0x21\", \"0x1A\", \"0x07\", \"0x00\"], {\n    mime: \"application/vnd.rar\",\n    extension: \"rar\",\n});\nexports.add(\"rar\", [\"0x52\", \"0x61\", \"0x72\", \"0x21\", \"0x1A\", \"0x07\", \"0x01\", \"0x00\"], {\n    mime: \"application/vnd.rar\",\n    extension: \"rar\",\n});\nexports.add(\"rar\", [\"0x7F\", \"0x45\", \"0x4C\", \"0x46\"], {\n    mime: \"application/vnd.rar\",\n    extension: \"rar\",\n});\nexports.add(\"png\", [\"0x89\", \"0x50\", \"0x4E\", \"0x47\", \"0x0D\", \"0x0A\", \"0x1A\", \"0x0A\"], {\n    mime: \"image/png\",\n    extension: \"png\",\n});\nexports.add(\"apng\", [\"0x89\", \"0x50\", \"0x4E\", \"0x47\", \"0x0D\", \"0x0A\", \"0x1A\", \"0x0A\"], {\n    mime: \"image/apng\",\n    extension: \"apng\",\n});\nexports.add(\"class\", [\"0xCA\", \"0xFE\", \"0xBA\", \"0xBE\"]);\nexports.add(\"class\", [\"0xEF\", \"0xBB\", \"0xBF\"]);\nexports.add(\"class\", [\"0xFE\", \"0xed\", \"0xFA\", \"0xCE\"], undefined, 0x1000);\nexports.add(\"class\", [\"0xFE\", \"0xed\", \"0xFA\", \"0xCF\"], undefined, 0x1000);\nexports.add(\"class\", [\"0xCE\", \"0xFA\", \"0xed\", \"0xFE\"]);\nexports.add(\"class\", [\"0xCF\", \"0xFA\", \"0xed\", \"0xFE\"]);\nexports.add(\"class\", [\"0xFF\", \"0xFE\"]);\nexports.add(\"class\", [\"0xFF\", \"0xFE\"]);\nexports.add(\"class\", [\"0xFF\", \"0xFE\", \"0x00\", \"0x00\"]);\nexports.add(\"ps\", [\"0x25\", \"0x21\", \"0x50\", \"0x53\"], {\n    mime: \"application/postscript\",\n    extension: \".ps\",\n});\nexports.add(\"pdf\", [\"0x25\", \"0x50\", \"0x44\", \"0x46\"], {\n    mime: \"application/pdf\",\n    extension: \"pdf\",\n});\nexports.add(\"asf\", [\n    \"0x30\",\n    \"0x26\",\n    \"0xB2\",\n    \"0x75\",\n    \"0x8E\",\n    \"0x66\",\n    \"0xCF\",\n    \"0x11\",\n    \"0xA6\",\n    \"0xD9\",\n    \"0x00\",\n    \"0xAA\",\n    \"0x00\",\n    \"0x62\",\n    \"0xCE\",\n    \"0x6C\",\n]);\nexports.add(\"wma\", [\n    \"0x30\",\n    \"0x26\",\n    \"0xB2\",\n    \"0x75\",\n    \"0x8E\",\n    \"0x66\",\n    \"0xCF\",\n    \"0x11\",\n    \"0xA6\",\n    \"0xD9\",\n    \"0x00\",\n    \"0xAA\",\n    \"0x00\",\n    \"0x62\",\n    \"0xCE\",\n    \"0x6C\",\n]);\nexports.add(\"wmv\", [\n    \"0x30\",\n    \"0x26\",\n    \"0xB2\",\n    \"0x75\",\n    \"0x8E\",\n    \"0x66\",\n    \"0xCF\",\n    \"0x11\",\n    \"0xA6\",\n    \"0xD9\",\n    \"0x00\",\n    \"0xAA\",\n    \"0x00\",\n    \"0x62\",\n    \"0xCE\",\n    \"0x6C\",\n]);\nexports.add(\"deploymentimage\", [\n    \"0x24\",\n    \"0x53\",\n    \"0x44\",\n    \"0x49\",\n    \"0x30\",\n    \"0x30\",\n    \"0x30\",\n    \"0x31\",\n]);\n// ogg video ' theora'\nexports.add(\"ogv\", [\n    \"0x4F\",\n    \"0x67\",\n    \"0x67\",\n    \"0x53\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x80\",\n    \"0x74\",\n    \"0x68\",\n    \"0x65\",\n    \"0x6F\",\n    \"0x72\",\n    \"0x61\",\n], {\n    mime: \"video/ogg\",\n    extension: \"ogv\",\n});\n// ogg video '\\x01video'\nexports.add(\"ogm\", [\n    \"0x4F\",\n    \"0x67\",\n    \"0x67\",\n    \"0x53\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x01\",\n    \"0x76\",\n    \"0x69\",\n    \"0x64\",\n    \"0x65\",\n    \"0x6F\",\n    \"0x00\",\n], {\n    mime: \"video/ogg\",\n    extension: \"ogm\",\n});\n// ogg audio ' FLAC'\nexports.add(\"oga\", [\n    \"0x4F\",\n    \"0x67\",\n    \"0x67\",\n    \"0x53\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x7F\",\n    \"0x46\",\n    \"0x4C\",\n    \"0x41\",\n    \"0x43\",\n], {\n    mime: \"audio/ogg\",\n    extension: \"oga\",\n});\n// ogg audio 'Speex  '\nexports.add(\"spx\", [\n    \"0x4F\",\n    \"0x67\",\n    \"0x67\",\n    \"0x53\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x53\",\n    \"0x70\",\n    \"0x65\",\n    \"0x65\",\n    \"0x78\",\n    \"0x20\",\n    \"0x20\",\n], {\n    mime: \"audio/ogg\",\n    extension: \"spx\",\n});\n// ogg audio '\\x01vorbis '\nexports.add(\"ogg\", [\n    \"0x4F\",\n    \"0x67\",\n    \"0x67\",\n    \"0x53\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x01\",\n    \"0x76\",\n    \"0x6F\",\n    \"0x72\",\n    \"0x62\",\n    \"0x69\",\n    \"0x73\",\n], {\n    mime: \"audio/ogg\",\n    extension: \"ogg\",\n});\n// default OGG container\nexports.add(\"ogx\", [\"0x4F\", \"0x67\", \"0x67\", \"0x53\"], {\n    mime: \"application/ogg\",\n    extension: \"ogx\",\n});\nexports.add(\"psd\", [\"0x38\", \"0x42\", \"0x50\", \"0x53\"], {\n    mime: \"application/x-photoshop\",\n    extension: \"psd\",\n});\nexports.add(\"clip\", [\"0x43\", \"0x53\", \"0x46\", \"0x43\", \"0x48\", \"0x55\", \"0x4e\", \"0x4b\"]);\nexports.add(\"wav\", [\n    \"0x52\",\n    \"0x49\",\n    \"0x46\",\n    \"0x46\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x57\",\n    \"0x41\",\n    \"0x56\",\n    \"0x45\",\n], { mime: \"audio/x-wav\", extension: \"wav\" });\nexports.add(\"avi\", [\n    \"0x52\",\n    \"0x49\",\n    \"0x46\",\n    \"0x46\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"?\",\n    \"0x41\",\n    \"0x56\",\n    \"0x49\",\n    \"0x20\",\n], { mime: \"video/x-msvideo\", extension: \"avi\" });\nexports.add(\"mp3\", [\"0xFF\", \"0xFB\"], { mime: \"audio/mpeg\", extension: \"mp3\" });\nexports.add(\"mp3\", [\"0xFF\", \"0xF3\"], { mime: \"audio/mpeg\", extension: \"mp3\" });\nexports.add(\"mp3\", [\"0xFF\", \"0xF2\"], { mime: \"audio/mpeg\", extension: \"mp3\" });\nexports.add(\"mp3\", [\"0x49\", \"0x44\", \"0x33\"], { mime: \"audio/mpeg\", extension: \"mp3\" });\nexports.add(\"bmp\", [\"0x42\", \"0x4D\"], { mime: \"image/bmp\", extension: \"bmp\" });\nexports.add(\"iso\", [\"0x43\", \"0x44\", \"0x30\", \"0x30\", \"0x31\"]);\nexports.add(\"flac\", [\"0x66\", \"0x4C\", \"0x61\", \"0x43\"]);\nexports.add(\"mid\", [\"0x4D\", \"0x54\", \"0x68\", \"0x64\"], {\n    mime: \"audio/midi\",\n    extension: \"mid\",\n});\nexports.add(\"midi\", [\"0x4D\", \"0x54\", \"0x68\", \"0x64\"], {\n    mime: \"audio/midi\",\n    extension: \"midi\",\n});\nexports.add(\"doc\", [\"0xD0\", \"0xCF\", \"0x11\", \"0xE0\", \"0xA1\", \"0xB1\", \"0x1A\", \"0xE1\"], {\n    mime: \"application/msword\",\n    extension: \"doc\",\n});\nexports.add(\"xls\", [\"0xD0\", \"0xCF\", \"0x11\", \"0xE0\", \"0xA1\", \"0xB1\", \"0x1A\", \"0xE1\"], {\n    mime: \"application/vnd.ms-excel\",\n    extension: \"xls\",\n});\nexports.add(\"ppt\", [\"0xD0\", \"0xCF\", \"0x11\", \"0xE0\", \"0xA1\", \"0xB1\", \"0x1A\", \"0xE1\"], {\n    mime: \"application/vnd.ms-powerpoint\",\n    extension: \"ppt\",\n});\nexports.add(\"msg\", [\"0xD0\", \"0xCF\", \"0x11\", \"0xE0\", \"0xA1\", \"0xB1\", \"0x1A\", \"0xE1\"]);\nexports.add(\"dex\", [\"0x64\", \"0x65\", \"0x78\", \"0x0A\", \"0x30\", \"0x33\", \"0x35\", \"0x00\"]);\nexports.add(\"vmdk\", [\"0x4B\", \"0x44\", \"0x4D\"]);\nexports.add(\"crx\", [\"0x43\", \"0x72\", \"0x32\", \"0x34\"]);\nexports.add(\"fh8\", [\"0x41\", \"0x47\", \"0x44\", \"0x33\"]);\nexports.add(\"cwk\", [\n    \"0x05\",\n    \"0x07\",\n    \"0x00\",\n    \"0x00\",\n    \"0x42\",\n    \"0x4F\",\n    \"0x42\",\n    \"0x4F\",\n    \"0x05\",\n    \"0x07\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x01\",\n]);\nexports.add(\"cwk\", [\n    \"0x06\",\n    \"0x07\",\n    \"0xE1\",\n    \"0x00\",\n    \"0x42\",\n    \"0x4F\",\n    \"0x42\",\n    \"0x4F\",\n    \"0x06\",\n    \"0x07\",\n    \"0xE1\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x00\",\n    \"0x01\",\n]);\nexports.add(\"toast\", [\"0x45\", \"0x52\", \"0x02\", \"0x00\", \"0x00\", \"0x00\"]);\nexports.add(\"toast\", [\"0x8B\", \"0x45\", \"0x52\", \"0x02\", \"0x00\", \"0x00\", \"0x00\"]);\nexports.add(\"dmg\", [\"0x78\", \"0x01\", \"0x73\", \"0x0D\", \"0x62\", \"0x62\", \"0x60\"]);\nexports.add(\"xar\", [\"0x78\", \"0x61\", \"0x72\", \"0x21\"]);\nexports.add(\"dat\", [\"0x50\", \"0x4D\", \"0x4F\", \"0x43\", \"0x43\", \"0x4D\", \"0x4F\", \"0x43\"]);\nexports.add(\"nes\", [\"0x4E\", \"0x45\", \"0x53\", \"0x1A\"]);\nexports.add(\"tar\", [\"0x75\", \"0x73\", \"0x74\", \"0x61\", \"0x72\", \"0x00\", \"0x30\", \"0x30\"], {\n    // As per Mozilla documentation available at:\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types\n    // or wikipedia page:\n    // https://en.wikipedia.org/wiki/List_of_archive_formats\n    mime: \"application/x-tar\",\n    extension: \"tar\",\n}, 0x101);\nexports.add(\"tar\", [\"0x75\", \"0x73\", \"0x74\", \"0x61\", \"0x72\", \"0x20\", \"0x20\", \"0x00\"], {\n    mime: \"application/x-tar\",\n    extension: \"tar\",\n}, 0x101);\nexports.add(\"tox\", [\"0x74\", \"0x6F\", \"0x78\", \"0x33\"]);\nexports.add(\"mlv\", [\"0x4D\", \"0x4C\", \"0x56\", \"0x49\"]);\nexports.add(\"windowsupdate\", [\n    \"0x44\",\n    \"0x43\",\n    \"0x4D\",\n    \"0x01\",\n    \"0x50\",\n    \"0x41\",\n    \"0x33\",\n    \"0x30\",\n]);\nexports.add(\"7z\", [\"0x37\", \"0x7A\", \"0xBC\", \"0xAF\", \"0x27\", \"0x1C\"], {\n    mime: \"application/x-7z-compressed\",\n    extension: \"7z\",\n});\nexports.add(\"gz\", [\"0x1F\", \"0x8B\"], { mime: \"application/gzip\", extension: \"gz\" });\nexports.add(\"tar.gz\", [\"0x1F\", \"0x8B\"], {\n    mime: \"application/gzip\",\n    extension: \"tar.gz\",\n});\nexports.add(\"xz\", [\"0xFD\", \"0x37\", \"0x7A\", \"0x58\", \"0x5A\", \"0x00\", \"0x00\"], {\n    mime: \"application/gzip\",\n    extension: \"xz\",\n});\nexports.add(\"tar.xz\", [\"0xFD\", \"0x37\", \"0x7A\", \"0x58\", \"0x5A\", \"0x00\", \"0x00\"], {\n    mime: \"application/gzip\",\n    extension: \"tar.xz\",\n});\nexports.add(\"lz2\", [\"0x04\", \"0x22\", \"0x4D\", \"0x18\"]);\nexports.add(\"cab\", [\"0x4D\", \"0x53\", \"0x43\", \"0x46\"]);\nexports.add(\"mkv\", [\"0x1A\", \"0x45\", \"0xDF\", \"0xA3\"], {\n    mime: \"video/x-matroska\",\n    extension: \"mkv\",\n});\nexports.add(\"mka\", [\"0x1A\", \"0x45\", \"0xDF\", \"0xA3\"], {\n    mime: \"audio/x-matroska\",\n    extension: \"mka\",\n});\nexports.add(\"mks\", [\"0x1A\", \"0x45\", \"0xDF\", \"0xA3\"], {\n    mime: \"video/x-matroska\",\n    extension: \"mks\",\n});\nexports.add(\"mk3d\", [\"0x1A\", \"0x45\", \"0xDF\", \"0xA3\"]);\nexports.add(\"webm\", [\"0x1A\", \"0x45\", \"0xDF\", \"0xA3\"], {\n    mime: \"audio/webm\",\n    extension: \"webm\",\n});\nexports.add(\"dcm\", [\"0x44\", \"0x49\", \"0x43\", \"0x4D\"], undefined, 0x80);\nexports.add(\"xml\", [\"0x3C\", \"0x3f\", \"0x78\", \"0x6d\", \"0x6C\", \"0x20\"], {\n    mime: \"application/xml\",\n    extension: \"xml\",\n});\nexports.add(\"wasm\", [\"0x00\", \"0x61\", \"0x73\", \"0x6d\"], {\n    mime: \"application/wasm\",\n    extension: \"wasm\",\n});\nexports.add(\"lep\", [\"0xCF\", \"0x84\", \"0x01\"]);\nexports.add(\"swf\", [\"0x43\", \"0x57\", \"0x53\"], {\n    mime: \"application/x-shockwave-flash\",\n    extension: \"swf\",\n});\nexports.add(\"swf\", [\"0x46\", \"0x57\", \"0x53\"], {\n    mime: \"application/x-shockwave-flash\",\n    extension: \"swf\",\n});\nexports.add(\"deb\", [\"0x21\", \"0x3C\", \"0x61\", \"0x72\", \"0x63\", \"0x68\", \"0x3E\"]);\nexports.add(\"rtf\", [\"0x7B\", \"0x5C\", \"0x72\", \"0x74\", \"0x66\", \"0x31\"], {\n    mime: \"application/rtf\",\n    extension: \"rtf\",\n});\nexports.add(\"m2p\", [\"0x00\", \"0x00\", \"0x01\", \"0xBA\"]);\nexports.add(\"vob\", [\"0x00\", \"0x00\", \"0x01\", \"0xBA\"]);\nexports.add(\"mpg\", [\"0x00\", \"0x00\", \"0x01\", \"0xBA\"], {\n    mime: \"video/mpeg\",\n    extension: \"mpg\",\n});\nexports.add(\"mpeg\", [\"0x00\", \"0x00\", \"0x01\", \"0xBA\"], {\n    mime: \"video/mpeg\",\n    extension: \"mpeg\",\n});\nexports.add(\"mpeg\", [\"0x47\"], { mime: \"video/mpeg\", extension: \"mpeg\" });\nexports.add(\"mpeg\", [\"0x00\", \"0x00\", \"0x01\", \"0xB3\"], {\n    mime: \"video/mpeg\",\n    extension: \"mpeg\",\n});\n// mov 'free' TODO: find test file\nexports.add(\"mov\", [\"0x66\", \"0x72\", \"0x65\", \"0x65\"], {\n    mime: \"video/quicktime\",\n    extension: \"mov\",\n}, 0x4);\n// mov 'mdat'\nexports.add(\"mov\", [\"0x6D\", \"0x64\", \"0x61\", \"0x74\"], {\n    mime: \"video/quicktime\",\n    extension: \"mov\",\n}, 0x4);\n// mov 'moov' TODO: find test file\nexports.add(\"mov\", [\"0x6D\", \"0x6F\", \"0x6F\", \"0x76\"], {\n    mime: \"video/quicktime\",\n    extension: \"mov\",\n}, 0x4);\n// move 'wide' TODO: find test file\nexports.add(\"mov\", [\"0x77\", \"0x69\", \"0x64\", \"0x65\"], {\n    mime: \"video/quicktime\",\n    extension: \"mov\",\n}, 0x4);\n// mov 'ftypqt'\nexports.add(\"mov\", [\"0x66\", \"0x74\", \"0x79\", \"0x70\", \"0x71\", \"0x74\"], {\n    mime: \"video/quicktime\",\n    extension: \"mov\",\n}, 0x4);\nexports.add(\"hl2demo\", [\"0x48\", \"0x4C\", \"0x32\", \"0x44\", \"0x45\", \"0x4D\", \"0x4F\"]);\nexports.add(\"txt\", [\"0xEF\", \"0xBB\", \"0xBF\"], {\n    mime: \"text/plain; charset=UTF-8\",\n    extension: \"txt\",\n});\nexports.add(\"txt\", [\"0xFF\", \"0xFE\"], {\n    mime: \"text/plain; charset=UTF-16LE\",\n    extension: \"txt\",\n});\nexports.add(\"txt\", [\"0xFE\", \"0xFF\"], {\n    mime: \"text/plain; charset=UTF-16BE\",\n    extension: \"txt\",\n});\nexports.add(\"txt\", [\"0xFF\", \"0xFE\", \"0x00\", \"0x00\"], {\n    mime: \"text/plain; charset=UTF-32LE\",\n    extension: \"txt\",\n});\nexports.add(\"txt\", [\"0x00\", \"0x00\", \"0xFE\", \"0xFF\"], {\n    mime: \"text/plain; charset=UTF-32BE\",\n    extension: \"txt\",\n});\nexports.add(\"SubRip\", [\"0x31\", \"0x0D\", \"0x0A\", \"0x30\", \"0x30\", \"0x3A\"], {\n    mime: \"application/x-subrip\",\n    extension: \"srt\",\n});\nexports.add(\"WebVTT\", [\n    \"0xEF\",\n    \"0xBB\",\n    \"0xBF\",\n    \"0x57\",\n    \"0x45\",\n    \"0x42\",\n    \"0x56\",\n    \"0x54\",\n    \"0x54\",\n    \"0x0A\",\n], {\n    mime: \"text/vtt\",\n    extension: \"vtt\",\n});\nexports.add(\"WebVTT\", [\n    \"0xEF\",\n    \"0xBB\",\n    \"0xBF\",\n    \"0x57\",\n    \"0x45\",\n    \"0x42\",\n    \"0x56\",\n    \"0x54\",\n    \"0x54\",\n    \"0x0D\",\n], {\n    mime: \"text/vtt\",\n    extension: \"vtt\",\n});\nexports.add(\"WebVTT\", [\n    \"0xEF\",\n    \"0xBB\",\n    \"0xBF\",\n    \"0x57\",\n    \"0x45\",\n    \"0x42\",\n    \"0x56\",\n    \"0x54\",\n    \"0x54\",\n    \"0x20\",\n], {\n    mime: \"text/vtt\",\n    extension: \"vtt\",\n});\nexports.add(\"WebVTT\", [\n    \"0xEF\",\n    \"0xBB\",\n    \"0xBF\",\n    \"0x57\",\n    \"0x45\",\n    \"0x42\",\n    \"0x56\",\n    \"0x54\",\n    \"0x54\",\n    \"0x09\",\n], {\n    mime: \"text/vtt\",\n    extension: \"vtt\",\n});\nexports.add(\"WebVTT\", [\"0x57\", \"0x45\", \"0x42\", \"0x56\", \"0x54\", \"0x54\", \"0x0A\"], {\n    mime: \"text/vtt\",\n    extension: \"vtt\",\n});\nexports.add(\"WebVTT\", [\"0x57\", \"0x45\", \"0x42\", \"0x56\", \"0x54\", \"0x54\", \"0x0D\"], {\n    mime: \"text/vtt\",\n    extension: \"vtt\",\n});\nexports.add(\"WebVTT\", [\"0x57\", \"0x45\", \"0x42\", \"0x56\", \"0x54\", \"0x54\", \"0x20\"], {\n    mime: \"text/vtt\",\n    extension: \"vtt\",\n});\nexports.add(\"WebVTT\", [\"0x57\", \"0x45\", \"0x42\", \"0x56\", \"0x54\", \"0x54\", \"0x09\"], {\n    mime: \"text/vtt\",\n    extension: \"vtt\",\n});\nexports.add(\"Json\", [\"0x7B\"], {\n    mime: \"application/json\",\n    extension: \".json\",\n});\nexports.add(\"Json\", [\"0x5B\"], {\n    mime: \"application/json\",\n    extension: \".json\",\n});\nexports.add(\"ELF\", [\"0x7F\", \"0x45\", \"0x4C\", \"0x46\"], {\n    mime: \"application/x-executable\",\n    extension: \".elf\",\n});\nexports.add(\"Mach-O\", [\"0xFE\", \"0xED\", \"0xFA\", \"0xC\"], {\n    mime: \"application/x-mach-binary\",\n    extension: \".o\",\n});\nexports.add(\"Mach-O\", [\"0xFE\", \"0xED\", \"0xFA\", \"0xCF\"], {\n    mime: \"application/x-executable\",\n    extension: \"elf\",\n});\nexports.add(\"EML\", [\"0x52\", \"0x65\", \"0x63\", \"0x65\", \"0x69\", \"0x76\", \"0x65\", \"0x64\", \"0x3A\"], {\n    mime: \"message/rfc822\",\n    extension: \".eml\",\n});\nexports.add(\"SVG\", [\"0x3c\", \"0x73\", \"0x76\", \"0x67\"], {\n    mime: \"image/svg+xml\",\n    extension: \"svg\",\n});\nexports.add(\"avif\", [\"0x66\", \"0x74\", \"0x79\", \"0x70\", \"0x61\", \"0x76\", \"0x69\", \"0x66\"], {\n    mime: \"image/avif\",\n    extension: \"avif\",\n}, 4);\nconst createTree = () => tree;\nexports.createTree = createTree;\nexports.default = () => tree;\n"],"names":[],"mappings":"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;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD,QAAQ,GAAG,CAAC,QAAQ;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD,QAAQ,GAAG,CAAC,QAAQ;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD,QAAQ,GAAG,CAAC,QAAQ;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD,QAAQ,GAAG,CAAC,QAAQ;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD,QAAQ,GAAG,CAAC,QAAQ;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD,QAAQ,GAAG,CAAC,QAAQ;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD,QAAQ,GAAG,CAAC,QAAQ;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD,QAAQ,GAAG,CAAC,QAAQ;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD,QAAQ,GAAG,CAAC,QAAQ;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD,QAAQ,GAAG,CAAC,OAAO;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD,QAAQ,GAAG,CAAC,QAAQ;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH,EAAE;IAAE,MAAM;IAAgB,WAAW;AAAO;AAC7C,QAAQ,GAAG,CAAC,OAAO;IAAC;IAAQ;IAAQ;IAAQ;CAAO;AACnD,QAAQ,GAAG,CAAC,MAAM;IAAC;IAAQ;IAAQ;IAAQ;CAAO;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rC,QAAQ,GAAG,CAAC,SAAS;IAAC;IAAQ;IAAQ;IAAQ;CAAO;AACrD,QAAQ,GAAG,CAAC,MAAM;IAAC;IAAQ;IAAQ;IAAQ;CAAO,EAAE;IAChD,MAAM;IACN,WAAW;AACf;AACA,QAAQ,GAAG,CAAC,OAAO;IAAC;IAAQ;IAAQ;IAAQ;CAAO,EAAE;IACjD,MAAM;IACN,WAAW;AACf;AACA,QAAQ,GAAG,CAAC,OAAO;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD,QAAQ,GAAG,CAAC,OAAO;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD,QAAQ,GAAG,CAAC,OAAO;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD,QAAQ,GAAG,CAAC,mBAAmB;IAC3B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD,sBAAsB;AACtB,QAAQ,GAAG,CAAC,OAAO;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH,EAAE;IACC,MAAM;IACN,WAAW;AACf;AACA,wBAAwB;AACxB,QAAQ,GAAG,CAAC,OAAO;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH,EAAE;IACC,MAAM;IACN,WAAW;AACf;AACA,oBAAoB;AACpB,QAAQ,GAAG,CAAC,OAAO;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH,EAAE;IACC,MAAM;IACN,WAAW;AACf;AACA,sBAAsB;AACtB,QAAQ,GAAG,CAAC,OAAO;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH,EAAE;IACC,MAAM;IACN,WAAW;AACf;AACA,0BAA0B;AAC1B,QAAQ,GAAG,CAAC,OAAO;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH,EAAE;IACC,MAAM;IACN,WAAW;AACf;AACA,wBAAwB;AACxB,QAAQ,GAAG,CAAC,OAAO;IAAC;IAAQ;IAAQ;IAAQ;CAAO,EAAE;IACjD,MAAM;IACN,WAAW;AACf;AACA,QAAQ,GAAG,CAAC,OAAO;IAAC;IAAQ;IAAQ;IAAQ;CAAO,EAAE;IACjD,MAAM;IACN,WAAW;AACf;AACA,QAAQ,GAAG,CAAC,QAAQ;IAAC;IAAQ;IAAQ;IAAQ;IAAQ;IAAQ;IAAQ;IAAQ;CAAO;AACpF,QAAQ,GAAG,CAAC,OAAO;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH,EAAE;IAAE,MAAM;IAAe,WAAW;AAAM;AAC3C,QAAQ,GAAG,CAAC,OAAO;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH,EAAE;IAAE,MAAM;IAAmB,WAAW;AAAM;AAC/C,QAAQ,GAAG,CAAC,OAAO;IAAC;IAAQ;CAAO,EAAE;IAAE,MAAM;IAAc,WAAW;AA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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6402, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/magic-bytes.js/dist/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.register = exports.filetypeextension = exports.filetypemime = exports.filetypename = exports.filetypeinfo = void 0;\nconst pattern_tree_1 = require(\"./model/pattern-tree\");\nconst toHex_1 = require(\"./model/toHex\");\nconst patternTree = pattern_tree_1.createTree();\nconst filetypeinfo = (bytes) => {\n    let tree = patternTree;\n    for (const k of Object.keys(tree.offset)) {\n        const offset = toHex_1.fromHex(k);\n        const offsetExceedsFile = offset >= bytes.length;\n        if (offsetExceedsFile) {\n            continue;\n        }\n        const node = patternTree.offset[k];\n        const guessed = walkTree(offset, bytes, node);\n        if (guessed.length > 0) {\n            return guessed;\n        }\n    }\n    if (tree.noOffset === null) {\n        return [];\n    }\n    return walkTree(0, bytes, tree.noOffset);\n};\nexports.filetypeinfo = filetypeinfo;\nconst walkTree = (index, bytes, node) => {\n    let step = node;\n    let guessFile = [];\n    while (true) {\n        const currentByte = toHex_1.toHex(bytes[index]);\n        if (step.bytes[\"?\"] && !step.bytes[currentByte]) {\n            step = step.bytes[\"?\"];\n        }\n        else {\n            step = step.bytes[currentByte];\n        }\n        if (!step) {\n            return guessFile;\n        }\n        if (step && step.matches) {\n            guessFile = step.matches.slice(0);\n        }\n        index += 1;\n    }\n};\nexports.default = exports.filetypeinfo;\nconst filetypename = (bytes) => exports.filetypeinfo(bytes).map((e) => e.typename);\nexports.filetypename = filetypename;\nconst filetypemime = (bytes) => exports.filetypeinfo(bytes)\n    .map((e) => (e.mime ? e.mime : null))\n    .filter((x) => x !== null);\nexports.filetypemime = filetypemime;\nconst filetypeextension = (bytes) => exports.filetypeinfo(bytes)\n    .map((e) => (e.extension ? e.extension : null))\n    .filter((x) => x !== null);\nexports.filetypeextension = filetypeextension;\nconst register = (typename, signature, additionalInfo, offset) => {\n    pattern_tree_1.add(typename, signature, additionalInfo, offset);\n};\nexports.register = register;\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,QAAQ,GAAG,QAAQ,iBAAiB,GAAG,QAAQ,YAAY,GAAG,QAAQ,YAAY,GAAG,QAAQ,YAAY,GAAG,KAAK;AACzH,MAAM;AACN,MAAM;AACN,MAAM,cAAc,eAAe,UAAU;AAC7C,MAAM,eAAe,CAAC;IAClB,IAAI,OAAO;IACX,KAAK,MAAM,KAAK,OAAO,IAAI,CAAC,KAAK,MAAM,EAAG;QACtC,MAAM,SAAS,QAAQ,OAAO,CAAC;QAC/B,MAAM,oBAAoB,UAAU,MAAM,MAAM;QAChD,IAAI,mBAAmB;YACnB;QACJ;QACA,MAAM,OAAO,YAAY,MAAM,CAAC,EAAE;QAClC,MAAM,UAAU,SAAS,QAAQ,OAAO;QACxC,IAAI,QAAQ,MAAM,GAAG,GAAG;YACpB,OAAO;QACX;IACJ;IACA,IAAI,KAAK,QAAQ,KAAK,MAAM;QACxB,OAAO,EAAE;IACb;IACA,OAAO,SAAS,GAAG,OAAO,KAAK,QAAQ;AAC3C;AACA,QAAQ,YAAY,GAAG;AACvB,MAAM,WAAW,CAAC,OAAO,OAAO;IAC5B,IAAI,OAAO;IACX,IAAI,YAAY,EAAE;IAClB,MAAO,KAAM;QACT,MAAM,cAAc,QAAQ,KAAK,CAAC,KAAK,CAAC,MAAM;QAC9C,IAAI,KAAK,KAAK,CAAC,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,YAAY,EAAE;YAC7C,OAAO,KAAK,KAAK,CAAC,IAAI;QAC1B,OACK;YACD,OAAO,KAAK,KAAK,CAAC,YAAY;QAClC;QACA,IAAI,CAAC,MAAM;YACP,OAAO;QACX;QACA,IAAI,QAAQ,KAAK,OAAO,EAAE;YACtB,YAAY,KAAK,OAAO,CAAC,KAAK,CAAC;QACnC;QACA,SAAS;IACb;AACJ;AACA,QAAQ,OAAO,GAAG,QAAQ,YAAY;AACtC,MAAM,eAAe,CAAC,QAAU,QAAQ,YAAY,CAAC,OAAO,GAAG,CAAC,CAAC,IAAM,EAAE,QAAQ;AACjF,QAAQ,YAAY,GAAG;AACvB,MAAM,eAAe,CAAC,QAAU,QAAQ,YAAY,CAAC,OAChD,GAAG,CAAC,CAAC,IAAO,EAAE,IAAI,GAAG,EAAE,IAAI,GAAG,MAC9B,MAAM,CAAC,CAAC,IAAM,MAAM;AACzB,QAAQ,YAAY,GAAG;AACvB,MAAM,oBAAoB,CAAC,QAAU,QAAQ,YAAY,CAAC,OACrD,GAAG,CAAC,CAAC,IAAO,EAAE,SAAS,GAAG,EAAE,SAAS,GAAG,MACxC,MAAM,CAAC,CAAC,IAAM,MAAM;AACzB,QAAQ,iBAAiB,GAAG;AAC5B,MAAM,WAAW,CAAC,UAAU,WAAW,gBAAgB;IACnD,eAAe,GAAG,CAAC,UAAU,WAAW,gBAAgB;AAC5D;AACA,QAAQ,QAAQ,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6463, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@sapphire/async-queue/dist/esm/index.mjs","sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40sapphire/async-queue/src/lib/_AsyncQueueEntry.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40sapphire/async-queue/src/lib/AsyncQueue.ts"],"sourcesContent":["import type { AsyncQueue } from './AsyncQueue';\n\n/**\n * @internal\n */\nexport class AsyncQueueEntry {\n\tpublic readonly promise: Promise<void>;\n\tprivate resolve!: () => void;\n\tprivate reject!: (error: Error) => void;\n\tprivate readonly queue: AsyncQueue;\n\tprivate signal: PolyFillAbortSignal | null = null;\n\tprivate signalListener: (() => void) | null = null;\n\n\tpublic constructor(queue: AsyncQueue) {\n\t\tthis.queue = queue;\n\t\tthis.promise = new Promise((resolve, reject) => {\n\t\t\tthis.resolve = resolve;\n\t\t\tthis.reject = reject;\n\t\t});\n\t}\n\n\tpublic setSignal(signal: AbortSignal) {\n\t\tif (signal.aborted) return this;\n\n\t\tthis.signal = signal as PolyFillAbortSignal;\n\t\tthis.signalListener = () => {\n\t\t\tconst index = this.queue['promises'].indexOf(this);\n\t\t\tif (index !== -1) this.queue['promises'].splice(index, 1);\n\n\t\t\tthis.reject(new Error('Request aborted manually'));\n\t\t};\n\t\tthis.signal.addEventListener('abort', this.signalListener);\n\t\treturn this;\n\t}\n\n\tpublic use() {\n\t\tthis.dispose();\n\t\tthis.resolve();\n\t\treturn this;\n\t}\n\n\tpublic abort() {\n\t\tthis.dispose();\n\t\tthis.reject(new Error('Request aborted manually'));\n\t\treturn this;\n\t}\n\n\tprivate dispose() {\n\t\tif (this.signal) {\n\t\t\tthis.signal.removeEventListener('abort', this.signalListener!);\n\t\t\tthis.signal = null;\n\t\t\tthis.signalListener = null;\n\t\t}\n\t}\n}\n\ninterface PolyFillAbortSignal {\n\treadonly aborted: boolean;\n\taddEventListener(type: 'abort', listener: () => void): void;\n\tremoveEventListener(type: 'abort', listener: () => void): void;\n}\n","import { AsyncQueueEntry } from './_AsyncQueueEntry';\n\n/**\n * The AsyncQueue class used to sequentialize burst requests\n */\nexport class AsyncQueue {\n\t/**\n\t * The amount of entries in the queue, including the head.\n\t * @seealso {@link queued} for the queued count.\n\t */\n\tpublic get remaining(): number {\n\t\treturn this.promises.length;\n\t}\n\n\t/**\n\t * The amount of queued entries.\n\t * @seealso {@link remaining} for the count with the head.\n\t */\n\tpublic get queued(): number {\n\t\treturn this.remaining === 0 ? 0 : this.remaining - 1;\n\t}\n\n\t/**\n\t * The promises array\n\t */\n\tprivate readonly promises: AsyncQueueEntry[] = [];\n\n\t/**\n\t * Waits for last promise and queues a new one\n\t * @example\n\t * ```typescript\n\t * const queue = new AsyncQueue();\n\t * async function request(url, options) {\n\t *     await queue.wait({ signal: options.signal });\n\t *     try {\n\t *         const result = await fetch(url, options);\n\t *         // Do some operations with 'result'\n\t *     } finally {\n\t *         // Remove first entry from the queue and resolve for the next entry\n\t *         queue.shift();\n\t *     }\n\t * }\n\t *\n\t * request(someUrl1, someOptions1); // Will call fetch() immediately\n\t * request(someUrl2, someOptions2); // Will call fetch() after the first finished\n\t * request(someUrl3, someOptions3); // Will call fetch() after the second finished\n\t * ```\n\t */\n\tpublic wait(options?: Readonly<AsyncQueueWaitOptions>): Promise<void> {\n\t\tconst entry = new AsyncQueueEntry(this);\n\n\t\tif (this.promises.length === 0) {\n\t\t\tthis.promises.push(entry);\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tthis.promises.push(entry);\n\t\tif (options?.signal) entry.setSignal(options.signal);\n\t\treturn entry.promise;\n\t}\n\n\t/**\n\t * Unlocks the head lock and transfers the next lock (if any) to the head.\n\t */\n\tpublic shift(): void {\n\t\tif (this.promises.length === 0) return;\n\t\tif (this.promises.length === 1) {\n\t\t\t// Remove the head entry.\n\t\t\tthis.promises.shift();\n\t\t\treturn;\n\t\t}\n\n\t\t// Remove the head entry, making the 2nd entry the new one.\n\t\t// Then use the head entry, which will unlock the promise.\n\t\tthis.promises.shift();\n\t\tthis.promises[0].use();\n\t}\n\n\t/**\n\t * Aborts all the pending promises.\n\t * @note To avoid race conditions, this does **not** unlock the head lock.\n\t */\n\tpublic abortAll(): void {\n\t\t// If there are no queued entries, skip early.\n\t\tif (this.queued === 0) return;\n\n\t\t// Abort all the entries except the head, that is why the loop starts at\n\t\t// 1 and not at 0.\n\t\tfor (let i = 1; i < this.promises.length; ++i) {\n\t\t\tthis.promises[i].abort();\n\t\t}\n\n\t\tthis.promises.length = 1;\n\t}\n}\n\nexport interface AsyncQueueWaitOptions {\n\tsignal?: AbortSignal | undefined | null;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6604, "column": 0}, "map": {"version":3,"sources":["file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/rest/src/index.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/rest/src/environment.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/rest/src/strategies/undiciRequest.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/rest/src/lib/CDN.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/rest/src/lib/utils/constants.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/rest/src/lib/errors/RateLimitError.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/rest/src/lib/utils/types.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/rest/src/lib/utils/utils.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/rest/src/lib/errors/DiscordAPIError.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/rest/src/lib/errors/HTTPError.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/rest/src/lib/REST.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/rest/src/lib/handlers/Shared.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/rest/src/lib/handlers/BurstHandler.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/rest/src/lib/handlers/SequentialHandler.ts","file:///Users/majd/vaste/probable-broccoli/node_modules/%40discordjs/rest/src/shared.ts"],"sourcesContent":["import { Blob } from 'node:buffer';\nimport { shouldUseGlobalFetchAndWebSocket } from '@discordjs/util';\nimport { FormData } from 'undici';\nimport { setDefaultStrategy } from './environment.js';\nimport { makeRequest } from './strategies/undiciRequest.js';\n\n// TODO(ckohen): remove once node engine req is bumped to > v18\n(globalThis as any).FormData ??= FormData;\nglobalThis.Blob ??= Blob;\n\nsetDefaultStrategy(shouldUseGlobalFetchAndWebSocket() ? fetch : makeRequest);\n\nexport * from './shared.js';\n","import type { RESTOptions } from './shared.js';\n\nlet defaultStrategy: RESTOptions['makeRequest'];\n\nexport function setDefaultStrategy(newStrategy: RESTOptions['makeRequest']) {\n\tdefaultStrategy = newStrategy;\n}\n\nexport function getDefaultStrategy() {\n\treturn defaultStrategy;\n}\n","import { STATUS_CODES } from 'node:http';\nimport { URLSearchParams } from 'node:url';\nimport { types } from 'node:util';\nimport { type RequestInit, request, Headers } from 'undici';\nimport type { ResponseLike } from '../shared.js';\n\nexport type RequestOptions = Exclude<Parameters<typeof request>[1], undefined>;\n\nexport async function makeRequest(url: string, init: RequestInit): Promise<ResponseLike> {\n\t// The cast is necessary because `headers` and `method` are narrower types in `undici.request`\n\t// our request path guarantees they are of acceptable type for `undici.request`\n\tconst options = {\n\t\t...init,\n\t\tbody: await resolveBody(init.body),\n\t} as RequestOptions;\n\tconst res = await request(url, options);\n\treturn {\n\t\tbody: res.body,\n\t\tasync arrayBuffer() {\n\t\t\treturn res.body.arrayBuffer();\n\t\t},\n\t\tasync json() {\n\t\t\treturn res.body.json();\n\t\t},\n\t\tasync text() {\n\t\t\treturn res.body.text();\n\t\t},\n\t\tget bodyUsed() {\n\t\t\treturn res.body.bodyUsed;\n\t\t},\n\t\theaders: new Headers(res.headers as Record<string, string[] | string>),\n\t\tstatus: res.statusCode,\n\t\tstatusText: STATUS_CODES[res.statusCode]!,\n\t\tok: res.statusCode >= 200 && res.statusCode < 300,\n\t};\n}\n\nexport async function resolveBody(body: RequestInit['body']): Promise<Exclude<RequestOptions['body'], undefined>> {\n\t// eslint-disable-next-line no-eq-null, eqeqeq\n\tif (body == null) {\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\treturn body;\n\t} else if (types.isUint8Array(body)) {\n\t\treturn body;\n\t} else if (types.isArrayBuffer(body)) {\n\t\treturn new Uint8Array(body);\n\t} else if (body instanceof URLSearchParams) {\n\t\treturn body.toString();\n\t} else if (body instanceof DataView) {\n\t\treturn new Uint8Array(body.buffer);\n\t} else if (body instanceof Blob) {\n\t\treturn new Uint8Array(await body.arrayBuffer());\n\t} else if (body instanceof FormData) {\n\t\treturn body;\n\t} else if ((body as Iterable<Uint8Array>)[Symbol.iterator]) {\n\t\tconst chunks = [...(body as Iterable<Uint8Array>)];\n\n\t\treturn Buffer.concat(chunks);\n\t} else if ((body as AsyncIterable<Uint8Array>)[Symbol.asyncIterator]) {\n\t\tconst chunks: Uint8Array[] = [];\n\n\t\tfor await (const chunk of body as AsyncIterable<Uint8Array>) {\n\t\t\tchunks.push(chunk);\n\t\t}\n\n\t\treturn Buffer.concat(chunks);\n\t}\n\n\tthrow new TypeError(`Unable to resolve body.`);\n}\n","/* eslint-disable jsdoc/check-param-names */\nimport { CDNRoutes } from 'discord-api-types/v10';\nimport {\n\tALLOWED_EXTENSIONS,\n\tALLOWED_SIZES,\n\tALLOWED_STICKER_EXTENSIONS,\n\tDefaultRestOptions,\n\ttype ImageExtension,\n\ttype ImageSize,\n\ttype StickerExtension,\n} from './utils/constants.js';\nimport { deprecationWarning } from './utils/utils.js';\n\nlet deprecationEmittedForEmoji = false;\n\n/**\n * The options used for image URLs.\n */\nexport interface BaseImageURLOptions {\n\t/**\n\t * The extension to use for the image URL.\n\t *\n\t * @defaultValue `'webp'`\n\t */\n\textension?: ImageExtension;\n\t/**\n\t * The size specified in the image URL.\n\t */\n\tsize?: ImageSize;\n}\n\nexport interface EmojiURLOptionsWebp extends BaseImageURLOptions {\n\t/**\n\t * Whether to use the `animated` query parameter.\n\t */\n\tanimated?: boolean;\n\textension?: 'webp';\n}\n\nexport interface EmojiURLOptionsNotWebp extends BaseImageURLOptions {\n\textension: Exclude<ImageExtension, 'webp'>;\n}\n\n/**\n * The options used for emoji URLs.\n */\nexport type EmojiURLOptions = EmojiURLOptionsNotWebp | EmojiURLOptionsWebp;\n\n/**\n * The options used for image URLs that may be animated.\n */\nexport interface ImageURLOptions extends BaseImageURLOptions {\n\t/**\n\t * Whether to prefer the static asset.\n\t */\n\tforceStatic?: boolean;\n}\n\n/**\n * The options to use when making a CDN URL\n */\nexport interface MakeURLOptions {\n\t/**\n\t * The allowed extensions that can be used\n\t */\n\tallowedExtensions?: readonly string[];\n\t/**\n\t * Whether to use the `animated` query parameter\n\t */\n\tanimated?: boolean;\n\t/**\n\t * The base URL.\n\t *\n\t * @defaultValue `DefaultRestOptions.cdn`\n\t */\n\tbase?: string;\n\t/**\n\t * The extension to use for the image URL\n\t *\n\t * @defaultValue `'webp'`\n\t */\n\textension?: string | undefined;\n\t/**\n\t * The size specified in the image URL\n\t */\n\tsize?: ImageSize;\n}\n\n/**\n * The CDN link builder\n */\nexport class CDN {\n\tpublic constructor(\n\t\tprivate readonly cdn: string = DefaultRestOptions.cdn,\n\t\tprivate readonly mediaProxy: string = DefaultRestOptions.mediaProxy,\n\t) {}\n\n\t/**\n\t * Generates an app asset URL for a client's asset.\n\t *\n\t * @param clientId - The client id that has the asset\n\t * @param assetHash - The hash provided by Discord for this asset\n\t * @param options - Optional options for the asset\n\t */\n\tpublic appAsset(clientId: string, assetHash: string, options?: Readonly<BaseImageURLOptions>): string {\n\t\treturn this.makeURL(`/app-assets/${clientId}/${assetHash}`, options);\n\t}\n\n\t/**\n\t * Generates an app icon URL for a client's icon.\n\t *\n\t * @param clientId - The client id that has the icon\n\t * @param iconHash - The hash provided by Discord for this icon\n\t * @param options - Optional options for the icon\n\t */\n\tpublic appIcon(clientId: string, iconHash: string, options?: Readonly<BaseImageURLOptions>): string {\n\t\treturn this.makeURL(`/app-icons/${clientId}/${iconHash}`, options);\n\t}\n\n\t/**\n\t * Generates an avatar URL, e.g. for a user or a webhook.\n\t *\n\t * @param id - The id that has the icon\n\t * @param avatarHash - The hash provided by Discord for this avatar\n\t * @param options - Optional options for the avatar\n\t */\n\tpublic avatar(id: string, avatarHash: string, options?: Readonly<ImageURLOptions>): string {\n\t\treturn this.dynamicMakeURL(`/avatars/${id}/${avatarHash}`, avatarHash, options);\n\t}\n\n\t/**\n\t * Generates a user avatar decoration preset URL.\n\t *\n\t * @param asset - The avatar decoration hash\n\t */\n\tpublic avatarDecoration(asset: string): string;\n\n\t/**\n\t * Generates a user avatar decoration URL.\n\t *\n\t * @deprecated This overload is deprecated. Pass a hash instead.\n\t * @param userId - The id of the user\n\t * @param userAvatarDecoration - The hash provided by Discord for this avatar decoration\n\t * @param options - Optional options for the avatar decoration\n\t */\n\tpublic avatarDecoration(\n\t\tuserId: string,\n\t\tuserAvatarDecoration: string,\n\t\t// eslint-disable-next-line @typescript-eslint/unified-signatures\n\t\toptions?: Readonly<BaseImageURLOptions>,\n\t): string;\n\n\tpublic avatarDecoration(\n\t\tuserIdOrAsset: string,\n\t\tuserAvatarDecoration?: string,\n\t\toptions?: Readonly<BaseImageURLOptions>,\n\t): string {\n\t\tif (userAvatarDecoration) {\n\t\t\treturn this.makeURL(`/avatar-decorations/${userIdOrAsset}/${userAvatarDecoration}`, options);\n\t\t}\n\n\t\treturn this.makeURL(`/avatar-decoration-presets/${userIdOrAsset}`, { extension: 'png' });\n\t}\n\n\t/**\n\t * Generates a banner URL, e.g. for a user or a guild.\n\t *\n\t * @param id - The id that has the banner splash\n\t * @param bannerHash - The hash provided by Discord for this banner\n\t * @param options - Optional options for the banner\n\t */\n\tpublic banner(id: string, bannerHash: string, options?: Readonly<ImageURLOptions>): string {\n\t\treturn this.dynamicMakeURL(`/banners/${id}/${bannerHash}`, bannerHash, options);\n\t}\n\n\t/**\n\t * Generates an icon URL for a channel, e.g. a group DM.\n\t *\n\t * @param channelId - The channel id that has the icon\n\t * @param iconHash - The hash provided by Discord for this channel\n\t * @param options - Optional options for the icon\n\t */\n\tpublic channelIcon(channelId: string, iconHash: string, options?: Readonly<BaseImageURLOptions>): string {\n\t\treturn this.makeURL(`/channel-icons/${channelId}/${iconHash}`, options);\n\t}\n\n\t/**\n\t * Generates a default avatar URL\n\t *\n\t * @param index - The default avatar index\n\t * @remarks\n\t * To calculate the index for a user do `(userId >> 22) % 6`,\n\t * or `discriminator % 5` if they're using the legacy username system.\n\t */\n\tpublic defaultAvatar(index: number): string {\n\t\treturn this.makeURL(`/embed/avatars/${index}`, { extension: 'png' });\n\t}\n\n\t/**\n\t * Generates a discovery splash URL for a guild's discovery splash.\n\t *\n\t * @param guildId - The guild id that has the discovery splash\n\t * @param splashHash - The hash provided by Discord for this splash\n\t * @param options - Optional options for the splash\n\t */\n\tpublic discoverySplash(guildId: string, splashHash: string, options?: Readonly<BaseImageURLOptions>): string {\n\t\treturn this.makeURL(`/discovery-splashes/${guildId}/${splashHash}`, options);\n\t}\n\n\t/**\n\t * Generates an emoji's URL for an emoji.\n\t *\n\t * @param emojiId - The emoji id\n\t * @param options - Optional options for the emoji\n\t */\n\tpublic emoji(emojiId: string, options?: Readonly<EmojiURLOptions>): string;\n\n\t/**\n\t * Generates an emoji's URL for an emoji.\n\t *\n\t * @param emojiId - The emoji id\n\t * @param extension - The extension of the emoji\n\t * @deprecated This overload is deprecated. Pass an object containing the extension instead.\n\t */\n\t// eslint-disable-next-line @typescript-eslint/unified-signatures\n\tpublic emoji(emojiId: string, extension?: ImageExtension): string;\n\n\tpublic emoji(emojiId: string, options?: ImageExtension | Readonly<EmojiURLOptions>): string {\n\t\tlet resolvedOptions;\n\n\t\tif (typeof options === 'string') {\n\t\t\tif (!deprecationEmittedForEmoji) {\n\t\t\t\tdeprecationWarning(\n\t\t\t\t\t'Passing a string for the second parameter of CDN#emoji() is deprecated. Use an object instead.',\n\t\t\t\t);\n\n\t\t\t\tdeprecationEmittedForEmoji = true;\n\t\t\t}\n\n\t\t\tresolvedOptions = { extension: options };\n\t\t} else {\n\t\t\tresolvedOptions = options;\n\t\t}\n\n\t\treturn this.makeURL(`/emojis/${emojiId}`, resolvedOptions);\n\t}\n\n\t/**\n\t * Generates a guild member avatar URL.\n\t *\n\t * @param guildId - The id of the guild\n\t * @param userId - The id of the user\n\t * @param avatarHash - The hash provided by Discord for this avatar\n\t * @param options - Optional options for the avatar\n\t */\n\tpublic guildMemberAvatar(\n\t\tguildId: string,\n\t\tuserId: string,\n\t\tavatarHash: string,\n\t\toptions?: Readonly<ImageURLOptions>,\n\t): string {\n\t\treturn this.dynamicMakeURL(`/guilds/${guildId}/users/${userId}/avatars/${avatarHash}`, avatarHash, options);\n\t}\n\n\t/**\n\t * Generates a guild member banner URL.\n\t *\n\t * @param guildId - The id of the guild\n\t * @param userId - The id of the user\n\t * @param bannerHash - The hash provided by Discord for this banner\n\t * @param options - Optional options for the banner\n\t */\n\tpublic guildMemberBanner(\n\t\tguildId: string,\n\t\tuserId: string,\n\t\tbannerHash: string,\n\t\toptions?: Readonly<ImageURLOptions>,\n\t): string {\n\t\treturn this.dynamicMakeURL(`/guilds/${guildId}/users/${userId}/banners/${bannerHash}`, bannerHash, options);\n\t}\n\n\t/**\n\t * Generates an icon URL, e.g. for a guild.\n\t *\n\t * @param id - The id that has the icon splash\n\t * @param iconHash - The hash provided by Discord for this icon\n\t * @param options - Optional options for the icon\n\t */\n\tpublic icon(id: string, iconHash: string, options?: Readonly<ImageURLOptions>): string {\n\t\treturn this.dynamicMakeURL(`/icons/${id}/${iconHash}`, iconHash, options);\n\t}\n\n\t/**\n\t * Generates a URL for the icon of a role\n\t *\n\t * @param roleId - The id of the role that has the icon\n\t * @param roleIconHash - The hash provided by Discord for this role icon\n\t * @param options - Optional options for the role icon\n\t */\n\tpublic roleIcon(roleId: string, roleIconHash: string, options?: Readonly<BaseImageURLOptions>): string {\n\t\treturn this.makeURL(`/role-icons/${roleId}/${roleIconHash}`, options);\n\t}\n\n\t/**\n\t * Generates a guild invite splash URL for a guild's invite splash.\n\t *\n\t * @param guildId - The guild id that has the invite splash\n\t * @param splashHash - The hash provided by Discord for this splash\n\t * @param options - Optional options for the splash\n\t */\n\tpublic splash(guildId: string, splashHash: string, options?: Readonly<BaseImageURLOptions>): string {\n\t\treturn this.makeURL(`/splashes/${guildId}/${splashHash}`, options);\n\t}\n\n\t/**\n\t * Generates a sticker URL.\n\t *\n\t * @param stickerId - The sticker id\n\t * @param extension - The extension of the sticker\n\t * @privateRemarks\n\t * Stickers cannot have a `.webp` extension, so we default to a `.png`.\n\t * Sticker GIFs do not use the CDN base URL.\n\t */\n\tpublic sticker(stickerId: string, extension: StickerExtension = 'png'): string {\n\t\treturn this.makeURL(`/stickers/${stickerId}`, {\n\t\t\tallowedExtensions: ALLOWED_STICKER_EXTENSIONS,\n\t\t\tbase: extension === 'gif' ? this.mediaProxy : this.cdn,\n\t\t\textension,\n\t\t});\n\t}\n\n\t/**\n\t * Generates a sticker pack banner URL.\n\t *\n\t * @param bannerId - The banner id\n\t * @param options - Optional options for the banner\n\t */\n\tpublic stickerPackBanner(bannerId: string, options?: Readonly<BaseImageURLOptions>): string {\n\t\treturn this.makeURL(`/app-assets/710982414301790216/store/${bannerId}`, options);\n\t}\n\n\t/**\n\t * Generates a team icon URL for a team's icon.\n\t *\n\t * @param teamId - The team id that has the icon\n\t * @param iconHash - The hash provided by Discord for this icon\n\t * @param options - Optional options for the icon\n\t */\n\tpublic teamIcon(teamId: string, iconHash: string, options?: Readonly<BaseImageURLOptions>): string {\n\t\treturn this.makeURL(`/team-icons/${teamId}/${iconHash}`, options);\n\t}\n\n\t/**\n\t * Generates a cover image for a guild scheduled event.\n\t *\n\t * @param scheduledEventId - The scheduled event id\n\t * @param coverHash - The hash provided by discord for this cover image\n\t * @param options - Optional options for the cover image\n\t */\n\tpublic guildScheduledEventCover(\n\t\tscheduledEventId: string,\n\t\tcoverHash: string,\n\t\toptions?: Readonly<BaseImageURLOptions>,\n\t): string {\n\t\treturn this.makeURL(`/guild-events/${scheduledEventId}/${coverHash}`, options);\n\t}\n\n\t/**\n\t * Generates a URL for a soundboard sound.\n\t *\n\t * @param soundId - The soundboard sound id\n\t */\n\tpublic soundboardSound(soundId: string): string {\n\t\treturn `${this.cdn}${CDNRoutes.soundboardSound(soundId)}`;\n\t}\n\n\t/**\n\t * Generates a URL for a guild tag badge.\n\t *\n\t * @param guildId - The guild id\n\t * @param badgeHash - The hash of the badge\n\t * @param options - Optional options for the badge\n\t */\n\tpublic guildTagBadge(guildId: string, badgeHash: string, options?: Readonly<BaseImageURLOptions>): string {\n\t\treturn this.makeURL(`/guild-tag-badges/${guildId}/${badgeHash}`, options);\n\t}\n\n\t/**\n\t * Constructs the URL for the resource, checking whether or not `hash` starts with `a_` if `dynamic` is set to `true`.\n\t *\n\t * @param route - The base cdn route\n\t * @param hash - The hash provided by Discord for this icon\n\t * @param options - Optional options for the link\n\t */\n\tprivate dynamicMakeURL(\n\t\troute: string,\n\t\thash: string,\n\t\t{ forceStatic = false, ...options }: Readonly<ImageURLOptions> = {},\n\t): string {\n\t\treturn this.makeURL(route, !forceStatic && hash.startsWith('a_') ? { ...options, extension: 'gif' } : options);\n\t}\n\n\t/**\n\t * Constructs the URL for the resource\n\t *\n\t * @param route - The base cdn route\n\t * @param options - The extension/size options for the link\n\t */\n\tprivate makeURL(\n\t\troute: string,\n\t\t{\n\t\t\tallowedExtensions = ALLOWED_EXTENSIONS,\n\t\t\tbase = this.cdn,\n\t\t\textension = 'webp',\n\t\t\tsize,\n\t\t\tanimated,\n\t\t}: Readonly<MakeURLOptions> = {},\n\t): string {\n\t\t// eslint-disable-next-line no-param-reassign\n\t\textension = String(extension).toLowerCase();\n\n\t\tif (!allowedExtensions.includes(extension)) {\n\t\t\tthrow new RangeError(`Invalid extension provided: ${extension}\\nMust be one of: ${allowedExtensions.join(', ')}`);\n\t\t}\n\n\t\tif (size && !ALLOWED_SIZES.includes(size)) {\n\t\t\tthrow new RangeError(`Invalid size provided: ${size}\\nMust be one of: ${ALLOWED_SIZES.join(', ')}`);\n\t\t}\n\n\t\tconst url = new URL(`${base}${route}.${extension}`);\n\n\t\tif (animated !== undefined) {\n\t\t\turl.searchParams.set('animated', String(animated));\n\t\t}\n\n\t\tif (size) {\n\t\t\turl.searchParams.set('size', String(size));\n\t\t}\n\n\t\treturn url.toString();\n\t}\n}\n","import { getUserAgentAppendix } from '@discordjs/util';\nimport type { ImageSize } from 'discord-api-types/v10';\nimport { APIVersion } from 'discord-api-types/v10';\nimport { getDefaultStrategy } from '../../environment.js';\nimport type { RESTOptions, ResponseLike } from './types.js';\n\nexport type { ImageSize } from 'discord-api-types/v10';\n\nexport const DefaultUserAgent =\n\t`DiscordBot (https://discord.js.org, 2.6.0)` as `DiscordBot (https://discord.js.org, ${string})`;\n\n/**\n * The default string to append onto the user agent.\n */\nexport const DefaultUserAgentAppendix = getUserAgentAppendix();\n\nexport const DefaultRestOptions = {\n\tagent: null,\n\tapi: 'https://discord.com/api',\n\tauthPrefix: 'Bot',\n\tcdn: 'https://cdn.discordapp.com',\n\theaders: {},\n\tinvalidRequestWarningInterval: 0,\n\tglobalRequestsPerSecond: 50,\n\toffset: 50,\n\trejectOnRateLimit: null,\n\tretries: 3,\n\ttimeout: 15_000,\n\tuserAgentAppendix: DefaultUserAgentAppendix,\n\tversion: APIVersion,\n\thashSweepInterval: 14_400_000, // 4 Hours\n\thashLifetime: 86_400_000, // 24 Hours\n\thandlerSweepInterval: 3_600_000, // 1 Hour\n\tasync makeRequest(...args): Promise<ResponseLike> {\n\t\treturn getDefaultStrategy()(...args);\n\t},\n\tmediaProxy: 'https://media.discordapp.net',\n} as const satisfies Required<RESTOptions>;\n\n/**\n * The events that the REST manager emits\n */\nexport enum RESTEvents {\n\tDebug = 'restDebug',\n\tHandlerSweep = 'handlerSweep',\n\tHashSweep = 'hashSweep',\n\tInvalidRequestWarning = 'invalidRequestWarning',\n\tRateLimited = 'rateLimited',\n\tResponse = 'response',\n}\n\nexport const ALLOWED_EXTENSIONS = ['webp', 'png', 'jpg', 'jpeg', 'gif'] as const satisfies readonly string[];\nexport const ALLOWED_STICKER_EXTENSIONS = ['png', 'json', 'gif'] as const satisfies readonly string[];\nexport const ALLOWED_SIZES: readonly number[] = [\n\t16, 32, 64, 128, 256, 512, 1_024, 2_048, 4_096,\n] satisfies readonly ImageSize[];\n\nexport type ImageExtension = (typeof ALLOWED_EXTENSIONS)[number];\nexport type StickerExtension = (typeof ALLOWED_STICKER_EXTENSIONS)[number];\n\nexport const OverwrittenMimeTypes = {\n\t// https://github.com/discordjs/discord.js/issues/8557\n\t'image/apng': 'image/png',\n} as const satisfies Readonly<Record<string, string>>;\n\nexport const BurstHandlerMajorIdKey = 'burst';\n\n/**\n * Prefix for deprecation warnings.\n *\n * @internal\n */\nexport const DEPRECATION_WARNING_PREFIX = 'DeprecationWarning' as const;\n","import type { RateLimitData } from '../utils/types.js';\n\nexport class RateLimitError extends Error implements RateLimitData {\n\tpublic timeToReset: number;\n\n\tpublic limit: number;\n\n\tpublic method: string;\n\n\tpublic hash: string;\n\n\tpublic url: string;\n\n\tpublic route: string;\n\n\tpublic majorParameter: string;\n\n\tpublic global: boolean;\n\n\tpublic retryAfter: number;\n\n\tpublic sublimitTimeout: number;\n\n\tpublic scope: RateLimitData['scope'];\n\n\tpublic constructor({\n\t\ttimeToReset,\n\t\tlimit,\n\t\tmethod,\n\t\thash,\n\t\turl,\n\t\troute,\n\t\tmajorParameter,\n\t\tglobal,\n\t\tretryAfter,\n\t\tsublimitTimeout,\n\t\tscope,\n\t}: RateLimitData) {\n\t\tsuper();\n\t\tthis.timeToReset = timeToReset;\n\t\tthis.limit = limit;\n\t\tthis.method = method;\n\t\tthis.hash = hash;\n\t\tthis.url = url;\n\t\tthis.route = route;\n\t\tthis.majorParameter = majorParameter;\n\t\tthis.global = global;\n\t\tthis.retryAfter = retryAfter;\n\t\tthis.sublimitTimeout = sublimitTimeout;\n\t\tthis.scope = scope;\n\t}\n\n\t/**\n\t * The name of the error\n\t */\n\tpublic override get name(): string {\n\t\treturn `${RateLimitError.name}[${this.route}]`;\n\t}\n}\n","import type { Readable } from 'node:stream';\nimport type { ReadableStream } from 'node:stream/web';\nimport type { Collection } from '@discordjs/collection';\nimport type { Awaitable } from '@discordjs/util';\nimport type { Agent, Dispatcher, RequestInit, BodyInit, Response } from 'undici';\nimport type { IHandler } from '../interfaces/Handler.js';\n\nexport interface RestEvents {\n\thandlerSweep: [sweptHandlers: Collection<string, IHandler>];\n\thashSweep: [sweptHashes: Collection<string, HashData>];\n\tinvalidRequestWarning: [invalidRequestInfo: InvalidRequestWarningData];\n\trateLimited: [rateLimitInfo: RateLimitData];\n\tresponse: [request: APIRequest, response: ResponseLike];\n\trestDebug: [info: string];\n}\n\nexport interface RestEventsMap extends RestEvents {}\n\n/**\n * Options to be passed when creating the REST instance\n */\nexport interface RESTOptions {\n\t/**\n\t * The agent to set globally\n\t */\n\tagent: Dispatcher | null;\n\t/**\n\t * The base api path, without version\n\t *\n\t * @defaultValue `'https://discord.com/api'`\n\t */\n\tapi: string;\n\t/**\n\t * The authorization prefix to use for requests, useful if you want to use\n\t * bearer tokens\n\t *\n\t * @defaultValue `'Bot'`\n\t */\n\tauthPrefix: 'Bearer' | 'Bot';\n\t/**\n\t * The cdn path\n\t *\n\t * @defaultValue `'https://cdn.discordapp.com'`\n\t */\n\tcdn: string;\n\t/**\n\t * How many requests to allow sending per second (Infinity for unlimited, 50 for the standard global limit used by Discord)\n\t *\n\t * @defaultValue `50`\n\t */\n\tglobalRequestsPerSecond: number;\n\t/**\n\t * The amount of time in milliseconds that passes between each hash sweep. (defaults to 1h)\n\t *\n\t * @defaultValue `3_600_000`\n\t */\n\thandlerSweepInterval: number;\n\t/**\n\t * The maximum amount of time a hash can exist in milliseconds without being hit with a request (defaults to 24h)\n\t *\n\t * @defaultValue `86_400_000`\n\t */\n\thashLifetime: number;\n\t/**\n\t * The amount of time in milliseconds that passes between each hash sweep. (defaults to 4h)\n\t *\n\t * @defaultValue `14_400_000`\n\t */\n\thashSweepInterval: number;\n\t/**\n\t * Additional headers to send for all API requests\n\t *\n\t * @defaultValue `{}`\n\t */\n\theaders: Record<string, string>;\n\t/**\n\t * The number of invalid REST requests (those that return 401, 403, or 429) in a 10 minute window between emitted warnings (0 for no warnings).\n\t * That is, if set to 500, warnings will be emitted at invalid request number 500, 1000, 1500, and so on.\n\t *\n\t * @defaultValue `0`\n\t */\n\tinvalidRequestWarningInterval: number;\n\t/**\n\t * The method called to perform the actual HTTP request given a url and web `fetch` options\n\t * For example, to use global fetch, simply provide `makeRequest: fetch`\n\t */\n\tmakeRequest(url: string, init: RequestInit): Promise<ResponseLike>;\n\t/**\n\t * The media proxy path\n\t *\n\t * @defaultValue `'https://media.discordapp.net'`\n\t */\n\tmediaProxy: string;\n\t/**\n\t * The extra offset to add to rate limits in milliseconds\n\t *\n\t * @defaultValue `50`\n\t */\n\toffset: GetRateLimitOffsetFunction | number;\n\t/**\n\t * Determines how rate limiting and pre-emptive throttling should be handled.\n\t * When an array of strings, each element is treated as a prefix for the request route\n\t * (e.g. `/channels` to match any route starting with `/channels` such as `/channels/:id/messages`)\n\t * for which to throw {@link RateLimitError}s. All other request routes will be queued normally\n\t *\n\t * @defaultValue `null`\n\t */\n\trejectOnRateLimit: RateLimitQueueFilter | string[] | null;\n\t/**\n\t * The number of retries for errors with the 500 code, or errors\n\t * that timeout\n\t *\n\t * @defaultValue `3`\n\t */\n\tretries: number;\n\t/**\n\t * The time to wait in milliseconds before a request is aborted\n\t *\n\t * @defaultValue `15_000`\n\t */\n\ttimeout: number;\n\t/**\n\t * Extra information to add to the user agent\n\t *\n\t * @defaultValue DefaultUserAgentAppendix\n\t */\n\tuserAgentAppendix: string;\n\t/**\n\t * The version of the API to use\n\t *\n\t * @defaultValue `'10'`\n\t */\n\tversion: string;\n}\n\n/**\n * Data emitted on `RESTEvents.RateLimited`\n */\nexport interface RateLimitData {\n\t/**\n\t * Whether the rate limit that was reached was the global limit\n\t */\n\tglobal: boolean;\n\t/**\n\t * The bucket hash for this request\n\t */\n\thash: string;\n\t/**\n\t * The amount of requests we can perform before locking requests\n\t */\n\tlimit: number;\n\t/**\n\t * The major parameter of the route\n\t *\n\t * For example, in `/channels/x`, this will be `x`.\n\t * If there is no major parameter (e.g: `/bot/gateway`) this will be `global`.\n\t */\n\tmajorParameter: string;\n\t/**\n\t * The HTTP method being performed\n\t */\n\tmethod: string;\n\t/**\n\t * The time, in milliseconds, that will need to pass before this specific request can be retried\n\t */\n\tretryAfter: number;\n\t/**\n\t * The route being hit in this request\n\t */\n\troute: string;\n\t/**\n\t * The scope of the rate limit that was hit.\n\t *\n\t * This can be `user` for rate limits that are per client, `global` for rate limits that affect all clients or `shared` for rate limits that\n\t * are shared per resource.\n\t */\n\tscope: 'global' | 'shared' | 'user';\n\t/**\n\t * The time, in milliseconds, that will need to pass before the sublimit lock for the route resets, and requests that fall under a sublimit\n\t * can be retried\n\t *\n\t * This is only present on certain sublimits, and `0` otherwise\n\t */\n\tsublimitTimeout: number;\n\t/**\n\t * The time, in milliseconds, until the route's request-lock is reset\n\t */\n\ttimeToReset: number;\n\t/**\n\t * The full URL for this request\n\t */\n\turl: string;\n}\n\n/**\n * A function that determines whether the rate limit hit should throw an Error\n */\nexport type RateLimitQueueFilter = (rateLimitData: RateLimitData) => Awaitable<boolean>;\n\n/**\n * A function that determines the rate limit offset for a given request.\n */\nexport type GetRateLimitOffsetFunction = (route: string) => number;\n\nexport interface APIRequest {\n\t/**\n\t * The data that was used to form the body of this request\n\t */\n\tdata: HandlerRequestData;\n\t/**\n\t * The HTTP method used in this request\n\t */\n\tmethod: string;\n\t/**\n\t * Additional HTTP options for this request\n\t */\n\toptions: RequestInit;\n\t/**\n\t * The full path used to make the request\n\t */\n\tpath: RouteLike;\n\t/**\n\t * The number of times this request has been attempted\n\t */\n\tretries: number;\n\t/**\n\t * The API route identifying the ratelimit for this request\n\t */\n\troute: string;\n}\n\nexport interface ResponseLike\n\textends Pick<Response, 'arrayBuffer' | 'bodyUsed' | 'headers' | 'json' | 'ok' | 'status' | 'statusText' | 'text'> {\n\tbody: Readable | ReadableStream | null;\n}\n\nexport interface InvalidRequestWarningData {\n\t/**\n\t * Number of invalid requests that have been made in the window\n\t */\n\tcount: number;\n\t/**\n\t * Time in milliseconds remaining before the count resets\n\t */\n\tremainingTime: number;\n}\n\n/**\n * Represents a file to be added to the request\n */\nexport interface RawFile {\n\t/**\n\t * Content-Type of the file\n\t */\n\tcontentType?: string;\n\t/**\n\t * The actual data for the file\n\t */\n\tdata: Buffer | Uint8Array | boolean | number | string;\n\t/**\n\t * An explicit key to use for key of the formdata field for this file.\n\t * When not provided, the index of the file in the files array is used in the form `files[${index}]`.\n\t * If you wish to alter the placeholder snowflake, you must provide this property in the same form (`files[${placeholder}]`)\n\t */\n\tkey?: string;\n\t/**\n\t * The name of the file\n\t */\n\tname: string;\n}\n\n/**\n * Represents possible data to be given to an endpoint\n */\nexport interface RequestData {\n\t/**\n\t * Whether to append JSON data to form data instead of `payload_json` when sending files\n\t */\n\tappendToFormData?: boolean;\n\t/**\n\t * If this request needs the `Authorization` header\n\t *\n\t * @defaultValue `true`\n\t */\n\tauth?: boolean;\n\t/**\n\t * The authorization prefix to use for this request, useful if you use this with bearer tokens\n\t *\n\t * @defaultValue `'Bot'`\n\t */\n\tauthPrefix?: 'Bearer' | 'Bot';\n\t/**\n\t * The body to send to this request.\n\t * If providing as BodyInit, set `passThroughBody: true`\n\t */\n\tbody?: BodyInit | unknown;\n\t/**\n\t * The {@link https://undici.nodejs.org/#/docs/api/Agent | Agent} to use for the request.\n\t */\n\tdispatcher?: Agent;\n\t/**\n\t * Files to be attached to this request\n\t */\n\tfiles?: RawFile[] | undefined;\n\t/**\n\t * Additional headers to add to this request\n\t */\n\theaders?: Record<string, string>;\n\t/**\n\t * Whether to pass-through the body property directly to `fetch()`.\n\t * <warn>This only applies when files is NOT present</warn>\n\t */\n\tpassThroughBody?: boolean;\n\t/**\n\t * Query string parameters to append to the called endpoint\n\t */\n\tquery?: URLSearchParams;\n\t/**\n\t * Reason to show in the audit logs\n\t */\n\treason?: string | undefined;\n\t/**\n\t * The signal to abort the queue entry or the REST call, where applicable\n\t */\n\tsignal?: AbortSignal | undefined;\n\t/**\n\t * If this request should be versioned\n\t *\n\t * @defaultValue `true`\n\t */\n\tversioned?: boolean;\n}\n\n/**\n * Possible headers for an API call\n */\nexport interface RequestHeaders {\n\tAuthorization?: string;\n\t'User-Agent': string;\n\t'X-Audit-Log-Reason'?: string;\n}\n\n/**\n * Possible API methods to be used when doing requests\n */\nexport enum RequestMethod {\n\tDelete = 'DELETE',\n\tGet = 'GET',\n\tPatch = 'PATCH',\n\tPost = 'POST',\n\tPut = 'PUT',\n}\n\nexport type RouteLike = `/${string}`;\n\n/**\n * Internal request options\n *\n * @internal\n */\nexport interface InternalRequest extends RequestData {\n\tfullRoute: RouteLike;\n\tmethod: RequestMethod;\n}\n\nexport type HandlerRequestData = Pick<InternalRequest, 'auth' | 'body' | 'files' | 'signal'>;\n\n/**\n * Parsed route data for an endpoint\n *\n * @internal\n */\nexport interface RouteData {\n\tbucketRoute: string;\n\tmajorParameter: string;\n\toriginal: RouteLike;\n}\n\n/**\n * Represents a hash and its associated fields\n *\n * @internal\n */\nexport interface HashData {\n\tlastAccess: number;\n\tvalue: string;\n}\n","import type { RESTPatchAPIChannelJSONBody, Snowflake } from 'discord-api-types/v10';\nimport type { REST } from '../REST.js';\nimport { RateLimitError } from '../errors/RateLimitError.js';\nimport { DEPRECATION_WARNING_PREFIX } from './constants.js';\nimport { RequestMethod } from './types.js';\nimport type { GetRateLimitOffsetFunction, RateLimitData, ResponseLike } from './types.js';\n\nfunction serializeSearchParam(value: unknown): string | null {\n\tswitch (typeof value) {\n\t\tcase 'string':\n\t\t\treturn value;\n\t\tcase 'number':\n\t\tcase 'bigint':\n\t\tcase 'boolean':\n\t\t\treturn value.toString();\n\t\tcase 'object':\n\t\t\tif (value === null) return null;\n\t\t\tif (value instanceof Date) {\n\t\t\t\treturn Number.isNaN(value.getTime()) ? null : value.toISOString();\n\t\t\t}\n\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-base-to-string\n\t\t\tif (typeof value.toString === 'function' && value.toString !== Object.prototype.toString) return value.toString();\n\t\t\treturn null;\n\t\tdefault:\n\t\t\treturn null;\n\t}\n}\n\n/**\n * Creates and populates an URLSearchParams instance from an object, stripping\n * out null and undefined values, while also coercing non-strings to strings.\n *\n * @param options - The options to use\n * @returns A populated URLSearchParams instance\n */\nexport function makeURLSearchParams<OptionsType extends object>(options?: Readonly<OptionsType>) {\n\tconst params = new URLSearchParams();\n\tif (!options) return params;\n\n\tfor (const [key, value] of Object.entries(options)) {\n\t\tconst serialized = serializeSearchParam(value);\n\t\tif (serialized !== null) params.append(key, serialized);\n\t}\n\n\treturn params;\n}\n\n/**\n * Converts the response to usable data\n *\n * @param res - The fetch response\n */\nexport async function parseResponse(res: ResponseLike): Promise<unknown> {\n\tif (res.headers.get('Content-Type')?.startsWith('application/json')) {\n\t\treturn res.json();\n\t}\n\n\treturn res.arrayBuffer();\n}\n\n/**\n * Check whether a request falls under a sublimit\n *\n * @param bucketRoute - The buckets route identifier\n * @param body - The options provided as JSON data\n * @param method - The HTTP method that will be used to make the request\n * @returns Whether the request falls under a sublimit\n */\nexport function hasSublimit(bucketRoute: string, body?: unknown, method?: string): boolean {\n\t// TODO: Update for new sublimits\n\t// Currently known sublimits:\n\t// Editing channel `name` or `topic`\n\tif (bucketRoute === '/channels/:id') {\n\t\tif (typeof body !== 'object' || body === null) return false;\n\t\t// This should never be a POST body, but just in case\n\t\tif (method !== RequestMethod.Patch) return false;\n\t\tconst castedBody = body as RESTPatchAPIChannelJSONBody;\n\t\treturn ['name', 'topic'].some((key) => Reflect.has(castedBody, key));\n\t}\n\n\t// If we are checking if a request has a sublimit on a route not checked above, sublimit all requests to avoid a flood of 429s\n\treturn true;\n}\n\n/**\n * Check whether an error indicates that a retry can be attempted\n *\n * @param error - The error thrown by the network request\n * @returns Whether the error indicates a retry should be attempted\n */\nexport function shouldRetry(error: Error | NodeJS.ErrnoException) {\n\t// Retry for possible timed out requests\n\tif (error.name === 'AbortError') return true;\n\t// Downlevel ECONNRESET to retry as it may be recoverable\n\treturn ('code' in error && error.code === 'ECONNRESET') || error.message.includes('ECONNRESET');\n}\n\n/**\n * Determines whether the request should be queued or whether a RateLimitError should be thrown\n *\n * @internal\n */\nexport async function onRateLimit(manager: REST, rateLimitData: RateLimitData) {\n\tconst { options } = manager;\n\tif (!options.rejectOnRateLimit) return;\n\n\tconst shouldThrow =\n\t\ttypeof options.rejectOnRateLimit === 'function'\n\t\t\t? await options.rejectOnRateLimit(rateLimitData)\n\t\t\t: options.rejectOnRateLimit.some((route) => rateLimitData.route.startsWith(route.toLowerCase()));\n\tif (shouldThrow) {\n\t\tthrow new RateLimitError(rateLimitData);\n\t}\n}\n\n/**\n * Calculates the default avatar index for a given user id.\n *\n * @param userId - The user id to calculate the default avatar index for\n */\nexport function calculateUserDefaultAvatarIndex(userId: Snowflake) {\n\treturn Number(BigInt(userId) >> 22n) % 6;\n}\n\n/**\n * Sleeps for a given amount of time.\n *\n * @param ms - The amount of time (in milliseconds) to sleep for\n */\nexport async function sleep(ms: number): Promise<void> {\n\treturn new Promise<void>((resolve) => {\n\t\tsetTimeout(() => resolve(), ms);\n\t});\n}\n\n/**\n * Verifies that a value is a buffer-like object.\n *\n * @param value - The value to check\n */\nexport function isBufferLike(value: unknown): value is ArrayBuffer | Buffer | Uint8Array | Uint8ClampedArray {\n\treturn value instanceof ArrayBuffer || value instanceof Uint8Array || value instanceof Uint8ClampedArray;\n}\n\n/**\n * Irrespective environment warning.\n *\n * @remarks Only the message is needed. The deprecation prefix is handled already.\n * @param message - A string the warning will emit with\n * @internal\n */\nexport function deprecationWarning(message: string) {\n\tif (typeof globalThis.process === 'undefined') {\n\t\tconsole.warn(`${DEPRECATION_WARNING_PREFIX}: ${message}`);\n\t} else {\n\t\tprocess.emitWarning(message, DEPRECATION_WARNING_PREFIX);\n\t}\n}\n\n/**\n * Normalizes the offset for rate limits. Applies a Math.max(0, N) to prevent negative offsets,\n * also deals with callbacks.\n *\n * @internal\n */\nexport function normalizeRateLimitOffset(offset: GetRateLimitOffsetFunction | number, route: string): number {\n\tif (typeof offset === 'number') {\n\t\treturn Math.max(0, offset);\n\t}\n\n\tconst result = offset(route);\n\treturn Math.max(0, result);\n}\n","import type { InternalRequest, RawFile } from '../utils/types.js';\n\ninterface DiscordErrorFieldInformation {\n\tcode: string;\n\tmessage: string;\n}\n\ninterface DiscordErrorGroupWrapper {\n\t_errors: DiscordError[];\n}\n\ntype DiscordError = DiscordErrorFieldInformation | DiscordErrorGroupWrapper | string | { [k: string]: DiscordError };\n\nexport interface DiscordErrorData {\n\tcode: number;\n\terrors?: DiscordError;\n\tmessage: string;\n}\n\nexport interface OAuthErrorData {\n\terror: string;\n\terror_description?: string;\n}\n\nexport interface RequestBody {\n\tfiles: RawFile[] | undefined;\n\tjson: unknown | undefined;\n}\n\nfunction isErrorGroupWrapper(error: DiscordError): error is DiscordErrorGroupWrapper {\n\treturn Reflect.has(error as Record<string, unknown>, '_errors');\n}\n\nfunction isErrorResponse(error: DiscordError): error is DiscordErrorFieldInformation {\n\treturn typeof Reflect.get(error as Record<string, unknown>, 'message') === 'string';\n}\n\n/**\n * Represents an API error returned by Discord\n */\nexport class DiscordAPIError extends Error {\n\tpublic requestBody: RequestBody;\n\n\t/**\n\t * @param rawError - The error reported by Discord\n\t * @param code - The error code reported by Discord\n\t * @param status - The status code of the response\n\t * @param method - The method of the request that erred\n\t * @param url - The url of the request that erred\n\t * @param bodyData - The unparsed data for the request that errored\n\t */\n\tpublic constructor(\n\t\tpublic rawError: DiscordErrorData | OAuthErrorData,\n\t\tpublic code: number | string,\n\t\tpublic status: number,\n\t\tpublic method: string,\n\t\tpublic url: string,\n\t\tbodyData: Pick<InternalRequest, 'body' | 'files'>,\n\t) {\n\t\tsuper(DiscordAPIError.getMessage(rawError));\n\n\t\tthis.requestBody = { files: bodyData.files, json: bodyData.body };\n\t}\n\n\t/**\n\t * The name of the error\n\t */\n\tpublic override get name(): string {\n\t\treturn `${DiscordAPIError.name}[${this.code}]`;\n\t}\n\n\tprivate static getMessage(error: DiscordErrorData | OAuthErrorData) {\n\t\tlet flattened = '';\n\t\tif ('code' in error) {\n\t\t\tif (error.errors) {\n\t\t\t\tflattened = [...this.flattenDiscordError(error.errors)].join('\\n');\n\t\t\t}\n\n\t\t\treturn error.message && flattened\n\t\t\t\t? `${error.message}\\n${flattened}`\n\t\t\t\t: error.message || flattened || 'Unknown Error';\n\t\t}\n\n\t\treturn error.error_description ?? 'No Description';\n\t}\n\n\tprivate static *flattenDiscordError(obj: DiscordError, key = ''): IterableIterator<string> {\n\t\tif (isErrorResponse(obj)) {\n\t\t\treturn yield `${key.length ? `${key}[${obj.code}]` : `${obj.code}`}: ${obj.message}`.trim();\n\t\t}\n\n\t\tfor (const [otherKey, val] of Object.entries(obj)) {\n\t\t\tconst nextKey = otherKey.startsWith('_')\n\t\t\t\t? key\n\t\t\t\t: key\n\t\t\t\t\t? Number.isNaN(Number(otherKey))\n\t\t\t\t\t\t? `${key}.${otherKey}`\n\t\t\t\t\t\t: `${key}[${otherKey}]`\n\t\t\t\t\t: otherKey;\n\n\t\t\tif (typeof val === 'string') {\n\t\t\t\tyield val;\n\t\t\t} else if (isErrorGroupWrapper(val)) {\n\t\t\t\tfor (const error of val._errors) {\n\t\t\t\t\tyield* this.flattenDiscordError(error, nextKey);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tyield* this.flattenDiscordError(val, nextKey);\n\t\t\t}\n\t\t}\n\t}\n}\n","import type { InternalRequest } from '../utils/types.js';\nimport type { RequestBody } from './DiscordAPIError.js';\n\n/**\n * Represents a HTTP error\n */\nexport class HTTPError extends Error {\n\tpublic requestBody: RequestBody;\n\n\tpublic override name = HTTPError.name;\n\n\t/**\n\t * @param status - The status code of the response\n\t * @param statusText - The status text of the response\n\t * @param method - The method of the request that erred\n\t * @param url - The url of the request that erred\n\t * @param bodyData - The unparsed data for the request that errored\n\t */\n\tpublic constructor(\n\t\tpublic status: number,\n\t\tstatusText: string,\n\t\tpublic method: string,\n\t\tpublic url: string,\n\t\tbodyData: Pick<InternalRequest, 'body' | 'files'>,\n\t) {\n\t\tsuper(statusText);\n\t\tthis.requestBody = { files: bodyData.files, json: bodyData.body };\n\t}\n}\n","import { Collection } from '@discordjs/collection';\nimport { DiscordSnowflake } from '@sapphire/snowflake';\nimport { AsyncEventEmitter } from '@vladfrangu/async_event_emitter';\nimport { filetypeinfo } from 'magic-bytes.js';\nimport type { RequestInit, BodyInit, Dispatcher } from 'undici';\nimport { CDN } from './CDN.js';\nimport { BurstHandler } from './handlers/BurstHandler.js';\nimport { SequentialHandler } from './handlers/SequentialHandler.js';\nimport type { IHandler } from './interfaces/Handler.js';\nimport {\n\tBurstHandlerMajorIdKey,\n\tDefaultRestOptions,\n\tDefaultUserAgent,\n\tOverwrittenMimeTypes,\n\tRESTEvents,\n} from './utils/constants.js';\nimport { RequestMethod } from './utils/types.js';\nimport type {\n\tRESTOptions,\n\tResponseLike,\n\tRestEvents,\n\tHashData,\n\tInternalRequest,\n\tRouteLike,\n\tRequestHeaders,\n\tRouteData,\n\tRequestData,\n} from './utils/types.js';\nimport { isBufferLike, parseResponse } from './utils/utils.js';\n\n/**\n * Represents the class that manages handlers for endpoints\n */\nexport class REST extends AsyncEventEmitter<RestEvents> {\n\t/**\n\t * The {@link https://undici.nodejs.org/#/docs/api/Agent | Agent} for all requests\n\t * performed by this manager.\n\t */\n\tpublic agent: Dispatcher | null = null;\n\n\tpublic readonly cdn: CDN;\n\n\t/**\n\t * The number of requests remaining in the global bucket\n\t */\n\tpublic globalRemaining: number;\n\n\t/**\n\t * The promise used to wait out the global rate limit\n\t */\n\tpublic globalDelay: Promise<void> | null = null;\n\n\t/**\n\t * The timestamp at which the global bucket resets\n\t */\n\tpublic globalReset = -1;\n\n\t/**\n\t * API bucket hashes that are cached from provided routes\n\t */\n\tpublic readonly hashes = new Collection<string, HashData>();\n\n\t/**\n\t * Request handlers created from the bucket hash and the major parameters\n\t */\n\tpublic readonly handlers = new Collection<string, IHandler>();\n\n\t#token: string | null = null;\n\n\tprivate hashTimer!: NodeJS.Timer | number;\n\n\tprivate handlerTimer!: NodeJS.Timer | number;\n\n\tpublic readonly options: RESTOptions;\n\n\tpublic constructor(options: Partial<RESTOptions> = {}) {\n\t\tsuper();\n\t\tthis.cdn = new CDN(options.cdn ?? DefaultRestOptions.cdn, options.mediaProxy ?? DefaultRestOptions.mediaProxy);\n\t\tthis.options = { ...DefaultRestOptions, ...options };\n\t\tthis.globalRemaining = Math.max(1, this.options.globalRequestsPerSecond);\n\t\tthis.agent = options.agent ?? null;\n\n\t\t// Start sweepers\n\t\tthis.setupSweepers();\n\t}\n\n\tprivate setupSweepers() {\n\t\t// eslint-disable-next-line unicorn/consistent-function-scoping\n\t\tconst validateMaxInterval = (interval: number) => {\n\t\t\tif (interval > 14_400_000) {\n\t\t\t\tthrow new Error('Cannot set an interval greater than 4 hours');\n\t\t\t}\n\t\t};\n\n\t\tif (this.options.hashSweepInterval !== 0 && this.options.hashSweepInterval !== Number.POSITIVE_INFINITY) {\n\t\t\tvalidateMaxInterval(this.options.hashSweepInterval);\n\t\t\tthis.hashTimer = setInterval(() => {\n\t\t\t\tconst sweptHashes = new Collection<string, HashData>();\n\t\t\t\tconst currentDate = Date.now();\n\n\t\t\t\t// Begin sweeping hash based on lifetimes\n\t\t\t\tthis.hashes.sweep((val, key) => {\n\t\t\t\t\t// `-1` indicates a global hash\n\t\t\t\t\tif (val.lastAccess === -1) return false;\n\n\t\t\t\t\t// Check if lifetime has been exceeded\n\t\t\t\t\tconst shouldSweep = Math.floor(currentDate - val.lastAccess) > this.options.hashLifetime;\n\n\t\t\t\t\t// Add hash to collection of swept hashes\n\t\t\t\t\tif (shouldSweep) {\n\t\t\t\t\t\t// Add to swept hashes\n\t\t\t\t\t\tsweptHashes.set(key, val);\n\n\t\t\t\t\t\t// Emit debug information\n\t\t\t\t\t\tthis.emit(RESTEvents.Debug, `Hash ${val.value} for ${key} swept due to lifetime being exceeded`);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn shouldSweep;\n\t\t\t\t});\n\n\t\t\t\t// Fire event\n\t\t\t\tthis.emit(RESTEvents.HashSweep, sweptHashes);\n\t\t\t}, this.options.hashSweepInterval);\n\n\t\t\tthis.hashTimer.unref?.();\n\t\t}\n\n\t\tif (this.options.handlerSweepInterval !== 0 && this.options.handlerSweepInterval !== Number.POSITIVE_INFINITY) {\n\t\t\tvalidateMaxInterval(this.options.handlerSweepInterval);\n\t\t\tthis.handlerTimer = setInterval(() => {\n\t\t\t\tconst sweptHandlers = new Collection<string, IHandler>();\n\n\t\t\t\t// Begin sweeping handlers based on activity\n\t\t\t\tthis.handlers.sweep((val, key) => {\n\t\t\t\t\tconst { inactive } = val;\n\n\t\t\t\t\t// Collect inactive handlers\n\t\t\t\t\tif (inactive) {\n\t\t\t\t\t\tsweptHandlers.set(key, val);\n\t\t\t\t\t\tthis.emit(RESTEvents.Debug, `Handler ${val.id} for ${key} swept due to being inactive`);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn inactive;\n\t\t\t\t});\n\n\t\t\t\t// Fire event\n\t\t\t\tthis.emit(RESTEvents.HandlerSweep, sweptHandlers);\n\t\t\t}, this.options.handlerSweepInterval);\n\n\t\t\tthis.handlerTimer.unref?.();\n\t\t}\n\t}\n\n\t/**\n\t * Runs a get request from the api\n\t *\n\t * @param fullRoute - The full route to query\n\t * @param options - Optional request options\n\t */\n\tpublic async get(fullRoute: RouteLike, options: RequestData = {}) {\n\t\treturn this.request({ ...options, fullRoute, method: RequestMethod.Get });\n\t}\n\n\t/**\n\t * Runs a delete request from the api\n\t *\n\t * @param fullRoute - The full route to query\n\t * @param options - Optional request options\n\t */\n\tpublic async delete(fullRoute: RouteLike, options: RequestData = {}) {\n\t\treturn this.request({ ...options, fullRoute, method: RequestMethod.Delete });\n\t}\n\n\t/**\n\t * Runs a post request from the api\n\t *\n\t * @param fullRoute - The full route to query\n\t * @param options - Optional request options\n\t */\n\tpublic async post(fullRoute: RouteLike, options: RequestData = {}) {\n\t\treturn this.request({ ...options, fullRoute, method: RequestMethod.Post });\n\t}\n\n\t/**\n\t * Runs a put request from the api\n\t *\n\t * @param fullRoute - The full route to query\n\t * @param options - Optional request options\n\t */\n\tpublic async put(fullRoute: RouteLike, options: RequestData = {}) {\n\t\treturn this.request({ ...options, fullRoute, method: RequestMethod.Put });\n\t}\n\n\t/**\n\t * Runs a patch request from the api\n\t *\n\t * @param fullRoute - The full route to query\n\t * @param options - Optional request options\n\t */\n\tpublic async patch(fullRoute: RouteLike, options: RequestData = {}) {\n\t\treturn this.request({ ...options, fullRoute, method: RequestMethod.Patch });\n\t}\n\n\t/**\n\t * Runs a request from the api\n\t *\n\t * @param options - Request options\n\t */\n\tpublic async request(options: InternalRequest) {\n\t\tconst response = await this.queueRequest(options);\n\t\treturn parseResponse(response);\n\t}\n\n\t/**\n\t * Sets the default agent to use for requests performed by this manager\n\t *\n\t * @param agent - The agent to use\n\t */\n\tpublic setAgent(agent: Dispatcher) {\n\t\tthis.agent = agent;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the authorization token that should be used for requests\n\t *\n\t * @param token - The authorization token to use\n\t */\n\tpublic setToken(token: string) {\n\t\tthis.#token = token;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Queues a request to be sent\n\t *\n\t * @param request - All the information needed to make a request\n\t * @returns The response from the api request\n\t */\n\tpublic async queueRequest(request: InternalRequest): Promise<ResponseLike> {\n\t\t// Generalize the endpoint to its route data\n\t\tconst routeId = REST.generateRouteData(request.fullRoute, request.method);\n\t\t// Get the bucket hash for the generic route, or point to a global route otherwise\n\t\tconst hash = this.hashes.get(`${request.method}:${routeId.bucketRoute}`) ?? {\n\t\t\tvalue: `Global(${request.method}:${routeId.bucketRoute})`,\n\t\t\tlastAccess: -1,\n\t\t};\n\n\t\t// Get the request handler for the obtained hash, with its major parameter\n\t\tconst handler =\n\t\t\tthis.handlers.get(`${hash.value}:${routeId.majorParameter}`) ??\n\t\t\tthis.createHandler(hash.value, routeId.majorParameter);\n\n\t\t// Resolve the request into usable fetch options\n\t\tconst { url, fetchOptions } = await this.resolveRequest(request);\n\n\t\t// Queue the request\n\t\treturn handler.queueRequest(routeId, url, fetchOptions, {\n\t\t\tbody: request.body,\n\t\t\tfiles: request.files,\n\t\t\tauth: request.auth !== false,\n\t\t\tsignal: request.signal,\n\t\t});\n\t}\n\n\t/**\n\t * Creates a new rate limit handler from a hash, based on the hash and the major parameter\n\t *\n\t * @param hash - The hash for the route\n\t * @param majorParameter - The major parameter for this handler\n\t * @internal\n\t */\n\tprivate createHandler(hash: string, majorParameter: string) {\n\t\t// Create the async request queue to handle requests\n\t\tconst queue =\n\t\t\tmajorParameter === BurstHandlerMajorIdKey\n\t\t\t\t? new BurstHandler(this, hash, majorParameter)\n\t\t\t\t: new SequentialHandler(this, hash, majorParameter);\n\t\t// Save the queue based on its id\n\t\tthis.handlers.set(queue.id, queue);\n\n\t\treturn queue;\n\t}\n\n\t/**\n\t * Formats the request data to a usable format for fetch\n\t *\n\t * @param request - The request data\n\t */\n\tprivate async resolveRequest(request: InternalRequest): Promise<{ fetchOptions: RequestInit; url: string }> {\n\t\tconst { options } = this;\n\n\t\tlet query = '';\n\n\t\t// If a query option is passed, use it\n\t\tif (request.query) {\n\t\t\tconst resolvedQuery = request.query.toString();\n\t\t\tif (resolvedQuery !== '') {\n\t\t\t\tquery = `?${resolvedQuery}`;\n\t\t\t}\n\t\t}\n\n\t\t// Create the required headers\n\t\tconst headers: RequestHeaders = {\n\t\t\t...this.options.headers,\n\t\t\t'User-Agent': `${DefaultUserAgent} ${options.userAgentAppendix}`.trim(),\n\t\t};\n\n\t\t// If this request requires authorization (allowing non-\"authorized\" requests for webhooks)\n\t\tif (request.auth !== false) {\n\t\t\t// If we haven't received a token, throw an error\n\t\t\tif (!this.#token) {\n\t\t\t\tthrow new Error('Expected token to be set for this request, but none was present');\n\t\t\t}\n\n\t\t\theaders.Authorization = `${request.authPrefix ?? this.options.authPrefix} ${this.#token}`;\n\t\t}\n\n\t\t// If a reason was set, set its appropriate header\n\t\tif (request.reason?.length) {\n\t\t\theaders['X-Audit-Log-Reason'] = encodeURIComponent(request.reason);\n\t\t}\n\n\t\t// Format the full request URL (api base, optional version, endpoint, optional querystring)\n\t\tconst url = `${options.api}${request.versioned === false ? '' : `/v${options.version}`}${\n\t\t\trequest.fullRoute\n\t\t}${query}`;\n\n\t\tlet finalBody: RequestInit['body'];\n\t\tlet additionalHeaders: Record<string, string> = {};\n\n\t\tif (request.files?.length) {\n\t\t\tconst formData = new FormData();\n\n\t\t\t// Attach all files to the request\n\t\t\tfor (const [index, file] of request.files.entries()) {\n\t\t\t\tconst fileKey = file.key ?? `files[${index}]`;\n\n\t\t\t\t// https://developer.mozilla.org/docs/Web/API/FormData/append#parameters\n\t\t\t\t// FormData.append only accepts a string or Blob.\n\t\t\t\t// https://developer.mozilla.org/docs/Web/API/Blob/Blob#parameters\n\t\t\t\t// The Blob constructor accepts TypedArray/ArrayBuffer, strings, and Blobs.\n\t\t\t\tif (isBufferLike(file.data)) {\n\t\t\t\t\t// Try to infer the content type from the buffer if one isn't passed\n\t\t\t\t\tlet contentType = file.contentType;\n\n\t\t\t\t\tif (!contentType) {\n\t\t\t\t\t\tconst [parsedType] = filetypeinfo(file.data);\n\n\t\t\t\t\t\tif (parsedType) {\n\t\t\t\t\t\t\tcontentType =\n\t\t\t\t\t\t\t\tOverwrittenMimeTypes[parsedType.mime as keyof typeof OverwrittenMimeTypes] ??\n\t\t\t\t\t\t\t\tparsedType.mime ??\n\t\t\t\t\t\t\t\t'application/octet-stream';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tformData.append(fileKey, new Blob([file.data], { type: contentType }), file.name);\n\t\t\t\t} else {\n\t\t\t\t\tformData.append(fileKey, new Blob([`${file.data}`], { type: file.contentType }), file.name);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If a JSON body was added as well, attach it to the form data, using payload_json unless otherwise specified\n\t\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\t\tif (request.body != null) {\n\t\t\t\tif (request.appendToFormData) {\n\t\t\t\t\tfor (const [key, value] of Object.entries(request.body as Record<string, unknown>)) {\n\t\t\t\t\t\tformData.append(key, value);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tformData.append('payload_json', JSON.stringify(request.body));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set the final body to the form data\n\t\t\tfinalBody = formData;\n\n\t\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\t} else if (request.body != null) {\n\t\t\tif (request.passThroughBody) {\n\t\t\t\tfinalBody = request.body as BodyInit;\n\t\t\t} else {\n\t\t\t\t// Stringify the JSON data\n\t\t\t\tfinalBody = JSON.stringify(request.body);\n\t\t\t\t// Set the additional headers to specify the content-type\n\t\t\t\tadditionalHeaders = { 'Content-Type': 'application/json' };\n\t\t\t}\n\t\t}\n\n\t\tconst method = request.method.toUpperCase();\n\n\t\t// The non null assertions in the following block are due to exactOptionalPropertyTypes, they have been tested to work with undefined\n\t\tconst fetchOptions: RequestInit = {\n\t\t\t// Set body to null on get / head requests. This does not follow fetch spec (likely because it causes subtle bugs) but is aligned with what request was doing\n\t\t\tbody: ['GET', 'HEAD'].includes(method) ? null : finalBody!,\n\t\t\theaders: { ...request.headers, ...additionalHeaders, ...headers } as Record<string, string>,\n\t\t\tmethod,\n\t\t\t// Prioritize setting an agent per request, use the agent for this instance otherwise.\n\t\t\tdispatcher: request.dispatcher ?? this.agent ?? undefined!,\n\t\t};\n\n\t\treturn { url, fetchOptions };\n\t}\n\n\t/**\n\t * Stops the hash sweeping interval\n\t */\n\tpublic clearHashSweeper() {\n\t\tclearInterval(this.hashTimer);\n\t}\n\n\t/**\n\t * Stops the request handler sweeping interval\n\t */\n\tpublic clearHandlerSweeper() {\n\t\tclearInterval(this.handlerTimer);\n\t}\n\n\t/**\n\t * Generates route data for an endpoint:method\n\t *\n\t * @param endpoint - The raw endpoint to generalize\n\t * @param method - The HTTP method this endpoint is called without\n\t * @internal\n\t */\n\tprivate static generateRouteData(endpoint: RouteLike, method: RequestMethod): RouteData {\n\t\tif (endpoint.startsWith('/interactions/') && endpoint.endsWith('/callback')) {\n\t\t\treturn {\n\t\t\t\tmajorParameter: BurstHandlerMajorIdKey,\n\t\t\t\tbucketRoute: '/interactions/:id/:token/callback',\n\t\t\t\toriginal: endpoint,\n\t\t\t};\n\t\t}\n\n\t\tconst majorIdMatch = /(?:^\\/webhooks\\/(\\d{17,19}\\/[^/?]+))|(?:^\\/(?:channels|guilds|webhooks)\\/(\\d{17,19}))/.exec(\n\t\t\tendpoint,\n\t\t);\n\n\t\t// Get the major id or id + token for this route - global otherwise\n\t\tconst majorId = majorIdMatch?.[2] ?? majorIdMatch?.[1] ?? 'global';\n\n\t\tconst baseRoute = endpoint\n\t\t\t// Strip out all ids\n\t\t\t.replaceAll(/\\d{17,19}/g, ':id')\n\t\t\t// Strip out reaction as they fall under the same bucket\n\t\t\t.replace(/\\/reactions\\/(.*)/, '/reactions/:reaction')\n\t\t\t// Strip out webhook tokens\n\t\t\t.replace(/\\/webhooks\\/:id\\/[^/?]+/, '/webhooks/:id/:token');\n\n\t\tlet exceptions = '';\n\n\t\t// Hard-Code Old Message Deletion Exception (2 week+ old messages are a different bucket)\n\t\t// https://github.com/discord/discord-api-docs/issues/1295\n\t\tif (method === RequestMethod.Delete && baseRoute === '/channels/:id/messages/:id') {\n\t\t\tconst id = /\\d{17,19}$/.exec(endpoint)![0]!;\n\t\t\tconst timestamp = DiscordSnowflake.timestampFrom(id);\n\t\t\tif (Date.now() - timestamp > 1_000 * 60 * 60 * 24 * 14) {\n\t\t\t\texceptions += '/Delete Old Message';\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tmajorParameter: majorId,\n\t\t\tbucketRoute: baseRoute + exceptions,\n\t\t\toriginal: endpoint,\n\t\t};\n\t}\n}\n","import type { RequestInit } from 'undici';\nimport type { REST } from '../REST.js';\nimport type { DiscordErrorData, OAuthErrorData } from '../errors/DiscordAPIError.js';\nimport { DiscordAPIError } from '../errors/DiscordAPIError.js';\nimport { HTTPError } from '../errors/HTTPError.js';\nimport { RESTEvents } from '../utils/constants.js';\nimport type { ResponseLike, HandlerRequestData, RouteData } from '../utils/types.js';\nimport { parseResponse, shouldRetry } from '../utils/utils.js';\n\n/**\n * Invalid request limiting is done on a per-IP basis, not a per-token basis.\n * The best we can do is track invalid counts process-wide (on the theory that\n * users could have multiple bots run from one process) rather than per-bot.\n * Therefore, store these at file scope here rather than in the client's\n * RESTManager object.\n */\nlet invalidCount = 0;\nlet invalidCountResetTime: number | null = null;\n\n/**\n * Increment the invalid request count and emit warning if necessary\n *\n * @internal\n */\nexport function incrementInvalidCount(manager: REST) {\n\tif (!invalidCountResetTime || invalidCountResetTime < Date.now()) {\n\t\tinvalidCountResetTime = Date.now() + 1_000 * 60 * 10;\n\t\tinvalidCount = 0;\n\t}\n\n\tinvalidCount++;\n\n\tconst emitInvalid =\n\t\tmanager.options.invalidRequestWarningInterval > 0 &&\n\t\tinvalidCount % manager.options.invalidRequestWarningInterval === 0;\n\tif (emitInvalid) {\n\t\t// Let library users know periodically about invalid requests\n\t\tmanager.emit(RESTEvents.InvalidRequestWarning, {\n\t\t\tcount: invalidCount,\n\t\t\tremainingTime: invalidCountResetTime - Date.now(),\n\t\t});\n\t}\n}\n\n/**\n * Performs the actual network request for a request handler\n *\n * @param manager - The manager that holds options and emits informational events\n * @param routeId - The generalized api route with literal ids for major parameters\n * @param url - The fully resolved url to make the request to\n * @param options - The fetch options needed to make the request\n * @param requestData - Extra data from the user's request needed for errors and additional processing\n * @param retries - The number of retries this request has already attempted (recursion occurs on the handler)\n * @returns The respond from the network or `null` when the request should be retried\n * @internal\n */\nexport async function makeNetworkRequest(\n\tmanager: REST,\n\trouteId: RouteData,\n\turl: string,\n\toptions: RequestInit,\n\trequestData: HandlerRequestData,\n\tretries: number,\n) {\n\tconst controller = new AbortController();\n\tconst timeout = setTimeout(() => controller.abort(), manager.options.timeout);\n\tif (requestData.signal) {\n\t\t// If the user signal was aborted, abort the controller, else abort the local signal.\n\t\t// The reason why we don't re-use the user's signal, is because users may use the same signal for multiple\n\t\t// requests, and we do not want to cause unexpected side-effects.\n\t\tif (requestData.signal.aborted) controller.abort();\n\t\telse requestData.signal.addEventListener('abort', () => controller.abort());\n\t}\n\n\tlet res: ResponseLike;\n\ttry {\n\t\tres = await manager.options.makeRequest(url, { ...options, signal: controller.signal });\n\t} catch (error: unknown) {\n\t\tif (!(error instanceof Error)) throw error;\n\t\t// Retry the specified number of times if needed\n\t\tif (shouldRetry(error) && retries !== manager.options.retries) {\n\t\t\t// Retry is handled by the handler upon receiving null\n\t\t\treturn null;\n\t\t}\n\n\t\tthrow error;\n\t} finally {\n\t\tclearTimeout(timeout);\n\t}\n\n\tif (manager.listenerCount(RESTEvents.Response)) {\n\t\tmanager.emit(\n\t\t\tRESTEvents.Response,\n\t\t\t{\n\t\t\t\tmethod: options.method ?? 'get',\n\t\t\t\tpath: routeId.original,\n\t\t\t\troute: routeId.bucketRoute,\n\t\t\t\toptions,\n\t\t\t\tdata: requestData,\n\t\t\t\tretries,\n\t\t\t},\n\t\t\tres instanceof Response ? res.clone() : { ...res },\n\t\t);\n\t}\n\n\treturn res;\n}\n\n/**\n * Handles 5xx and 4xx errors (not 429's) conventionally. 429's should be handled before calling this function\n *\n * @param manager - The manager that holds options and emits informational events\n * @param res - The response received from {@link makeNetworkRequest}\n * @param method - The method used to make the request\n * @param url - The fully resolved url to make the request to\n * @param requestData - Extra data from the user's request needed for errors and additional processing\n * @param retries - The number of retries this request has already attempted (recursion occurs on the handler)\n * @returns The response if the status code is not handled or null to request a retry\n */\nexport async function handleErrors(\n\tmanager: REST,\n\tres: ResponseLike,\n\tmethod: string,\n\turl: string,\n\trequestData: HandlerRequestData,\n\tretries: number,\n) {\n\tconst status = res.status;\n\tif (status >= 500 && status < 600) {\n\t\t// Retry the specified number of times for possible server side issues\n\t\tif (retries !== manager.options.retries) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// We are out of retries, throw an error\n\t\tthrow new HTTPError(status, res.statusText, method, url, requestData);\n\t} else {\n\t\t// Handle possible malformed requests\n\t\tif (status >= 400 && status < 500) {\n\t\t\t// If we receive this status code, it means the token we had is no longer valid.\n\t\t\tif (status === 401 && requestData.auth) {\n\t\t\t\tmanager.setToken(null!);\n\t\t\t}\n\n\t\t\t// The request will not succeed for some reason, parse the error returned from the api\n\t\t\tconst data = (await parseResponse(res)) as DiscordErrorData | OAuthErrorData;\n\t\t\t// throw the API error\n\t\t\tthrow new DiscordAPIError(data, 'code' in data ? data.code : data.error, status, method, url, requestData);\n\t\t}\n\n\t\treturn res;\n\t}\n}\n","import type { RequestInit } from 'undici';\nimport type { REST } from '../REST.js';\nimport type { IHandler } from '../interfaces/Handler.js';\nimport { RESTEvents } from '../utils/constants.js';\nimport type { ResponseLike, HandlerRequestData, RouteData, RateLimitData } from '../utils/types.js';\nimport { normalizeRateLimitOffset, onRateLimit, sleep } from '../utils/utils.js';\nimport { handleErrors, incrementInvalidCount, makeNetworkRequest } from './Shared.js';\n\n/**\n * The structure used to handle burst requests for a given bucket.\n * Burst requests have no ratelimit handling but allow for pre- and post-processing\n * of data in the same manner as sequentially queued requests.\n *\n * @remarks\n * This queue may still emit a rate limit error if an unexpected 429 is hit\n */\nexport class BurstHandler implements IHandler {\n\t/**\n\t * {@inheritdoc IHandler.id}\n\t */\n\tpublic readonly id: string;\n\n\t/**\n\t * {@inheritDoc IHandler.inactive}\n\t */\n\tpublic inactive = false;\n\n\t/**\n\t * @param manager - The request manager\n\t * @param hash - The hash that this RequestHandler handles\n\t * @param majorParameter - The major parameter for this handler\n\t */\n\tpublic constructor(\n\t\tprivate readonly manager: REST,\n\t\tprivate readonly hash: string,\n\t\tprivate readonly majorParameter: string,\n\t) {\n\t\tthis.id = `${hash}:${majorParameter}`;\n\t}\n\n\t/**\n\t * Emits a debug message\n\t *\n\t * @param message - The message to debug\n\t */\n\tprivate debug(message: string) {\n\t\tthis.manager.emit(RESTEvents.Debug, `[REST ${this.id}] ${message}`);\n\t}\n\n\t/**\n\t * {@inheritDoc IHandler.queueRequest}\n\t */\n\tpublic async queueRequest(\n\t\trouteId: RouteData,\n\t\turl: string,\n\t\toptions: RequestInit,\n\t\trequestData: HandlerRequestData,\n\t): Promise<ResponseLike> {\n\t\treturn this.runRequest(routeId, url, options, requestData);\n\t}\n\n\t/**\n\t * The method that actually makes the request to the API, and updates info about the bucket accordingly\n\t *\n\t * @param routeId - The generalized API route with literal ids for major parameters\n\t * @param url - The fully resolved URL to make the request to\n\t * @param options - The fetch options needed to make the request\n\t * @param requestData - Extra data from the user's request needed for errors and additional processing\n\t * @param retries - The number of retries this request has already attempted (recursion)\n\t */\n\tprivate async runRequest(\n\t\trouteId: RouteData,\n\t\turl: string,\n\t\toptions: RequestInit,\n\t\trequestData: HandlerRequestData,\n\t\tretries = 0,\n\t): Promise<ResponseLike> {\n\t\tconst method = options.method ?? 'get';\n\n\t\tconst res = await makeNetworkRequest(this.manager, routeId, url, options, requestData, retries);\n\n\t\t// Retry requested\n\t\tif (res === null) {\n\t\t\t// eslint-disable-next-line no-param-reassign\n\t\t\treturn this.runRequest(routeId, url, options, requestData, ++retries);\n\t\t}\n\n\t\tconst status = res.status;\n\t\tlet retryAfter = 0;\n\t\tconst retry = res.headers.get('Retry-After');\n\n\t\t// Amount of time in milliseconds until we should retry if rate limited (globally or otherwise)\n\t\tconst offset = normalizeRateLimitOffset(this.manager.options.offset, routeId.bucketRoute);\n\t\tif (retry) retryAfter = Number(retry) * 1_000 + offset;\n\n\t\t// Count the invalid requests\n\t\tif (status === 401 || status === 403 || status === 429) {\n\t\t\tincrementInvalidCount(this.manager);\n\t\t}\n\n\t\tif (status >= 200 && status < 300) {\n\t\t\treturn res;\n\t\t} else if (status === 429) {\n\t\t\t// Unexpected ratelimit\n\t\t\tconst isGlobal = res.headers.has('X-RateLimit-Global');\n\t\t\tconst scope = (res.headers.get('X-RateLimit-Scope') ?? 'user') as RateLimitData['scope'];\n\n\t\t\tawait onRateLimit(this.manager, {\n\t\t\t\tglobal: isGlobal,\n\t\t\t\tmethod,\n\t\t\t\turl,\n\t\t\t\troute: routeId.bucketRoute,\n\t\t\t\tmajorParameter: this.majorParameter,\n\t\t\t\thash: this.hash,\n\t\t\t\tlimit: Number.POSITIVE_INFINITY,\n\t\t\t\ttimeToReset: retryAfter,\n\t\t\t\tretryAfter,\n\t\t\t\tsublimitTimeout: 0,\n\t\t\t\tscope,\n\t\t\t});\n\n\t\t\tthis.debug(\n\t\t\t\t[\n\t\t\t\t\t'Encountered unexpected 429 rate limit',\n\t\t\t\t\t`  Global         : ${isGlobal}`,\n\t\t\t\t\t`  Method         : ${method}`,\n\t\t\t\t\t`  URL            : ${url}`,\n\t\t\t\t\t`  Bucket         : ${routeId.bucketRoute}`,\n\t\t\t\t\t`  Major parameter: ${routeId.majorParameter}`,\n\t\t\t\t\t`  Hash           : ${this.hash}`,\n\t\t\t\t\t`  Limit          : ${Number.POSITIVE_INFINITY}`,\n\t\t\t\t\t`  Retry After    : ${retryAfter}ms`,\n\t\t\t\t\t`  Sublimit       : None`,\n\t\t\t\t\t`  Scope          : ${scope}`,\n\t\t\t\t].join('\\n'),\n\t\t\t);\n\n\t\t\t// We are bypassing all other limits, but an encountered limit should be respected (it's probably a non-punished rate limit anyways)\n\t\t\tawait sleep(retryAfter);\n\n\t\t\t// Since this is not a server side issue, the next request should pass, so we don't bump the retries counter\n\t\t\treturn this.runRequest(routeId, url, options, requestData, retries);\n\t\t} else {\n\t\t\tconst handled = await handleErrors(this.manager, res, method, url, requestData, retries);\n\t\t\tif (handled === null) {\n\t\t\t\t// eslint-disable-next-line no-param-reassign\n\t\t\t\treturn this.runRequest(routeId, url, options, requestData, ++retries);\n\t\t\t}\n\n\t\t\treturn handled;\n\t\t}\n\t}\n}\n","import { AsyncQueue } from '@sapphire/async-queue';\nimport type { RequestInit } from 'undici';\nimport type { REST } from '../REST.js';\nimport type { IHandler } from '../interfaces/Handler.js';\nimport { RESTEvents } from '../utils/constants.js';\nimport type { RateLimitData, ResponseLike, HandlerRequestData, RouteData } from '../utils/types.js';\nimport { hasSublimit, normalizeRateLimitOffset, onRateLimit, sleep } from '../utils/utils.js';\nimport { handleErrors, incrementInvalidCount, makeNetworkRequest } from './Shared.js';\n\nconst enum QueueType {\n\tStandard,\n\tSublimit,\n}\n\n/**\n * The structure used to handle sequential requests for a given bucket\n */\nexport class SequentialHandler implements IHandler {\n\t/**\n\t * {@inheritDoc IHandler.id}\n\t */\n\tpublic readonly id: string;\n\n\t/**\n\t * The time this rate limit bucket will reset\n\t */\n\tprivate reset = -1;\n\n\t/**\n\t * The remaining requests that can be made before we are rate limited\n\t */\n\tprivate remaining = 1;\n\n\t/**\n\t * The total number of requests that can be made before we are rate limited\n\t */\n\tprivate limit = Number.POSITIVE_INFINITY;\n\n\t/**\n\t * The interface used to sequence async requests sequentially\n\t */\n\t#asyncQueue = new AsyncQueue();\n\n\t/**\n\t * The interface used to sequence sublimited async requests sequentially\n\t */\n\t#sublimitedQueue: AsyncQueue | null = null;\n\n\t/**\n\t * A promise wrapper for when the sublimited queue is finished being processed or null when not being processed\n\t */\n\t#sublimitPromise: { promise: Promise<void>; resolve(): void } | null = null;\n\n\t/**\n\t * Whether the sublimit queue needs to be shifted in the finally block\n\t */\n\t#shiftSublimit = false;\n\n\t/**\n\t * @param manager - The request manager\n\t * @param hash - The hash that this RequestHandler handles\n\t * @param majorParameter - The major parameter for this handler\n\t */\n\tpublic constructor(\n\t\tprivate readonly manager: REST,\n\t\tprivate readonly hash: string,\n\t\tprivate readonly majorParameter: string,\n\t) {\n\t\tthis.id = `${hash}:${majorParameter}`;\n\t}\n\n\t/**\n\t * {@inheritDoc IHandler.inactive}\n\t */\n\tpublic get inactive(): boolean {\n\t\treturn (\n\t\t\tthis.#asyncQueue.remaining === 0 &&\n\t\t\t(this.#sublimitedQueue === null || this.#sublimitedQueue.remaining === 0) &&\n\t\t\t!this.limited\n\t\t);\n\t}\n\n\t/**\n\t * If the rate limit bucket is currently limited by the global limit\n\t */\n\tprivate get globalLimited(): boolean {\n\t\treturn this.manager.globalRemaining <= 0 && Date.now() < this.manager.globalReset;\n\t}\n\n\t/**\n\t * If the rate limit bucket is currently limited by its limit\n\t */\n\tprivate get localLimited(): boolean {\n\t\treturn this.remaining <= 0 && Date.now() < this.reset;\n\t}\n\n\t/**\n\t * If the rate limit bucket is currently limited\n\t */\n\tprivate get limited(): boolean {\n\t\treturn this.globalLimited || this.localLimited;\n\t}\n\n\t/**\n\t * The time until queued requests can continue\n\t */\n\tprivate getTimeToReset(routeId: RouteData): number {\n\t\tconst offset = normalizeRateLimitOffset(this.manager.options.offset, routeId.bucketRoute);\n\t\treturn this.reset + offset - Date.now();\n\t}\n\n\t/**\n\t * Emits a debug message\n\t *\n\t * @param message - The message to debug\n\t */\n\tprivate debug(message: string) {\n\t\tthis.manager.emit(RESTEvents.Debug, `[REST ${this.id}] ${message}`);\n\t}\n\n\t/**\n\t * Delay all requests for the specified amount of time, handling global rate limits\n\t *\n\t * @param time - The amount of time to delay all requests for\n\t */\n\tprivate async globalDelayFor(time: number): Promise<void> {\n\t\tawait sleep(time);\n\t\tthis.manager.globalDelay = null;\n\t}\n\n\t/**\n\t * {@inheritDoc IHandler.queueRequest}\n\t */\n\tpublic async queueRequest(\n\t\trouteId: RouteData,\n\t\turl: string,\n\t\toptions: RequestInit,\n\t\trequestData: HandlerRequestData,\n\t): Promise<ResponseLike> {\n\t\tlet queue = this.#asyncQueue;\n\t\tlet queueType = QueueType.Standard;\n\t\t// Separate sublimited requests when already sublimited\n\t\tif (this.#sublimitedQueue && hasSublimit(routeId.bucketRoute, requestData.body, options.method)) {\n\t\t\tqueue = this.#sublimitedQueue!;\n\t\t\tqueueType = QueueType.Sublimit;\n\t\t}\n\n\t\t// Wait for any previous requests to be completed before this one is run\n\t\tawait queue.wait({ signal: requestData.signal });\n\t\t// This set handles retroactively sublimiting requests\n\t\tif (queueType === QueueType.Standard) {\n\t\t\tif (this.#sublimitedQueue && hasSublimit(routeId.bucketRoute, requestData.body, options.method)) {\n\t\t\t\t/**\n\t\t\t\t * Remove the request from the standard queue, it should never be possible to get here while processing the\n\t\t\t\t * sublimit queue so there is no need to worry about shifting the wrong request\n\t\t\t\t */\n\t\t\t\tqueue = this.#sublimitedQueue!;\n\t\t\t\tconst wait = queue.wait();\n\t\t\t\tthis.#asyncQueue.shift();\n\t\t\t\tawait wait;\n\t\t\t} else if (this.#sublimitPromise) {\n\t\t\t\t// Stall requests while the sublimit queue gets processed\n\t\t\t\tawait this.#sublimitPromise.promise;\n\t\t\t}\n\t\t}\n\n\t\ttry {\n\t\t\t// Make the request, and return the results\n\t\t\treturn await this.runRequest(routeId, url, options, requestData);\n\t\t} finally {\n\t\t\t// Allow the next request to fire\n\t\t\tqueue.shift();\n\t\t\tif (this.#shiftSublimit) {\n\t\t\t\tthis.#shiftSublimit = false;\n\t\t\t\tthis.#sublimitedQueue?.shift();\n\t\t\t}\n\n\t\t\t// If this request is the last request in a sublimit\n\t\t\tif (this.#sublimitedQueue?.remaining === 0) {\n\t\t\t\tthis.#sublimitPromise?.resolve();\n\t\t\t\tthis.#sublimitedQueue = null;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * The method that actually makes the request to the api, and updates info about the bucket accordingly\n\t *\n\t * @param routeId - The generalized api route with literal ids for major parameters\n\t * @param url - The fully resolved url to make the request to\n\t * @param options - The fetch options needed to make the request\n\t * @param requestData - Extra data from the user's request needed for errors and additional processing\n\t * @param retries - The number of retries this request has already attempted (recursion)\n\t */\n\tprivate async runRequest(\n\t\trouteId: RouteData,\n\t\turl: string,\n\t\toptions: RequestInit,\n\t\trequestData: HandlerRequestData,\n\t\tretries = 0,\n\t): Promise<ResponseLike> {\n\t\t/*\n\t\t * After calculations have been done, pre-emptively stop further requests\n\t\t * Potentially loop until this task can run if e.g. the global rate limit is hit twice\n\t\t */\n\t\twhile (this.limited) {\n\t\t\tconst isGlobal = this.globalLimited;\n\t\t\tlet limit: number;\n\t\t\tlet timeout: number;\n\t\t\tlet delay: Promise<void>;\n\n\t\t\tif (isGlobal) {\n\t\t\t\tconst offset = normalizeRateLimitOffset(this.manager.options.offset, routeId.bucketRoute);\n\n\t\t\t\t// Set RateLimitData based on the global limit\n\t\t\t\tlimit = this.manager.options.globalRequestsPerSecond;\n\t\t\t\ttimeout = this.manager.globalReset + offset - Date.now();\n\t\t\t\t// If this is the first task to reach the global timeout, set the global delay\n\t\t\t\tif (!this.manager.globalDelay) {\n\t\t\t\t\t// The global delay function clears the global delay state when it is resolved\n\t\t\t\t\tthis.manager.globalDelay = this.globalDelayFor(timeout);\n\t\t\t\t}\n\n\t\t\t\tdelay = this.manager.globalDelay;\n\t\t\t} else {\n\t\t\t\t// Set RateLimitData based on the route-specific limit\n\t\t\t\tlimit = this.limit;\n\t\t\t\ttimeout = this.getTimeToReset(routeId);\n\t\t\t\tdelay = sleep(timeout);\n\t\t\t}\n\n\t\t\tconst rateLimitData: RateLimitData = {\n\t\t\t\tglobal: isGlobal,\n\t\t\t\tmethod: options.method ?? 'get',\n\t\t\t\turl,\n\t\t\t\troute: routeId.bucketRoute,\n\t\t\t\tmajorParameter: this.majorParameter,\n\t\t\t\thash: this.hash,\n\t\t\t\tlimit,\n\t\t\t\ttimeToReset: timeout,\n\t\t\t\tretryAfter: timeout,\n\t\t\t\tsublimitTimeout: 0,\n\t\t\t\tscope: 'user',\n\t\t\t};\n\n\t\t\t// Let library users know they have hit a rate limit\n\t\t\tthis.manager.emit(RESTEvents.RateLimited, rateLimitData);\n\t\t\t// Determine whether a RateLimitError should be thrown\n\t\t\tawait onRateLimit(this.manager, rateLimitData);\n\n\t\t\t// When not erroring, emit debug for what is happening\n\t\t\tif (isGlobal) {\n\t\t\t\tthis.debug(`Global rate limit hit, blocking all requests for ${timeout}ms`);\n\t\t\t} else {\n\t\t\t\tthis.debug(`Waiting ${timeout}ms for rate limit to pass`);\n\t\t\t}\n\n\t\t\t// Wait the remaining time left before the rate limit resets\n\t\t\tawait delay;\n\t\t}\n\n\t\t// As the request goes out, update the global usage information\n\t\tif (!this.manager.globalReset || this.manager.globalReset < Date.now()) {\n\t\t\tthis.manager.globalReset = Date.now() + 1_000;\n\t\t\tthis.manager.globalRemaining = this.manager.options.globalRequestsPerSecond;\n\t\t}\n\n\t\tthis.manager.globalRemaining--;\n\n\t\tconst method = options.method ?? 'get';\n\n\t\tconst res = await makeNetworkRequest(this.manager, routeId, url, options, requestData, retries);\n\n\t\t// Retry requested\n\t\tif (res === null) {\n\t\t\t// eslint-disable-next-line no-param-reassign\n\t\t\treturn this.runRequest(routeId, url, options, requestData, ++retries);\n\t\t}\n\n\t\tconst status = res.status;\n\t\tlet retryAfter = 0;\n\n\t\tconst limit = res.headers.get('X-RateLimit-Limit');\n\t\tconst remaining = res.headers.get('X-RateLimit-Remaining');\n\t\tconst reset = res.headers.get('X-RateLimit-Reset-After');\n\t\tconst hash = res.headers.get('X-RateLimit-Bucket');\n\t\tconst retry = res.headers.get('Retry-After');\n\t\tconst scope = (res.headers.get('X-RateLimit-Scope') ?? 'user') as RateLimitData['scope'];\n\n\t\tconst offset = normalizeRateLimitOffset(this.manager.options.offset, routeId.bucketRoute);\n\n\t\t// Update the total number of requests that can be made before the rate limit resets\n\t\tthis.limit = limit ? Number(limit) : Number.POSITIVE_INFINITY;\n\t\t// Update the number of remaining requests that can be made before the rate limit resets\n\t\tthis.remaining = remaining ? Number(remaining) : 1;\n\t\t// Update the time when this rate limit resets (reset-after is in seconds)\n\t\tthis.reset = reset ? Number(reset) * 1_000 + Date.now() + offset : Date.now();\n\n\t\t// Amount of time in milliseconds until we should retry if rate limited (globally or otherwise)\n\t\tif (retry) retryAfter = Number(retry) * 1_000 + offset;\n\n\t\t// Handle buckets via the hash header retroactively\n\t\tif (hash && hash !== this.hash) {\n\t\t\t// Let library users know when rate limit buckets have been updated\n\t\t\tthis.debug(['Received bucket hash update', `  Old Hash  : ${this.hash}`, `  New Hash  : ${hash}`].join('\\n'));\n\t\t\t// This queue will eventually be eliminated via attrition\n\t\t\tthis.manager.hashes.set(`${method}:${routeId.bucketRoute}`, { value: hash, lastAccess: Date.now() });\n\t\t} else if (hash) {\n\t\t\t// Handle the case where hash value doesn't change\n\t\t\t// Fetch the hash data from the manager\n\t\t\tconst hashData = this.manager.hashes.get(`${method}:${routeId.bucketRoute}`);\n\n\t\t\t// When fetched, update the last access of the hash\n\t\t\tif (hashData) {\n\t\t\t\thashData.lastAccess = Date.now();\n\t\t\t}\n\t\t}\n\n\t\t// Handle retryAfter, which means we have actually hit a rate limit\n\t\tlet sublimitTimeout: number | null = null;\n\t\tif (retryAfter > 0) {\n\t\t\tif (res.headers.has('X-RateLimit-Global')) {\n\t\t\t\tthis.manager.globalRemaining = 0;\n\t\t\t\tthis.manager.globalReset = Date.now() + retryAfter;\n\t\t\t} else if (!this.localLimited) {\n\t\t\t\t/*\n\t\t\t\t * This is a sublimit (e.g. 2 channel name changes/10 minutes) since the headers don't indicate a\n\t\t\t\t * route-wide rate limit. Don't update remaining or reset to avoid rate limiting the whole\n\t\t\t\t * endpoint, just set a reset time on the request itself to avoid retrying too soon.\n\t\t\t\t */\n\t\t\t\tsublimitTimeout = retryAfter;\n\t\t\t}\n\t\t}\n\n\t\t// Count the invalid requests\n\t\tif (status === 401 || status === 403 || status === 429) {\n\t\t\tincrementInvalidCount(this.manager);\n\t\t}\n\n\t\tif (res.ok) {\n\t\t\treturn res;\n\t\t} else if (status === 429) {\n\t\t\t// A rate limit was hit - this may happen if the route isn't associated with an official bucket hash yet, or when first globally rate limited\n\t\t\tconst isGlobal = this.globalLimited;\n\t\t\tlet limit: number;\n\t\t\tlet timeout: number;\n\n\t\t\tif (isGlobal) {\n\t\t\t\tconst offset = normalizeRateLimitOffset(this.manager.options.offset, routeId.bucketRoute);\n\n\t\t\t\t// Set RateLimitData based on the global limit\n\t\t\t\tlimit = this.manager.options.globalRequestsPerSecond;\n\t\t\t\ttimeout = this.manager.globalReset + offset - Date.now();\n\t\t\t} else {\n\t\t\t\t// Set RateLimitData based on the route-specific limit\n\t\t\t\tlimit = this.limit;\n\t\t\t\ttimeout = this.getTimeToReset(routeId);\n\t\t\t}\n\n\t\t\tawait onRateLimit(this.manager, {\n\t\t\t\tglobal: isGlobal,\n\t\t\t\tmethod,\n\t\t\t\turl,\n\t\t\t\troute: routeId.bucketRoute,\n\t\t\t\tmajorParameter: this.majorParameter,\n\t\t\t\thash: this.hash,\n\t\t\t\tlimit,\n\t\t\t\ttimeToReset: timeout,\n\t\t\t\tretryAfter,\n\t\t\t\tsublimitTimeout: sublimitTimeout ?? 0,\n\t\t\t\tscope,\n\t\t\t});\n\n\t\t\tthis.debug(\n\t\t\t\t[\n\t\t\t\t\t'Encountered unexpected 429 rate limit',\n\t\t\t\t\t`  Global         : ${isGlobal.toString()}`,\n\t\t\t\t\t`  Method         : ${method}`,\n\t\t\t\t\t`  URL            : ${url}`,\n\t\t\t\t\t`  Bucket         : ${routeId.bucketRoute}`,\n\t\t\t\t\t`  Major parameter: ${routeId.majorParameter}`,\n\t\t\t\t\t`  Hash           : ${this.hash}`,\n\t\t\t\t\t`  Limit          : ${limit}`,\n\t\t\t\t\t`  Retry After    : ${retryAfter}ms`,\n\t\t\t\t\t`  Sublimit       : ${sublimitTimeout ? `${sublimitTimeout}ms` : 'None'}`,\n\t\t\t\t\t`  Scope          : ${scope}`,\n\t\t\t\t].join('\\n'),\n\t\t\t);\n\n\t\t\t// If caused by a sublimit, wait it out here so other requests on the route can be handled\n\t\t\tif (sublimitTimeout) {\n\t\t\t\t// Normally the sublimit queue will not exist, however, if a sublimit is hit while in the sublimit queue, it will\n\t\t\t\tconst firstSublimit = !this.#sublimitedQueue;\n\t\t\t\tif (firstSublimit) {\n\t\t\t\t\tthis.#sublimitedQueue = new AsyncQueue();\n\t\t\t\t\tvoid this.#sublimitedQueue.wait();\n\t\t\t\t\tthis.#asyncQueue.shift();\n\t\t\t\t}\n\n\t\t\t\tthis.#sublimitPromise?.resolve();\n\t\t\t\tthis.#sublimitPromise = null;\n\t\t\t\tawait sleep(sublimitTimeout);\n\t\t\t\tlet resolve: () => void;\n\t\t\t\t// eslint-disable-next-line promise/param-names, no-promise-executor-return\n\t\t\t\tconst promise = new Promise<void>((res) => (resolve = res));\n\t\t\t\tthis.#sublimitPromise = { promise, resolve: resolve! };\n\t\t\t\tif (firstSublimit) {\n\t\t\t\t\t// Re-queue this request so it can be shifted by the finally\n\t\t\t\t\tawait this.#asyncQueue.wait();\n\t\t\t\t\tthis.#shiftSublimit = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Since this is not a server side issue, the next request should pass, so we don't bump the retries counter\n\t\t\treturn this.runRequest(routeId, url, options, requestData, retries);\n\t\t} else {\n\t\t\tconst handled = await handleErrors(this.manager, res, method, url, requestData, retries);\n\t\t\tif (handled === null) {\n\t\t\t\t// eslint-disable-next-line no-param-reassign\n\t\t\t\treturn this.runRequest(routeId, url, options, requestData, ++retries);\n\t\t\t}\n\n\t\t\treturn handled;\n\t\t}\n\t}\n}\n","export * from './lib/CDN.js';\nexport * from './lib/errors/DiscordAPIError.js';\nexport * from './lib/errors/HTTPError.js';\nexport * from './lib/errors/RateLimitError.js';\nexport * from './lib/REST.js';\nexport * from './lib/utils/constants.js';\nexport * from './lib/utils/types.js';\nexport { calculateUserDefaultAvatarIndex, makeURLSearchParams, parseResponse } from './lib/utils/utils.js';\n\n/**\n * The {@link https://github.com/discordjs/discord.js/blob/main/packages/rest#readme | @discordjs/rest} version\n * that you are currently using.\n */\n// This needs to explicitly be `string` so it is not typed as a \"const string\" that gets injected by esbuild\nexport const version = '2.6.0' as string;\n"],"names":["Blob","FormData","URLSearchParams","URLSearchParams","RESTEvents","RequestMethod","limit","offset","res","request","FormData","Blob"],"mappings":"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","debugId":null}}]
}